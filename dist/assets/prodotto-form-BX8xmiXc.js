import{aJ as qo,aK as Go,r as g,aL as ut,aM as R,aN as Qo,aO as Xo,_ as le,ax as vt,aP as ea,o as v,k as Se,l as Ce,s as ee,x as Nt,aQ as Zo,u as Ln,aR as ln,au as Le,j as s,z as ye,E as Ie,aS as kr,aD as ir,m as mt,a6 as Jo,t as ta,A as at,aT as bn,aU as es,T as xe,aV as ts,w as Fn,y as ot,aj as qt,aW as ne,at as ns,aX as ar,aY as Sn,aZ as rs,a_ as as,a$ as os,b0 as ss,a7 as Xe,ak as na,a8 as Ke,c as _e,a as $n,b1 as is,b2 as ls,b3 as Me,b4 as zn,b5 as cs,b6 as ve,b7 as jn,h as ke,b8 as us,b9 as ds,ba as fs,bb as ps,U as ra,a4 as ht,q as ft,bc as aa,ac as ct,ad as Ct,bd as ms,R as je,be as oa,bf as nt,bg as xt,ay as sa,bh as Mr,aA as ia,a0 as la,a1 as $e,I as we,P as ca,N as ua,O as da,Q as rt,a9 as Kt,bi as Ne,bj as hs,bk as gs,aa as Bn,ag as dn,G as ce,ae as Et,B as de,a5 as fa,bl as pa,bm as ma,ab as it,az as bs,bn as ha,bo as On,bp as ga,bq as ba,br as xa,bs as va,bt as ya,bu as Ia,bv as xs,bw as wa,a2 as Sa,bx as Ca,by as Tr,f as vs,ao as er,M as Cn}from"./index-DXEjXkez.js";import{R as jr}from"./quill.snow-BZ8VsIS9.js";import{u as ys}from"./useGetTags-CXGUoUDx.js";import{P as lr,C as xn,A as Is}from"./Autocomplete-Xo0vid0L.js";function ws(e,t,n,r,a){const[o,i]=g.useState(()=>a&&n?n(e).matches:r?r(e).matches:t);return ut(()=>{let c=!0;if(!n)return;const l=n(e),d=()=>{c&&i(l.matches)};return d(),l.addListener(d),()=>{c=!1,l.removeListener(d)}},[e,n]),o}const Pa=g.useSyncExternalStore;function Ss(e,t,n,r,a){const o=g.useCallback(()=>t,[t]),i=g.useMemo(()=>{if(a&&n)return()=>n(e).matches;if(r!==null){const{matches:u}=r(e);return()=>u}return o},[o,e,r,a,n]),[c,l]=g.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const u=n(e);return[()=>u.matches,f=>(u.addListener(f),()=>{u.removeListener(f)})]},[o,n,e]);return Pa(l,c,i)}function Da(e,t={}){const n=qo(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:a=!1,matchMedia:o=r?window.matchMedia:null,ssrMatchMedia:i=null,noSsr:c=!1}=Go({name:"MuiUseMediaQuery",props:t,theme:n});let l=typeof e=="function"?e(n):e;return l=l.replace(/^@media( ?)/m,""),(Pa!==void 0?Ss:ws)(l,a,o,i,c)}const ka=R.oneOfType([R.func,R.object]),Cs={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Ps(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Ds(e,t){e.classList?e.classList.add(t):Ps(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Rr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ks(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Rr(e.className,t):e.setAttribute("class",Rr(e.className&&e.className.baseVal||"",t))}var Ms=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return Ds(t,r)})},tr=function(t,n){return t&&n&&n.split(" ").forEach(function(r){return ks(t,r)})},cr=function(e){Qo(t,e);function t(){for(var r,a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,l){var d=r.resolveArguments(c,l),u=d[0],f=d[1];r.removeClasses(u,"exit"),r.addClass(u,f?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,l)},r.onEntering=function(c,l){var d=r.resolveArguments(c,l),u=d[0],f=d[1],p=f?"appear":"enter";r.addClass(u,p,"active"),r.props.onEntering&&r.props.onEntering(c,l)},r.onEntered=function(c,l){var d=r.resolveArguments(c,l),u=d[0],f=d[1],p=f?"appear":"enter";r.removeClasses(u,p),r.addClass(u,p,"done"),r.props.onEntered&&r.props.onEntered(c,l)},r.onExit=function(c){var l=r.resolveArguments(c),d=l[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var l=r.resolveArguments(c),d=l[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var l=r.resolveArguments(c),d=l[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,l){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,l]},r.getClassNames=function(c){var l=r.props.classNames,d=typeof l=="string",u=d&&l?l+"-":"",f=d?""+u+c:l[c],p=d?f+"-active":l[c+"Active"],y=d?f+"-done":l[c+"Done"];return{baseClassName:f,activeClassName:p,doneClassName:y}},r}var n=t.prototype;return n.addClass=function(a,o,i){var c=this.getClassNames(o)[i+"ClassName"],l=this.getClassNames("enter"),d=l.doneClassName;o==="appear"&&i==="done"&&d&&(c+=" "+d),i==="active"&&a&&Xo(a),c&&(this.appliedClasses[o][i]=c,Ms(a,c))},n.removeClasses=function(a,o){var i=this.appliedClasses[o],c=i.base,l=i.active,d=i.done;this.appliedClasses[o]={},c&&tr(a,c),l&&tr(a,l),d&&tr(a,d)},n.render=function(){var a=this.props;a.classNames;var o=le(a,["classNames"]);return vt.createElement(ea,v({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(vt.Component);cr.defaultProps={classNames:""};cr.propTypes={};function Ts(e){return Se("MuiCollapse",e)}Ce("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const js=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],Rs=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Ie(r,Ts,n)},Vs=ee("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>v({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&v({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),Es=ee("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>v({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),As=ee("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>v({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),ur=g.forwardRef(function(t,n){const r=Nt({props:t,name:"MuiCollapse"}),{addEndListener:a,children:o,className:i,collapsedSize:c="0px",component:l,easing:d,in:u,onEnter:f,onEntered:p,onEntering:y,onExit:h,onExited:x,onExiting:m,orientation:b="vertical",style:I,timeout:S=Zo.standard,TransitionComponent:D=ea}=r,C=le(r,js),k=v({},r,{orientation:b,collapsedSize:c}),P=Rs(k),w=Ln(),F=ln(),N=g.useRef(null),M=g.useRef(),A=typeof c=="number"?`${c}px`:c,B=b==="horizontal",T=B?"width":"height",E=g.useRef(null),j=Le(n,E),L=W=>Y=>{if(W){const $=E.current;Y===void 0?W($):W($,Y)}},U=()=>N.current?N.current[B?"clientWidth":"clientHeight"]:0,J=L((W,Y)=>{N.current&&B&&(N.current.style.position="absolute"),W.style[T]=A,f&&f(W,Y)}),ae=L((W,Y)=>{const $=U();N.current&&B&&(N.current.style.position="");const{duration:_,easing:X}=kr({style:I,timeout:S,easing:d},{mode:"enter"});if(S==="auto"){const oe=w.transitions.getAutoHeightDuration($);W.style.transitionDuration=`${oe}ms`,M.current=oe}else W.style.transitionDuration=typeof _=="string"?_:`${_}ms`;W.style[T]=`${$}px`,W.style.transitionTimingFunction=X,y&&y(W,Y)}),Q=L((W,Y)=>{W.style[T]="auto",p&&p(W,Y)}),se=L(W=>{W.style[T]=`${U()}px`,h&&h(W)}),pe=L(x),fe=L(W=>{const Y=U(),{duration:$,easing:_}=kr({style:I,timeout:S,easing:d},{mode:"exit"});if(S==="auto"){const X=w.transitions.getAutoHeightDuration(Y);W.style.transitionDuration=`${X}ms`,M.current=X}else W.style.transitionDuration=typeof $=="string"?$:`${$}ms`;W.style[T]=A,W.style.transitionTimingFunction=_,m&&m(W)}),H=W=>{S==="auto"&&F.start(M.current||0,W),a&&a(E.current,W)};return s.jsx(D,v({in:u,onEnter:J,onEntered:Q,onEntering:ae,onExit:se,onExited:pe,onExiting:fe,addEndListener:H,nodeRef:E,timeout:S==="auto"?null:S},C,{children:(W,Y)=>s.jsx(Vs,v({as:l,className:ye(P.root,i,{entered:P.entered,exited:!u&&A==="0px"&&P.hidden}[W]),style:v({[B?"minWidth":"minHeight"]:A},I),ref:j},Y,{ownerState:v({},k,{state:W}),children:s.jsx(Es,{ownerState:v({},k,{state:W}),className:P.wrapper,ref:N,children:s.jsx(As,{ownerState:v({},k,{state:W}),className:P.wrapperInner,children:o})})}))}))});ur.muiSupportAuto=!0;const Ma=g.createContext({});function Fs(e){return Se("MuiAccordion",e)}const Pn=Ce("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Os=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Ns=e=>{const{classes:t,square:n,expanded:r,disabled:a,disableGutters:o}=e;return Ie({root:["root",!n&&"rounded",r&&"expanded",a&&"disabled",!o&&"gutters"],region:["region"]},Fs,t)},Ls=ee(ir,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Pn.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Pn.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Pn.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}},({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${Pn.expanded}`]:{margin:"16px 0"}}}]})),yt=g.forwardRef(function(t,n){const r=Nt({props:t,name:"MuiAccordion"}),{children:a,className:o,defaultExpanded:i=!1,disabled:c=!1,disableGutters:l=!1,expanded:d,onChange:u,square:f=!1,slots:p={},slotProps:y={},TransitionComponent:h,TransitionProps:x}=r,m=le(r,Os),[b,I]=mt({controlled:d,default:i,name:"Accordion",state:"expanded"}),S=g.useCallback(B=>{I(!b),u&&u(B,!b)},[b,u,I]),[D,...C]=g.Children.toArray(a),k=g.useMemo(()=>({expanded:b,disabled:c,disableGutters:l,toggle:S}),[b,c,l,S]),P=v({},r,{square:f,disabled:c,disableGutters:l,expanded:b}),w=Ns(P),F=v({transition:h},p),N=v({transition:x},y),[M,A]=Jo("transition",{elementType:ur,externalForwardedProps:{slots:F,slotProps:N},ownerState:P});return s.jsxs(Ls,v({className:ye(w.root,o),ref:n,ownerState:P,square:f},m,{children:[s.jsx(Ma.Provider,{value:k,children:D}),s.jsx(M,v({in:b,timeout:"auto"},A,{children:s.jsx("div",{"aria-labelledby":D.props.id,id:D.props["aria-controls"],role:"region",className:w.region,children:C})}))]}))});function $s(e){return Se("MuiAccordionDetails",e)}Ce("MuiAccordionDetails",["root"]);const zs=["className"],Bs=e=>{const{classes:t}=e;return Ie({root:["root"]},$s,t)},_s=ee("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({padding:e.spacing(1,2,2)})),It=g.forwardRef(function(t,n){const r=Nt({props:t,name:"MuiAccordionDetails"}),{className:a}=r,o=le(r,zs),i=r,c=Bs(i);return s.jsx(_s,v({className:ye(c.root,a),ref:n,ownerState:i},o))});function Ws(e){return Se("MuiAccordionSummary",e)}const zt=Ce("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Us=["children","className","expandIcon","focusVisibleClassName","onClick"],Hs=e=>{const{classes:t,expanded:n,disabled:r,disableGutters:a}=e;return Ie({root:["root",n&&"expanded",r&&"disabled",!a&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!a&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Ws,t)},Ys=ee(ta,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${zt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${zt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${zt.disabled})`]:{cursor:"pointer"},variants:[{props:n=>!n.disableGutters,style:{[`&.${zt.expanded}`]:{minHeight:64}}}]}}),Ks=ee("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e})=>({display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${zt.expanded}`]:{margin:"20px 0"}}}]})),qs=ee("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${zt.expanded}`]:{transform:"rotate(180deg)"}})),wt=g.forwardRef(function(t,n){const r=Nt({props:t,name:"MuiAccordionSummary"}),{children:a,className:o,expandIcon:i,focusVisibleClassName:c,onClick:l}=r,d=le(r,Us),{disabled:u=!1,disableGutters:f,expanded:p,toggle:y}=g.useContext(Ma),h=b=>{y&&y(b),l&&l(b)},x=v({},r,{expanded:p,disabled:u,disableGutters:f}),m=Hs(x);return s.jsxs(Ys,v({focusRipple:!1,disableRipple:!0,disabled:u,component:"div","aria-expanded":p,className:ye(m.root,o),focusVisibleClassName:ye(m.focusVisible,c),onClick:h,ref:n,ownerState:x},d,{children:[s.jsx(Ks,{className:m.content,ownerState:x,children:a}),i&&s.jsx(qs,{className:m.expandIconWrapper,ownerState:x,children:i})]}))});function Gs(e){return Se("MuiFormControlLabel",e)}const cn=Ce("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Qs=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],Xs=e=>{const{classes:t,disabled:n,labelPlacement:r,error:a,required:o}=e,i={root:["root",n&&"disabled",`labelPlacement${at(r)}`,a&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",a&&"error"]};return Ie(i,Gs,t)},Zs=ee("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${cn.label}`]:t.label},t.root,t[`labelPlacement${at(n.labelPlacement)}`]]}})(({theme:e,ownerState:t})=>v({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${cn.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${cn.label}`]:{[`&.${cn.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),Js=ee("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${cn.error}`]:{color:(e.vars||e).palette.error.main}})),Rn=g.forwardRef(function(t,n){var r,a;const o=Nt({props:t,name:"MuiFormControlLabel"}),{className:i,componentsProps:c={},control:l,disabled:d,disableTypography:u,label:f,labelPlacement:p="end",required:y,slotProps:h={}}=o,x=le(o,Qs),m=bn(),b=(r=d??l.props.disabled)!=null?r:m==null?void 0:m.disabled,I=y??l.props.required,S={disabled:b,required:I};["checked","name","onChange","value","inputRef"].forEach(F=>{typeof l.props[F]>"u"&&typeof o[F]<"u"&&(S[F]=o[F])});const D=es({props:o,muiFormControl:m,states:["error"]}),C=v({},o,{disabled:b,labelPlacement:p,required:I,error:D.error}),k=Xs(C),P=(a=h.typography)!=null?a:c.typography;let w=f;return w!=null&&w.type!==xe&&!u&&(w=s.jsx(xe,v({component:"span"},P,{className:ye(k.label,P==null?void 0:P.className),children:w}))),s.jsxs(Zs,v({className:ye(k.root,i),ownerState:C,ref:n},x,{children:[g.cloneElement(l,S),I?s.jsxs(ts,{display:"block",children:[w,s.jsxs(Js,{ownerState:C,"aria-hidden":!0,className:k.asterisk,children:[" ","*"]})]}):w]}))});function ei(e){return Se("MuiTooltip",e)}const Pt=Ce("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),ti=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function ni(e){return Math.round(e*1e5)/1e5}const ri=e=>{const{classes:t,disableInteractive:n,arrow:r,touch:a,placement:o}=e,i={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",a&&"touch",`tooltipPlacement${at(o.split("-")[0])}`],arrow:["arrow"]};return Ie(i,ei,t)},ai=ee(lr,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(({theme:e,ownerState:t,open:n})=>v({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${Pt.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Pt.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Pt.arrow}`]:v({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Pt.arrow}`]:v({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),oi=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${at(n.placement.split("-")[0])}`]]}})(({theme:e,ownerState:t})=>v({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:Fn(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${ni(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${Pt.popper}[data-popper-placement*="left"] &`]:v({transformOrigin:"right center"},t.isRtl?v({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):v({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${Pt.popper}[data-popper-placement*="right"] &`]:v({transformOrigin:"left center"},t.isRtl?v({marginRight:"14px"},t.touch&&{marginRight:"24px"}):v({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${Pt.popper}[data-popper-placement*="top"] &`]:v({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${Pt.popper}[data-popper-placement*="bottom"] &`]:v({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})})),si=ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})(({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:Fn(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Dn=!1;const Vr=new rs;let tn={x:0,y:0};function kn(e,t){return(n,...r)=>{t&&t(n,...r),e(n,...r)}}const Er=g.forwardRef(function(t,n){var r,a,o,i,c,l,d,u,f,p,y,h,x,m,b,I,S,D,C;const k=Nt({props:t,name:"MuiTooltip"}),{arrow:P=!1,children:w,components:F={},componentsProps:N={},describeChild:M=!1,disableFocusListener:A=!1,disableHoverListener:B=!1,disableInteractive:T=!1,disableTouchListener:E=!1,enterDelay:j=100,enterNextDelay:L=0,enterTouchDelay:U=700,followCursor:J=!1,id:ae,leaveDelay:Q=0,leaveTouchDelay:se=1500,onClose:pe,onOpen:fe,open:H,placement:W="bottom",PopperComponent:Y,PopperProps:$={},slotProps:_={},slots:X={},title:oe,TransitionComponent:re=ar,TransitionProps:O}=k,q=le(k,ti),te=g.isValidElement(w)?w:s.jsx("span",{children:w}),G=Ln(),z=ot(),[V,Z]=g.useState(),[ie,Pe]=g.useState(null),ue=g.useRef(!1),me=T||J,Ee=ln(),Ae=ln(),K=ln(),he=ln(),[Re,Fe]=mt({controlled:H,default:!1,name:"Tooltip",state:"open"});let Ve=Re;const ze=qt(ae),Be=g.useRef(),qe=ne(()=>{Be.current!==void 0&&(document.body.style.WebkitUserSelect=Be.current,Be.current=void 0),he.clear()});g.useEffect(()=>qe,[qe]);const kt=be=>{Vr.clear(),Dn=!0,Fe(!0),fe&&!Ve&&fe(be)},Ze=ne(be=>{Vr.start(800+Q,()=>{Dn=!1}),Fe(!1),pe&&Ve&&pe(be),Ee.start(G.transitions.duration.shortest,()=>{ue.current=!1})}),Je=be=>{ue.current&&be.type!=="touchstart"||(V&&V.removeAttribute("title"),Ae.clear(),K.clear(),j||Dn&&L?Ae.start(Dn?L:j,()=>{kt(be)}):kt(be))},st=be=>{Ae.clear(),K.start(Q,()=>{Ze(be)})},{isFocusVisibleRef:Mt,onBlur:De,onFocus:We,ref:ge}=ns(),[,Oe]=g.useState(!1),bt=be=>{De(be),Mt.current===!1&&(Oe(!1),st(be))},Qt=be=>{V||Z(be.currentTarget),We(be),Mt.current===!0&&(Oe(!0),Je(be))},Xt=be=>{ue.current=!0;const Ye=te.props;Ye.onTouchStart&&Ye.onTouchStart(be)},$o=be=>{Xt(be),K.clear(),Ee.clear(),qe(),Be.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",he.start(U,()=>{document.body.style.WebkitUserSelect=Be.current,Je(be)})},zo=be=>{te.props.onTouchEnd&&te.props.onTouchEnd(be),qe(),K.start(se,()=>{Ze(be)})};g.useEffect(()=>{if(!Ve)return;function be(Ye){(Ye.key==="Escape"||Ye.key==="Esc")&&Ze(Ye)}return document.addEventListener("keydown",be),()=>{document.removeEventListener("keydown",be)}},[Ze,Ve]);const Bo=Le(te.ref,ge,Z,n);!oe&&oe!==0&&(Ve=!1);const Xn=g.useRef(),_o=be=>{const Ye=te.props;Ye.onMouseMove&&Ye.onMouseMove(be),tn={x:be.clientX,y:be.clientY},Xn.current&&Xn.current.update()},Zt={},Zn=typeof oe=="string";M?(Zt.title=!Ve&&Zn&&!B?oe:null,Zt["aria-describedby"]=Ve?ze:null):(Zt["aria-label"]=Zn?oe:null,Zt["aria-labelledby"]=Ve&&!Zn?ze:null);const et=v({},Zt,q,te.props,{className:ye(q.className,te.props.className),onTouchStart:Xt,ref:Bo},J?{onMouseMove:_o}:{}),Jt={};E||(et.onTouchStart=$o,et.onTouchEnd=zo),B||(et.onMouseOver=kn(Je,et.onMouseOver),et.onMouseLeave=kn(st,et.onMouseLeave),me||(Jt.onMouseOver=Je,Jt.onMouseLeave=st)),A||(et.onFocus=kn(Qt,et.onFocus),et.onBlur=kn(bt,et.onBlur),me||(Jt.onFocus=Qt,Jt.onBlur=bt));const Wo=g.useMemo(()=>{var be;let Ye=[{name:"arrow",enabled:!!ie,options:{element:ie,padding:4}}];return(be=$.popperOptions)!=null&&be.modifiers&&(Ye=Ye.concat($.popperOptions.modifiers)),v({},$.popperOptions,{modifiers:Ye})},[ie,$]),en=v({},k,{isRtl:z,arrow:P,disableInteractive:me,placement:W,PopperComponentProp:Y,touch:ue.current}),Jn=ri(en),Sr=(r=(a=X.popper)!=null?a:F.Popper)!=null?r:ai,Cr=(o=(i=(c=X.transition)!=null?c:F.Transition)!=null?i:re)!=null?o:ar,Pr=(l=(d=X.tooltip)!=null?d:F.Tooltip)!=null?l:oi,Dr=(u=(f=X.arrow)!=null?f:F.Arrow)!=null?u:si,Uo=Sn(Sr,v({},$,(p=_.popper)!=null?p:N.popper,{className:ye(Jn.popper,$==null?void 0:$.className,(y=(h=_.popper)!=null?h:N.popper)==null?void 0:y.className)}),en),Ho=Sn(Cr,v({},O,(x=_.transition)!=null?x:N.transition),en),Yo=Sn(Pr,v({},(m=_.tooltip)!=null?m:N.tooltip,{className:ye(Jn.tooltip,(b=(I=_.tooltip)!=null?I:N.tooltip)==null?void 0:b.className)}),en),Ko=Sn(Dr,v({},(S=_.arrow)!=null?S:N.arrow,{className:ye(Jn.arrow,(D=(C=_.arrow)!=null?C:N.arrow)==null?void 0:D.className)}),en);return s.jsxs(g.Fragment,{children:[g.cloneElement(te,et),s.jsx(Sr,v({as:Y??lr,placement:W,anchorEl:J?{getBoundingClientRect:()=>({top:tn.y,left:tn.x,right:tn.x,bottom:tn.y,width:0,height:0})}:V,popperRef:Xn,open:V?Ve:!1,id:ze,transition:!0},Jt,Uo,{popperOptions:Wo,children:({TransitionProps:be})=>s.jsx(Cr,v({timeout:G.transitions.duration.shorter},be,Ho,{children:s.jsxs(Pr,v({},Yo,{children:[oe,P?s.jsx(Dr,v({},Ko,{ref:Pe})):null]}))}))}))]})});function ii(e){return Se("MuiSwitch",e)}const Ue=Ce("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),li=["className","color","edge","size","sx"],ci=e=>{const{classes:t,edge:n,size:r,color:a,checked:o,disabled:i}=e,c={root:["root",n&&`edge${at(n)}`,`size${at(r)}`],switchBase:["switchBase",`color${at(a)}`,o&&"checked",i&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Ie(c,ii,t);return v({},t,l)},ui=ee("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t[`edge${at(n.edge)}`],t[`size${at(n.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${Ue.thumb}`]:{width:16,height:16},[`& .${Ue.switchBase}`]:{padding:4,[`&.${Ue.checked}`]:{transform:"translateX(16px)"}}}}]}),di=ee(as,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{[`& .${Ue.input}`]:t.input},n.color!=="default"&&t[`color${at(n.color)}`]]}})(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${Ue.checked}`]:{transform:"translateX(20px)"},[`&.${Ue.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${Ue.checked} + .${Ue.track}`]:{opacity:.5},[`&.${Ue.disabled} + .${Ue.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${Ue.input}`]:{left:"-100%",width:"300%"}}),({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Fn(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{color:t},style:{[`&.${Ue.checked}`]:{color:(e.vars||e).palette[t].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Fn(e.palette[t].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ue.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${t}DisabledColor`]:`${e.palette.mode==="light"?os(e.palette[t].main,.62):ss(e.palette[t].main,.55)}`}},[`&.${Ue.checked} + .${Ue.track}`]:{backgroundColor:(e.vars||e).palette[t].main}}}))]})),fi=ee("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`})),pi=ee("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),_t=g.forwardRef(function(t,n){const r=Nt({props:t,name:"MuiSwitch"}),{className:a,color:o="primary",edge:i=!1,size:c="medium",sx:l}=r,d=le(r,li),u=v({},r,{color:o,edge:i,size:c}),f=ci(u),p=s.jsx(pi,{className:f.thumb,ownerState:u});return s.jsxs(ui,{className:ye(f.root,a),sx:l,ownerState:u,children:[s.jsx(di,v({type:"checkbox",icon:p,checkedIcon:p,ref:n,ownerState:u},d,{classes:v({},f,{root:f.switchBase})})),s.jsx(fi,{className:f.track,ownerState:u})]})}),mi=e=>{const t=Xe(),n=na();return Ke({mutationFn:async({force:r})=>{if(confirm(r?"Sei sicuro di voler eliminare definitivamente questo prodotto?":"Sei sicuro di voler spostare questo prodotto nel cestino?"))return(await _e.delete(`/prodotti/${e}`,{params:{force:r}})).data},onSuccess:(r,a)=>{t.invalidateQueries({queryKey:["prodotti"]}),a.force||t.invalidateQueries({queryKey:["prodotto",e.toString()]}),a.force&&n.push("/prodotti")}})},hi=async()=>{const{data:e}=await _e.get("/categorie-genitori-con-figlie");return e.data},gi=()=>$n({queryKey:["categorieConFiglie"],queryFn:hi});function bi(e){const t=Xe(),n=Ke({mutationFn:async({prodotto_id:a,files:o})=>{const i=new FormData;return i.append("prodotto_id",a),o.forEach(l=>{i.append("prodotto_immagini[]",l)}),(await is.post("/prodotti/salva-immagini",i,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{t.invalidateQueries({queryKey:["prodotto",e.toString()]})}}),r=Ke({mutationFn:async a=>(await _e.get(`/prodotto/immagine/${a}/rimuovi`)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["prodotto",e.toString()]})}});return{uploadImmagini:n.mutateAsync,rimuoviImmagine:r.mutateAsync,isLoading:n.isPending||r.isPending}}function xi(){const e=Xe(),t=na();return Ke({mutationFn:async n=>{const{data:{data:r}}=await _e.post("/prodotti",n);return r},onSuccess:async(n,r)=>{e.invalidateQueries({queryKey:["prodotti"]}),e.invalidateQueries({queryKey:["prodotto",n.id]}),t.push(`/prodotti/${n.id}`)},onError:async n=>Object.values(n.response.data.errors).flat()})}function vi(e){const t=Xe();return Ke({mutationFn:async({id:n,data:r})=>{const{data:a}=await _e.put(`/prodotti/${n}`,r);return a},onSuccess:async()=>{t.invalidateQueries({queryKey:["prodotto",e.toString()]}),t.invalidateQueries({queryKey:["prodotti"]})},onError:async n=>Object.values(n.response.data.errors).flat()})}const nn=(e,t)=>e.length!==t.length?!1:t.every(n=>e.includes(n)),yi=({openTo:e,defaultOpenTo:t,views:n,defaultViews:r})=>{const a=n??r;let o;if(e!=null)o=e;else if(a.includes(t))o=t;else if(a.length>0)o=a[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:a,openTo:o}},Nn=(e,t,n)=>{let r=t;return r=e.setHours(r,e.getHours(n)),r=e.setMinutes(r,e.getMinutes(n)),r=e.setSeconds(r,e.getSeconds(n)),r=e.setMilliseconds(r,e.getMilliseconds(n)),r},un=({date:e,disableFuture:t,disablePast:n,maxDate:r,minDate:a,isDateDisabled:o,utils:i,timezone:c})=>{const l=Nn(i,i.date(void 0,c),e);n&&i.isBefore(a,l)&&(a=l),t&&i.isAfter(r,l)&&(r=l);let d=e,u=e;for(i.isBefore(e,a)&&(d=a,u=null),i.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&i.isAfter(d,r)&&(d=null),u&&i.isBefore(u,a)&&(u=null),d){if(!o(d))return d;d=i.addDays(d,1)}if(u){if(!o(u))return u;u=i.addDays(u,-1)}}return null},Ii=(e,t)=>t==null||!e.isValid(t)?null:t,Qe=(e,t,n)=>t==null||!e.isValid(t)?n:t,wi=(e,t,n)=>!e.isValid(t)&&t!=null&&!e.isValid(n)&&n!=null?!0:e.isEqual(t,n),dr=(e,t)=>{const r=[e.startOfYear(t)];for(;r.length<12;){const a=r[r.length-1];r.push(e.addMonths(a,1))}return r},Ta=(e,t,n)=>n==="date"?e.startOfDay(e.date(void 0,t)):e.date(void 0,t),Si=["year","month","day"],Ar=e=>Si.includes(e),fr=(e,{format:t,views:n},r)=>{if(t!=null)return t;const a=e.formats;return nn(n,["year"])?a.year:nn(n,["month"])?a.month:nn(n,["day"])?a.dayOfMonth:nn(n,["month","year"])?`${a.month} ${a.year}`:nn(n,["day","month"])?`${a.month} ${a.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?a.normalDateWithWeekday:a.normalDate:a.keyboardDate},Ci=(e,t)=>{const n=e.startOfWeek(t);return[0,1,2,3,4,5,6].map(r=>e.addDays(n,r))},Pi=["hours","minutes","seconds"],Di=e=>Pi.includes(e),Fr=(e,t)=>t.getHours(e)*3600+t.getMinutes(e)*60+t.getSeconds(e),ki=(e,t)=>(n,r)=>e?t.isAfter(n,r):Fr(n,t)>Fr(r,t),lt={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Mi=e=>Math.max(...e.map(t=>lt[t.type]??1)),rn=(e,t,n)=>{if(t===lt.year)return e.startOfYear(n);if(t===lt.month)return e.startOfMonth(n);if(t===lt.day)return e.startOfDay(n);let r=n;return t<lt.minutes&&(r=e.setMinutes(r,0)),t<lt.seconds&&(r=e.setSeconds(r,0)),t<lt.milliseconds&&(r=e.setMilliseconds(r,0)),r},Ti=({props:e,utils:t,granularity:n,timezone:r,getTodayDate:a})=>{let o=a?a():rn(t,n,Ta(t,r));e.minDate!=null&&t.isAfterDay(e.minDate,o)&&(o=rn(t,n,e.minDate)),e.maxDate!=null&&t.isBeforeDay(e.maxDate,o)&&(o=rn(t,n,e.maxDate));const i=ki(e.disableIgnoringDatePartForTimeValidation??!1,t);return e.minTime!=null&&i(e.minTime,o)&&(o=rn(t,n,e.disableIgnoringDatePartForTimeValidation?e.minTime:Nn(t,o,e.minTime))),e.maxTime!=null&&i(o,e.maxTime)&&(o=rn(t,n,e.disableIgnoringDatePartForTimeValidation?e.maxTime:Nn(t,o,e.maxTime))),o},ja=(e,t)=>{const n=e.formatTokenMap[t];if(n==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof n=="string"?{type:n,contentType:n==="meridiem"?"letter":"digit",maxLength:void 0}:{type:n.sectionType,contentType:n.contentType,maxLength:n.maxLength}},ji=e=>{switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},_n=(e,t)=>{const n=[],r=e.date(void 0,"default"),a=e.startOfWeek(r),o=e.endOfWeek(r);let i=a;for(;e.isBefore(i,o);)n.push(i),i=e.addDays(i,1);return n.map(c=>e.formatByString(c,t))},Ra=(e,t,n,r)=>{switch(n){case"month":return dr(e,e.date(void 0,t)).map(a=>e.formatByString(a,r));case"weekDay":return _n(e,r);case"meridiem":{const a=e.date(void 0,t);return[e.startOfDay(a),e.endOfDay(a)].map(o=>e.formatByString(o,r))}default:return[]}},Or="s",Ri=["0","1","2","3","4","5","6","7","8","9"],Vi=e=>{const t=e.date(void 0);return e.formatByString(e.setSeconds(t,0),Or)==="0"?Ri:Array.from({length:10}).map((r,a)=>e.formatByString(e.setSeconds(t,a),Or))},Ot=(e,t)=>{if(t[0]==="0")return e;const n=[];let r="";for(let a=0;a<e.length;a+=1){r+=e[a];const o=t.indexOf(r);o>-1&&(n.push(o.toString()),r="")}return n.join("")},pr=(e,t)=>t[0]==="0"?e:e.split("").map(n=>t[Number(n)]).join(""),Nr=(e,t)=>{const n=Ot(e,t);return n!==" "&&!Number.isNaN(Number(n))},Va=(e,t)=>{let n=e;for(n=Number(n).toString();n.length<t;)n=`0${n}`;return n},Ea=(e,t,n,r,a)=>{if(a.type==="day"&&a.contentType==="digit-with-letter"){const i=e.setDate(n.longestMonth,t);return e.formatByString(i,a.format)}let o=t.toString();return a.hasLeadingZerosInInput&&(o=Va(o,a.maxLength)),pr(o,r)},Ei=(e,t,n,r,a,o,i,c)=>{const l=ji(r),d=r==="Home",u=r==="End",f=n.value===""||d||u,p=()=>{const h=a[n.type]({currentDate:i,format:n.format,contentType:n.contentType}),x=S=>Ea(e,S,h,o,n),m=n.type==="minutes"&&(c!=null&&c.minutesStep)?c.minutesStep:1;let I=parseInt(Ot(n.value,o),10)+l*m;if(f){if(n.type==="year"&&!u&&!d)return e.formatByString(e.date(void 0,t),n.format);l>0||d?I=h.minimum:I=h.maximum}return I%m!==0&&((l<0||d)&&(I+=m-(m+I)%m),(l>0||u)&&(I-=I%m)),I>h.maximum?x(h.minimum+(I-h.maximum-1)%(h.maximum-h.minimum+1)):I<h.minimum?x(h.maximum-(h.minimum-I-1)%(h.maximum-h.minimum+1)):x(I)},y=()=>{const h=Ra(e,t,n.type,n.format);if(h.length===0)return n.value;if(f)return l>0||d?h[0]:h[h.length-1];const b=((h.indexOf(n.value)+l)%h.length+h.length)%h.length;return h[b]};return n.contentType==="digit"||n.contentType==="digit-with-letter"?p():y()},mr=(e,t,n)=>{let r=e.value||e.placeholder;const a=t==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return t==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(Ot(r,n)).toString()),["input-rtl","input-ltr"].includes(t)&&e.contentType==="digit"&&!a&&r.length===1&&(r=`${r}‎`),t==="input-rtl"&&(r=`⁨${r}⁩`),r},Lr=(e,t,n,r)=>e.formatByString(e.parse(t,n),r),Aa=(e,t)=>e.formatByString(e.date(void 0,"system"),t).length===4,Fa=(e,t,n,r)=>{if(t!=="digit")return!1;const a=e.date(void 0,"default");switch(n){case"year":return Aa(e,r)?e.formatByString(e.setYear(a,1),r)==="0001":e.formatByString(e.setYear(a,2001),r)==="01";case"month":return e.formatByString(e.startOfYear(a),r).length>1;case"day":return e.formatByString(e.startOfMonth(a),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(a),r).length>1;case"hours":return e.formatByString(e.setHours(a,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(a,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(a,1),r).length>1;default:throw new Error("Invalid section type")}},Ai=(e,t,n)=>{const r=t.some(l=>l.type==="day"),a=[],o=[];for(let l=0;l<t.length;l+=1){const d=t[l];r&&d.type==="weekDay"||(a.push(d.format),o.push(mr(d,"non-input",n)))}const i=a.join(" "),c=o.join(" ");return e.parse(c,i)},Fi=e=>e.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),Oi=(e,t,n)=>{const a=e.map(o=>{const i=mr(o,n?"input-rtl":"input-ltr",t);return`${o.startSeparator}${i}${o.endSeparator}`}).join("");return n?`⁦${a}⁩`:a},Ni=(e,t,n)=>{const r=e.date(void 0,n),a=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:i,longestMonth:c}=dr(e,r).reduce((l,d)=>{const u=e.getDaysInMonth(d);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:d}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Aa(e,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(a)+1}),day:({currentDate:l})=>({minimum:1,maximum:l!=null&&e.isValid(l)?e.getDaysInMonth(l):i,longestMonth:c}),weekDay:({format:l,contentType:d})=>{if(d==="digit"){const u=_n(e,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const d=e.getHours(o);return Ot(e.formatByString(e.endOfDay(r),l),t)!==d.toString()?{minimum:1,maximum:Number(Ot(e.formatByString(e.startOfDay(r),l),t))}:{minimum:0,maximum:d}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},Li=(e,t,n,r)=>{switch(t.type){case"year":return e.setYear(r,e.getYear(n));case"month":return e.setMonth(r,e.getMonth(n));case"weekDay":{const a=_n(e,t.format),o=e.formatByString(n,t.format),i=a.indexOf(o),l=a.indexOf(t.value)-i;return e.addDays(n,l)}case"day":return e.setDate(r,e.getDate(n));case"meridiem":{const a=e.getHours(n)<12,o=e.getHours(r);return a&&o>=12?e.addHours(r,-12):!a&&o<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(n));case"minutes":return e.setMinutes(r,e.getMinutes(n));case"seconds":return e.setSeconds(r,e.getSeconds(n));default:return r}},$r={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},zr=(e,t,n,r,a)=>[...n].sort((o,i)=>$r[o.type]-$r[i.type]).reduce((o,i)=>!a||i.modified?Li(e,i,t,o):o,r),$i=()=>navigator.userAgent.toLowerCase().includes("android"),zi=(e,t)=>{const n={};if(!t)return e.forEach((l,d)=>{const u=d===0?null:d-1,f=d===e.length-1?null:d+1;n[d]={leftIndex:u,rightIndex:f}}),{neighbors:n,startIndex:0,endIndex:e.length-1};const r={},a={};let o=0,i=0,c=e.length-1;for(;c>=0;){i=e.findIndex((l,d)=>{var u;return d>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),i===-1&&(i=e.length-1);for(let l=i;l>=o;l-=1)a[l]=c,r[c]=l,c-=1;o=i+1}return e.forEach((l,d)=>{const u=a[d],f=u===0?null:r[u-1],p=u===e.length-1?null:r[u+1];n[d]={leftIndex:f,rightIndex:p}}),{neighbors:n,startIndex:r[0],endIndex:r[e.length-1]}},or=(e,t)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const n=t.findIndex(r=>r.type===e);return n===-1?null:n}return e},Bi=(e,t)=>{if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return t.format(t.setMonth(t.date(),Number(e.value)-1),"month");const n=t.parse(e.value,e.format);return n?t.format(n,"month"):void 0}case"day":return e.contentType==="digit"?t.format(t.setDate(t.startOfYear(t.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}},_i=(e,t)=>{if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const n=t.parse(`01:00 ${e.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${e.format}`);return n?t.getHours(n)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const n=t.parse(e.value,e.format);return n?t.getMonth(n)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}},Wi=["value","referenceDate"],dt={emptyValue:null,getTodayValue:Ta,getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=le(e,Wi);return t!=null&&r.utils.isValid(t)?t:n??Ti(r)},cleanValue:Ii,areValuesEqual:wi,isSameError:(e,t)=>e===t,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,t)=>t==null||!e.isValid(t)?null:e.getTimezone(t),setTimezone:(e,t,n)=>n==null?null:e.setTimezone(n,t)},Ui={updateReferenceValue:(e,t,n)=>t==null||!e.isValid(t)?n:t,getSectionsFromValue:(e,t,n,r)=>!e.isValid(t)&&!!n?n:r(t),getV7HiddenInputValueFromSections:Fi,getV6InputValueFromSections:Oi,getActiveDateManager:(e,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:n=>n,getNewValuesFromNewActiveDate:n=>({value:n,referenceValue:n==null||!e.isValid(n)?t.referenceValue:n})}),parseValueStr:(e,t,n)=>n(e.trim(),t)},Hi=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:v({},e)}}}}),Oa=e=>{const{utils:t,formatKey:n,contextTranslation:r,propsTranslation:a}=e;return o=>{const i=o!==null&&t.isValid(o)?t.format(o,n):null;return(a??r)(o,t,i)}},Na={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(e,t,n,r)=>`Select ${e}. ${!r&&(t===null||!n.isValid(t))?"No time selected":`Selected time is ${r??n.format(t,"fullTime")}`}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:(e,t,n)=>n||e!==null&&t.isValid(e)?`Choose date, selected date is ${n??t.format(e,"fullDate")}`:"Choose date",openTimePickerDialogue:(e,t,n)=>n||e!==null&&t.isValid(e)?`Choose time, selected time is ${n??t.format(e,"fullTime")}`:"Choose time",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Yi=Na;Hi(Na);const Lt=()=>{const e=g.useContext(ls);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=g.useMemo(()=>v({},Yi,e.localeText),[e.localeText]);return g.useMemo(()=>v({},e,{localeText:t}),[e,t])},Te=()=>Lt().utils,vn=()=>Lt().defaultDates,Wn=e=>{const t=Te(),n=g.useRef(void 0);return n.current===void 0&&(n.current=t.date(void 0,e)),n.current};function Ki(e){return Se("MuiPickersToolbar",e)}Ce("MuiPickersToolbar",["root","content"]);const qi=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Gi=e=>{const{classes:t}=e;return Ie({root:["root"],content:["content"]},Ki,t)},Qi=ee("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Xi=ee("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(e,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Zi=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersToolbar"}),{children:a,className:o,toolbarTitle:i,hidden:c,titleId:l}=r,d=le(r,qi),u=r,f=Gi(u);return c?null:s.jsxs(Qi,v({ref:n,className:ye(f.root,o),ownerState:u},d,{children:[s.jsx(xe,{color:"text.secondary",variant:"overline",id:l,children:i}),s.jsx(Xi,{className:f.content,ownerState:u,children:a})]}))}),gt=()=>Lt().localeText;function Ji(e){return Se("MuiDatePickerToolbar",e)}Ce("MuiDatePickerToolbar",["root","title"]);const el=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],tl=e=>{const{classes:t}=e;return Ie({root:["root"],title:["title"]},Ji,t)},nl=ee(Zi,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),rl=ee(xe,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(e,t)=>t.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),al=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiDatePickerToolbar"}),{value:a,isLandscape:o,toolbarFormat:i,toolbarPlaceholder:c="––",views:l,className:d}=r,u=le(r,el),f=Te(),p=gt(),y=tl(r),h=g.useMemo(()=>{if(!a)return c;const m=fr(f,{format:i,views:l},!0);return f.formatByString(a,m)},[a,i,c,f,l]),x=r;return s.jsx(nl,v({ref:n,toolbarTitle:p.datePickerToolbarTitle,isLandscape:o,className:ye(y.root,d)},u,{children:s.jsx(rl,{variant:"h4",align:o?"left":"center",ownerState:x,className:y.title,children:h})}))});function La(e,t){const n=Te(),r=vn(),a=Me({props:e,name:t}),o=g.useMemo(()=>{var i;return((i=a.localeText)==null?void 0:i.toolbarTitle)==null?a.localeText:v({},a.localeText,{datePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return v({},a,{localeText:o},yi({views:a.views,openTo:a.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Qe(n,a.minDate,r.minDate),maxDate:Qe(n,a.maxDate,r.maxDate),slots:v({toolbar:al},a.slots)})}const yn=({props:e,value:t,timezone:n,adapter:r})=>{if(t===null)return null;const{shouldDisableDate:a,shouldDisableMonth:o,shouldDisableYear:i,disablePast:c,disableFuture:l}=e,d=r.utils.date(void 0,n),u=Qe(r.utils,e.minDate,r.defaultDates.minDate),f=Qe(r.utils,e.maxDate,r.defaultDates.maxDate);switch(!0){case!r.utils.isValid(t):return"invalidDate";case!!(a&&a(t)):return"shouldDisableDate";case!!(o&&o(t)):return"shouldDisableMonth";case!!(i&&i(t)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(t,d)):return"disableFuture";case!!(c&&r.utils.isBeforeDay(t,d)):return"disablePast";case!!(u&&r.utils.isBeforeDay(t,u)):return"minDate";case!!(f&&r.utils.isAfterDay(t,f)):return"maxDate";default:return null}};yn.valueManager=dt;const $a=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],ol=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],sl=["minDateTime","maxDateTime"],il=[...$a,...ol,...sl],za=e=>il.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{});function Ba(e){const{props:t,validator:n,value:r,timezone:a,onError:o}=e,i=Lt(),c=g.useRef(n.valueManager.defaultErrorState),l=n({adapter:i,value:r,timezone:a,props:t}),d=n.valueManager.hasError(l);g.useEffect(()=>{o&&!n.valueManager.isSameError(l,c.current)&&o(l,r),c.current=l},[n,o,l,r]);const u=ne(f=>n({adapter:i,value:f,timezone:a,props:t}));return{validationError:l,hasValidationError:d,getValidationErrorForNewValue:u}}function ll(e){return Se("MuiPickersPopper",e)}Ce("MuiPickersPopper",["root","paper"]);function cl(e,t){return Array.isArray(t)?t.every(n=>e.indexOf(n)!==-1):e.indexOf(t)!==-1}const ul=(e,t)=>n=>{(n.key==="Enter"||n.key===" ")&&(e(n),n.preventDefault(),n.stopPropagation())},He=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?He(t.shadowRoot):t:null},dl="@media (pointer: fine)",fl="@media (prefers-reduced-motion: reduce)",Wt=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Br=Wt&&Wt[1]?parseInt(Wt[1],10):null,_r=Wt&&Wt[2]?parseInt(Wt[2],10):null,pl=Br&&Br<10||_r&&_r<13||!1,_a=()=>Da(fl,{defaultMatches:!1})||pl,ml=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],hl=e=>{const{classes:t}=e;return Ie({root:["root"],paper:["paper"]},ll,t)},gl=ee(lr,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({zIndex:e.zIndex.modal})),bl=ee(ir,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(e,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function xl(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function vl(e,t){const n=g.useRef(!1),r=g.useRef(!1),a=g.useRef(null),o=g.useRef(!1);g.useEffect(()=>{if(!e)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[e]);const i=ne(l=>{if(!o.current)return;const d=r.current;r.current=!1;const u=jn(a.current);if(!a.current||"clientX"in l&&xl(l,u))return;if(n.current){n.current=!1;return}let f;l.composedPath?f=l.composedPath().indexOf(a.current)>-1:f=!u.documentElement.contains(l.target)||a.current.contains(l.target),!f&&!d&&t(l)}),c=()=>{r.current=!0};return g.useEffect(()=>{if(e){const l=jn(a.current),d=()=>{n.current=!0};return l.addEventListener("touchstart",i),l.addEventListener("touchmove",d),()=>{l.removeEventListener("touchstart",i),l.removeEventListener("touchmove",d)}}},[e,i]),g.useEffect(()=>{if(e){const l=jn(a.current);return l.addEventListener("click",i),()=>{l.removeEventListener("click",i),r.current=!1}}},[e,i]),[a,c,c]}const yl=g.forwardRef((e,t)=>{const{PaperComponent:n,popperPlacement:r,ownerState:a,children:o,paperSlotProps:i,paperClasses:c,onPaperClick:l,onPaperTouchStart:d}=e,u=le(e,ml),f=v({},a,{placement:r}),p=ve({elementType:n,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:c,ownerState:f});return s.jsx(n,v({},u,p,{onClick:y=>{var h;l(y),(h=p.onClick)==null||h.call(p,y)},onTouchStart:y=>{var h;d(y),(h=p.onTouchStart)==null||h.call(p,y)},ownerState:f,children:o}))});function Il(e){const t=Me({props:e,name:"MuiPickersPopper"}),{anchorEl:n,children:r,containerRef:a=null,shouldRestoreFocus:o,onBlur:i,onDismiss:c,open:l,role:d,placement:u,slots:f,slotProps:p,reduceAnimations:y}=t;g.useEffect(()=>{function E(j){l&&j.key==="Escape"&&c()}return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[c,l]);const h=g.useRef(null);g.useEffect(()=>{d==="tooltip"||o&&!o()||(l?h.current=He(document):h.current&&h.current instanceof HTMLElement&&setTimeout(()=>{h.current instanceof HTMLElement&&h.current.focus()}))},[l,d,o]);const[x,m,b]=vl(l,i??c),I=g.useRef(null),S=Le(I,a),D=Le(S,x),C=t,k=hl(C),P=_a(),w=y??P,F=E=>{E.key==="Escape"&&(E.stopPropagation(),c())},N=(f==null?void 0:f.desktopTransition)??w?zn:ar,M=(f==null?void 0:f.desktopTrapFocus)??cs,A=(f==null?void 0:f.desktopPaper)??bl,B=(f==null?void 0:f.popper)??gl,T=ve({elementType:B,externalSlotProps:p==null?void 0:p.popper,additionalProps:{transition:!0,role:d,open:l,anchorEl:n,placement:u,onKeyDown:F},className:k.root,ownerState:t});return s.jsx(B,v({},T,{children:({TransitionProps:E,placement:j})=>s.jsx(M,v({open:l,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:d==="tooltip",isEnabled:()=>!0},p==null?void 0:p.desktopTrapFocus,{children:s.jsx(N,v({},E,p==null?void 0:p.desktopTransition,{children:s.jsx(yl,{PaperComponent:A,ownerState:C,popperPlacement:j,ref:D,onPaperClick:m,onPaperTouchStart:b,paperClasses:k.paper,paperSlotProps:p==null?void 0:p.desktopPaper,children:r})}))}))}))}const wl=({open:e,onOpen:t,onClose:n})=>{const r=g.useRef(typeof e=="boolean").current,[a,o]=g.useState(!1);g.useEffect(()=>{if(r){if(typeof e!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(e)}},[r,e]);const i=g.useCallback(c=>{r||o(c),c&&t&&t(),!c&&n&&n()},[r,t,n]);return{isOpen:a,setIsOpen:i}},hr=({timezone:e,value:t,defaultValue:n,referenceDate:r,onChange:a,valueManager:o})=>{const i=Te(),c=g.useRef(n),l=t??c.current??o.emptyValue,d=g.useMemo(()=>o.getTimezone(i,l),[i,o,l]),u=ne(h=>d==null?h:o.setTimezone(i,d,h));let f;e?f=e:d?f=d:r?f=i.getTimezone(r):f="default";const p=g.useMemo(()=>o.setTimezone(i,f,l),[o,i,f,l]),y=ne((h,...x)=>{const m=u(h);a==null||a(m,...x)});return{value:p,handleValueChange:y,timezone:f}},gr=({name:e,timezone:t,value:n,defaultValue:r,referenceDate:a,onChange:o,valueManager:i})=>{const[c,l]=mt({name:e,state:"value",controlled:n,default:r??i.emptyValue}),d=ne((u,...f)=>{l(u),o==null||o(u,...f)});return hr({timezone:t,value:c,defaultValue:void 0,referenceDate:a,onChange:d,valueManager:i})},Sl=e=>{const{action:t,hasChanged:n,dateState:r,isControlled:a}=e,o=!a&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?o&&["accept","today","clear"].includes(t.pickerAction)?!0:n(r.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?o?!0:n(r.lastPublishedValue):!1},Cl=e=>{const{action:t,hasChanged:n,dateState:r,isControlled:a,closeOnSelect:o}=e,i=!a&&!r.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?i&&["accept","today","clear"].includes(t.pickerAction)?!0:n(r.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&o?i?!0:n(r.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&n(r.lastCommittedValue):!1},Pl=e=>{const{action:t,closeOnSelect:n}=e;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&n:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},Dl=({props:e,valueManager:t,valueType:n,wrapperVariant:r,validator:a})=>{const{onAccept:o,onChange:i,value:c,defaultValue:l,closeOnSelect:d=r==="desktop",timezone:u,referenceDate:f}=e,{current:p}=g.useRef(l),{current:y}=g.useRef(c!==void 0),[h,x]=g.useState(u),m=Te(),b=Lt(),{isOpen:I,setIsOpen:S}=wl(e),{timezone:D,value:C,handleValueChange:k}=hr({timezone:u,value:c,defaultValue:p,referenceDate:f,onChange:i,valueManager:t}),[P,w]=g.useState(()=>{let _;return C!==void 0?_=C:p!==void 0?_=p:_=t.emptyValue,{draft:_,lastPublishedValue:_,lastCommittedValue:_,lastControlledValue:c,hasBeenModifiedSinceMount:!1}}),F=t.getTimezone(m,P.draft);h!==u&&(x(u),u&&F&&u!==F&&w(_=>v({},_,{draft:t.setTimezone(m,u,_.draft)})));const{getValidationErrorForNewValue:N}=Ba({props:e,validator:a,timezone:D,value:P.draft,onError:e.onError}),M=ne(_=>{const X={action:_,dateState:P,hasChanged:G=>!t.areValuesEqual(m,_.value,G),isControlled:y,closeOnSelect:d},oe=Sl(X),re=Cl(X),O=Pl(X);w(G=>v({},G,{draft:_.value,lastPublishedValue:oe?_.value:G.lastPublishedValue,lastCommittedValue:re?_.value:G.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let q=null;const te=()=>(q||(q={validationError:_.name==="setValueFromField"?_.context.validationError:N(_.value)},_.name==="setValueFromShortcut"&&(q.shortcut=_.shortcut)),q);oe&&k(_.value,te()),re&&o&&o(_.value,te()),O&&S(!1)});if(P.lastControlledValue!==c){const _=t.areValuesEqual(m,P.draft,C);w(X=>v({},X,{lastControlledValue:c},_?{}:{lastCommittedValue:C,lastPublishedValue:C,draft:C,hasBeenModifiedSinceMount:!0}))}const A=ne(()=>{M({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),B=ne(()=>{M({value:P.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),T=ne(()=>{M({value:P.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),E=ne(()=>{M({value:P.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),j=ne(()=>{M({value:t.getTodayValue(m,D,n),name:"setValueFromAction",pickerAction:"today"})}),L=ne(_=>{_.preventDefault(),S(!0)}),U=ne(_=>{_==null||_.preventDefault(),S(!1)}),J=ne((_,X="partial")=>M({name:"setValueFromView",value:_,selectionState:X})),ae=ne((_,X,oe)=>M({name:"setValueFromShortcut",value:_,changeImportance:X,shortcut:oe})),Q=ne((_,X)=>M({name:"setValueFromField",value:_,context:X})),se={onClear:A,onAccept:B,onDismiss:T,onCancel:E,onSetToday:j,onOpen:L,onClose:U},pe={value:P.draft,onChange:Q},fe=g.useMemo(()=>t.cleanValue(m,P.draft),[m,t,P.draft]),H={value:fe,onChange:J,onClose:U,open:I},Y=v({},se,{value:fe,onChange:J,onSelectShortcut:ae,isValid:_=>{const X=a({adapter:b,value:_,timezone:D,props:e});return!t.hasError(X)}}),$=g.useMemo(()=>({onOpen:L,onClose:U,open:I}),[I,U,L]);return{open:I,fieldProps:pe,viewProps:H,layoutProps:Y,actions:se,contextValue:$}};function Wa({onChange:e,onViewChange:t,openTo:n,view:r,views:a,autoFocus:o,focusedView:i,onFocusedViewChange:c}){const l=g.useRef(n),d=g.useRef(a),u=g.useRef(a.includes(n)?n:a[0]),[f,p]=mt({name:"useViews",state:"view",controlled:r,default:u.current}),y=g.useRef(o?f:null),[h,x]=mt({name:"useViews",state:"focusedView",controlled:i,default:y.current});g.useEffect(()=>{(l.current&&l.current!==n||d.current&&d.current.some(P=>!a.includes(P)))&&(p(a.includes(n)?n:a[0]),d.current=a,l.current=n)},[n,p,f,a]);const m=a.indexOf(f),b=a[m-1]??null,I=a[m+1]??null,S=ne((P,w)=>{x(w?P:F=>P===F?null:F),c==null||c(P,w)}),D=ne(P=>{S(P,!0),P!==f&&(p(P),t&&t(P))}),C=ne(()=>{I&&D(I)}),k=ne((P,w,F)=>{const N=w==="finish",M=F?a.indexOf(F)<a.length-1:!!I;if(e(P,N&&M?"partial":w,F),F&&F!==f){const B=a[a.indexOf(F)+1];B&&D(B)}else N&&C()});return{view:f,setView:D,focusedView:h,setFocusedView:S,nextView:I,previousView:b,defaultView:a.includes(n)?n:a[0],goToNextView:C,setValueAndGoToNextView:k}}const kl=["className","sx"],Ml=({props:e,propsFromPickerValue:t,additionalViewProps:n,autoFocusView:r,rendererInterceptor:a,fieldRef:o})=>{const{onChange:i,open:c,onClose:l}=t,{view:d,views:u,openTo:f,onViewChange:p,viewRenderers:y,timezone:h}=e,x=le(e,kl),{view:m,setView:b,defaultView:I,focusedView:S,setFocusedView:D,setValueAndGoToNextView:C}=Wa({view:d,views:u,openTo:f,onChange:i,onViewChange:p,autoFocus:r}),{hasUIView:k,viewModeLookup:P}=g.useMemo(()=>u.reduce((T,E)=>{let j;return y[E]!=null?j="UI":j="field",T.viewModeLookup[E]=j,j==="UI"&&(T.hasUIView=!0),T},{hasUIView:!1,viewModeLookup:{}}),[y,u]),w=g.useMemo(()=>u.reduce((T,E)=>y[E]!=null&&Di(E)?T+1:T,0),[y,u]),F=P[m],N=ne(()=>F==="UI"),[M,A]=g.useState(F==="UI"?m:null);return M!==m&&P[m]==="UI"&&A(m),ut(()=>{F==="field"&&c&&(l(),setTimeout(()=>{var T,E;(T=o==null?void 0:o.current)==null||T.setSelectedSections(m),(E=o==null?void 0:o.current)==null||E.focusField(m)}))},[m]),ut(()=>{if(!c)return;let T=m;F==="field"&&M!=null&&(T=M),T!==I&&P[T]==="UI"&&P[I]==="UI"&&(T=I),T!==m&&b(T),D(T,!0)},[c]),{hasUIView:k,shouldRestoreFocus:N,layoutProps:{views:u,view:M,onViewChange:b},renderCurrentView:()=>{if(M==null)return null;const T=y[M];if(T==null)return null;const E=v({},x,n,t,{views:u,timezone:h,onChange:C,view:M,onViewChange:b,focusedView:S,onFocusedViewChange:D,showViewSwitcher:w>1,timeViewsCount:w});return a?a(y,M,E):T(E)}}};function Wr(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const Tl=(e,t)=>{const[n,r]=g.useState(Wr);return ut(()=>{const o=()=>{r(Wr())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),cl(e,["hours","minutes","seconds"])?!1:(t||n)==="landscape"},jl=({props:e,propsFromPickerValue:t,propsFromPickerViews:n,wrapperVariant:r})=>{const{orientation:a}=e,o=Tl(n.views,a),i=ot();return{layoutProps:v({},n,t,{isLandscape:o,isRtl:i,wrapperVariant:r,disabled:e.disabled,readOnly:e.readOnly})}};function Rl(e){const{props:t,pickerValueResponse:n}=e;return g.useMemo(()=>({value:n.viewProps.value,open:n.open,disabled:t.disabled??!1,readOnly:t.readOnly??!1}),[n.viewProps.value,n.open,t.disabled,t.readOnly])}const Ua=({props:e,valueManager:t,valueType:n,wrapperVariant:r,additionalViewProps:a,validator:o,autoFocusView:i,rendererInterceptor:c,fieldRef:l})=>{const d=Dl({props:e,valueManager:t,valueType:n,wrapperVariant:r,validator:o}),u=Ml({props:e,additionalViewProps:a,autoFocusView:i,fieldRef:l,propsFromPickerValue:d.viewProps,rendererInterceptor:c}),f=jl({props:e,wrapperVariant:r,propsFromPickerValue:d.layoutProps,propsFromPickerViews:u.layoutProps}),p=Rl({props:e,pickerValueResponse:d});return{open:d.open,actions:d.actions,fieldProps:d.fieldProps,renderCurrentView:u.renderCurrentView,hasUIView:u.hasUIView,shouldRestoreFocus:u.shouldRestoreFocus,layoutProps:f.layoutProps,contextValue:d.contextValue,ownerState:p}};function Ha(e){return Se("MuiPickersLayout",e)}const Tt=Ce("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Vl=["onAccept","onClear","onCancel","onSetToday","actions"];function El(e){const{onAccept:t,onClear:n,onCancel:r,onSetToday:a,actions:o}=e,i=le(e,Vl),c=gt();if(o==null||o.length===0)return null;const l=o==null?void 0:o.map(d=>{switch(d){case"clear":return s.jsx(ke,{onClick:n,children:c.clearButtonLabel},d);case"cancel":return s.jsx(ke,{onClick:r,children:c.cancelButtonLabel},d);case"accept":return s.jsx(ke,{onClick:t,children:c.okButtonLabel},d);case"today":return s.jsx(ke,{onClick:a,children:c.todayButtonLabel},d);default:return null}});return s.jsx(us,v({},i,{children:l}))}const fn=36,Un=2,Hn=320,Al=280,br=336,Fl=["items","changeImportance","isLandscape","onChange","isValid"],Ol=["getValue"];function Nl(e){const{items:t,changeImportance:n="accept",onChange:r,isValid:a}=e,o=le(e,Fl);if(t==null||t.length===0)return null;const i=t.map(c=>{let{getValue:l}=c,d=le(c,Ol);const u=l({isValid:a});return v({},d,{label:d.label,onClick:()=>{r(u,n,d)},disabled:!a(u)})});return s.jsx(ds,v({dense:!0,sx:[{maxHeight:br,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:i.map(c=>s.jsx(fs,{children:s.jsx(xn,v({},c))},c.id??c.label))}))}function Ll(e){return e.view!==null}const $l=e=>{const{classes:t,isLandscape:n}=e;return Ie({root:["root",n&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},Ha,t)},zl=e=>{const{wrapperVariant:t,onAccept:n,onClear:r,onCancel:a,onSetToday:o,view:i,views:c,onViewChange:l,value:d,onChange:u,onSelectShortcut:f,isValid:p,isLandscape:y,disabled:h,readOnly:x,children:m,slots:b,slotProps:I}=e,S=$l(e),D=(b==null?void 0:b.actionBar)??El,C=ve({elementType:D,externalSlotProps:I==null?void 0:I.actionBar,additionalProps:{onAccept:n,onClear:r,onCancel:a,onSetToday:o,actions:t==="desktop"?[]:["cancel","accept"]},className:S.actionBar,ownerState:v({},e,{wrapperVariant:t})}),k=s.jsx(D,v({},C)),P=b==null?void 0:b.toolbar,w=ve({elementType:P,externalSlotProps:I==null?void 0:I.toolbar,additionalProps:{isLandscape:y,onChange:u,value:d,view:i,onViewChange:l,views:c,disabled:h,readOnly:x},className:S.toolbar,ownerState:v({},e,{wrapperVariant:t})}),F=Ll(w)&&P?s.jsx(P,v({},w)):null,N=m,M=b==null?void 0:b.tabs,A=i&&M?s.jsx(M,v({view:i,onViewChange:l,className:S.tabs},I==null?void 0:I.tabs)):null,B=(b==null?void 0:b.shortcuts)??Nl,T=ve({elementType:B,externalSlotProps:I==null?void 0:I.shortcuts,additionalProps:{isValid:p,isLandscape:y,onChange:f},className:S.shortcuts,ownerState:{isValid:p,isLandscape:y,onChange:f,wrapperVariant:t}}),E=i&&B?s.jsx(B,v({},T)):null;return{toolbar:F,content:N,tabs:A,actionBar:k,shortcuts:E}},Bl=e=>{const{isLandscape:t,classes:n}=e;return Ie({root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]},Ha,n)},_l=ee("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Tt.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Tt.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Tt.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${Tt.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${Tt.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Tt.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${Tt.shortcuts}`]:{gridColumn:3}}}]}),Wl=ee("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(e,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Ya=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersLayout"}),{toolbar:a,content:o,tabs:i,actionBar:c,shortcuts:l}=zl(r),{sx:d,className:u,isLandscape:f,wrapperVariant:p}=r,y=Bl(r);return s.jsxs(_l,{ref:n,sx:d,className:ye(y.root,u),ownerState:r,children:[f?l:a,f?a:l,s.jsx(Wl,{className:y.contentWrapper,children:p==="desktop"?s.jsxs(g.Fragment,{children:[o,i]}):s.jsxs(g.Fragment,{children:[i,o]})}),c]})}),Ul=g.createContext(null);function Ka(e){const{contextValue:t,localeText:n,children:r}=e;return s.jsx(Ul.Provider,{value:t,children:s.jsx(ps,{localeText:n,children:r})})}const Hl=["props","getOpenDialogAriaText"],Yl=["ownerState"],Kl=["ownerState"],ql=e=>{var te;let{props:t,getOpenDialogAriaText:n}=e,r=le(e,Hl);const{slots:a,slotProps:o,className:i,sx:c,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:f,onSelectedSectionsChange:p,timezone:y,name:h,label:x,inputRef:m,readOnly:b,disabled:I,autoFocus:S,localeText:D,reduceAnimations:C}=t,k=g.useRef(null),P=g.useRef(null),w=qt(),F=((te=o==null?void 0:o.toolbar)==null?void 0:te.hidden)??!1,{open:N,actions:M,hasUIView:A,layoutProps:B,renderCurrentView:T,shouldRestoreFocus:E,fieldProps:j,contextValue:L,ownerState:U}=Ua(v({},r,{props:t,fieldRef:P,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),J=a.inputAdornment??ra,ae=ve({elementType:J,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:t}),Q=le(ae,Yl),se=a.openPickerButton??ht,pe=ve({elementType:se,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:I||b,onClick:N?M.onClose:M.onOpen,"aria-label":n(j.value),edge:Q.position},ownerState:t}),fe=le(pe,Kl),H=a.openPickerIcon,W=ve({elementType:H,externalSlotProps:o==null?void 0:o.openPickerIcon,ownerState:U}),Y=a.field,$=ve({elementType:Y,externalSlotProps:o==null?void 0:o.field,additionalProps:v({},j,F&&{id:w},{readOnly:b,disabled:I,className:i,sx:c,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:f,onSelectedSectionsChange:p,timezone:y,label:x,name:h,autoFocus:S&&!t.open,focused:N?!0:void 0},m?{inputRef:m}:{}),ownerState:t});A&&($.InputProps=v({},$.InputProps,{ref:k},!t.disableOpenPicker&&{[`${Q.position}Adornment`]:s.jsx(J,v({},Q,{children:s.jsx(se,v({},fe,{children:s.jsx(H,v({},W))}))}))}));const _=v({textField:a.textField,clearIcon:a.clearIcon,clearButton:a.clearButton},$.slots),X=a.layout??Ya;let oe=w;F&&(x?oe=`${w}-label`:oe=void 0);const re=v({},o,{toolbar:v({},o==null?void 0:o.toolbar,{titleId:w}),popper:v({"aria-labelledby":oe},o==null?void 0:o.popper)}),O=Le(P,$.unstableFieldRef);return{renderPicker:()=>s.jsxs(Ka,{contextValue:L,localeText:D,children:[s.jsx(Y,v({},$,{slots:_,slotProps:re,unstableFieldRef:O})),s.jsx(Il,v({role:"dialog",placement:"bottom-start",anchorEl:k.current},M,{open:N,slots:a,slotProps:re,shouldRestoreFocus:E,reduceAnimations:C,children:s.jsx(X,v({},B,re==null?void 0:re.layout,{slots:a,slotProps:re,children:T()}))}))]})}},Gl=ft(s.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Ql=ft(s.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Xl=ft(s.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Zl=ft(s.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar");ft(s.jsxs(g.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock");ft(s.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange");ft(s.jsxs(g.Fragment,{children:[s.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),s.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time");const Jl=ft(s.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),ec=({utils:e,format:t})=>{let n=10,r=t,a=e.expandFormat(t);for(;a!==r;)if(r=a,a=e.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return a},tc=({utils:e,expandedFormat:t})=>{const n=[],{start:r,end:a}=e.escapedCharacters,o=new RegExp(`(\\${r}[^\\${a}]*\\${a})+`,"g");let i=null;for(;i=o.exec(t);)n.push({start:i.index,end:o.lastIndex-1});return n},nc=(e,t,n,r)=>{switch(n.type){case"year":return t.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return t.fieldMonthPlaceholder({contentType:n.contentType,format:r});case"day":return t.fieldDayPlaceholder({format:r});case"weekDay":return t.fieldWeekDayPlaceholder({contentType:n.contentType,format:r});case"hours":return t.fieldHoursPlaceholder({format:r});case"minutes":return t.fieldMinutesPlaceholder({format:r});case"seconds":return t.fieldSecondsPlaceholder({format:r});case"meridiem":return t.fieldMeridiemPlaceholder({format:r});default:return r}},rc=({utils:e,date:t,shouldRespectLeadingZeros:n,localeText:r,localizedDigits:a,now:o,token:i,startSeparator:c})=>{if(i==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const l=ja(e,i),d=Fa(e,l.contentType,l.type,i),u=n?d:l.contentType==="digit",f=t!=null&&e.isValid(t);let p=f?e.formatByString(t,i):"",y=null;if(u)if(d)y=p===""?e.formatByString(o,i).length:p.length;else{if(l.maxLength==null)throw new Error(`MUI X: The token ${i} should have a 'maxDigitNumber' property on it's adapter`);y=l.maxLength,f&&(p=pr(Va(Ot(p,a),y),a))}return v({},l,{format:i,maxLength:y,value:p,placeholder:nc(e,r,l,i),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:u,startSeparator:c,endSeparator:"",modified:!1})},ac=e=>{var y;const{utils:t,expandedFormat:n,escapedParts:r}=e,a=t.date(void 0),o=[];let i="";const c=Object.keys(t.formatTokenMap).sort((h,x)=>x.length-h.length),l=/^([a-zA-Z]+)/,d=new RegExp(`^(${c.join("|")})*$`),u=new RegExp(`^(${c.join("|")})`),f=h=>r.find(x=>x.start<=h&&x.end>=h);let p=0;for(;p<n.length;){const h=f(p),x=h!=null,m=(y=l.exec(n.slice(p)))==null?void 0:y[1];if(!x&&m!=null&&d.test(m)){let b=m;for(;b.length>0;){const I=u.exec(b)[1];b=b.slice(I.length),o.push(rc(v({},e,{now:a,token:I,startSeparator:i}))),i=""}p+=m.length}else{const b=n[p];x&&(h==null?void 0:h.start)===p||(h==null?void 0:h.end)===p||(o.length===0?i+=b:o[o.length-1].endSeparator+=b),p+=1}}return o.length===0&&i.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),o},oc=({isRtl:e,formatDensity:t,sections:n})=>n.map(r=>{const a=o=>{let i=o;return e&&i!==null&&i.includes(" ")&&(i=`⁩${i}⁦`),t==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return r.startSeparator=a(r.startSeparator),r.endSeparator=a(r.endSeparator),r}),Ur=e=>{let t=ec(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=tc(v({},e,{expandedFormat:t})),r=ac(v({},e,{expandedFormat:t,escapedParts:n}));return oc(v({},e,{sections:r}))},sc=e=>{const t=Te(),n=gt(),r=Lt(),a=ot(),{valueManager:o,fieldValueManager:i,valueType:c,validator:l,internalProps:d,internalProps:{value:u,defaultValue:f,referenceDate:p,onChange:y,format:h,formatDensity:x="dense",selectedSections:m,onSelectedSectionsChange:b,shouldRespectLeadingZeros:I=!1,timezone:S,enableAccessibleFieldDOMStructure:D=!1}}=e,{timezone:C,value:k,handleValueChange:P}=hr({timezone:S,value:u,defaultValue:f,referenceDate:p,onChange:y,valueManager:o}),w=g.useMemo(()=>Vi(t),[t]),F=g.useMemo(()=>Ni(t,w,C),[t,w,C]),N=g.useCallback((H,W=null)=>i.getSectionsFromValue(t,H,W,Y=>Ur({utils:t,localeText:n,localizedDigits:w,format:h,date:Y,formatDensity:x,shouldRespectLeadingZeros:I,enableAccessibleFieldDOMStructure:D,isRtl:a})),[i,h,n,w,a,I,t,x,D]),[M,A]=g.useState(()=>{const H=N(k),W={sections:H,value:k,referenceValue:o.emptyValue,tempValueStrAndroid:null},Y=Mi(H),$=o.getInitialReferenceValue({referenceDate:p,value:k,utils:t,props:d,granularity:Y,timezone:C});return v({},W,{referenceValue:$})}),[B,T]=mt({controlled:m,default:null,name:"useField",state:"selectedSections"}),E=H=>{T(H),b==null||b(H)},j=g.useMemo(()=>or(B,M.sections),[B,M.sections]),L=j==="all"?0:j,U=({value:H,referenceValue:W,sections:Y})=>{if(A(_=>v({},_,{sections:Y,value:H,referenceValue:W,tempValueStrAndroid:null})),o.areValuesEqual(t,M.value,H))return;const $={validationError:l({adapter:r,value:H,timezone:C,props:d})};P(H,$)},J=(H,W)=>{const Y=[...M.sections];return Y[H]=v({},Y[H],{value:W,modified:!0}),Y},ae=()=>{U({value:o.emptyValue,referenceValue:M.referenceValue,sections:N(o.emptyValue)})},Q=()=>{if(L==null)return;const H=M.sections[L],W=i.getActiveDateManager(t,M,H),$=W.getSections(M.sections).filter(re=>re.value!=="").length===(H.value===""?0:1),_=J(L,""),X=$?null:t.getInvalidDate(),oe=W.getNewValuesFromNewActiveDate(X);U(v({},oe,{sections:_}))},se=H=>{const W=(_,X)=>{const oe=t.parse(_,h);if(oe==null||!t.isValid(oe))return null;const re=Ur({utils:t,localeText:n,localizedDigits:w,format:h,date:oe,formatDensity:x,shouldRespectLeadingZeros:I,enableAccessibleFieldDOMStructure:D,isRtl:a});return zr(t,oe,re,X,!1)},Y=i.parseValueStr(H,M.referenceValue,W),$=i.updateReferenceValue(t,Y,M.referenceValue);U({value:Y,referenceValue:$,sections:N(Y,M.sections)})},pe=({activeSection:H,newSectionValue:W,shouldGoToNextSection:Y})=>{Y&&L<M.sections.length-1&&E(L+1);const $=i.getActiveDateManager(t,M,H),_=J(L,W),X=$.getSections(_),oe=Ai(t,X,w);let re,O;if(oe!=null&&t.isValid(oe)){const q=zr(t,oe,X,$.referenceDate,!0);re=$.getNewValuesFromNewActiveDate(q),O=!0}else re=$.getNewValuesFromNewActiveDate(oe),O=(oe!=null&&!t.isValid(oe))!=($.date!=null&&!t.isValid($.date));return O?U(v({},re,{sections:_})):A(q=>v({},q,re,{sections:_,tempValueStrAndroid:null}))},fe=H=>A(W=>v({},W,{tempValueStrAndroid:H}));return g.useEffect(()=>{const H=N(M.value);A(W=>v({},W,{sections:H}))},[h,t.locale,a]),g.useEffect(()=>{let H;o.areValuesEqual(t,M.value,k)?H=o.getTimezone(t,M.value)!==o.getTimezone(t,k):H=!0,H&&A(W=>v({},W,{value:k,referenceValue:i.updateReferenceValue(t,k,W.referenceValue),sections:N(k)}))},[k]),{state:M,activeSectionIndex:L,parsedSelectedSections:j,setSelectedSections:E,clearValue:ae,clearActiveSection:Q,updateSectionValue:pe,updateValueFromValueStr:se,setTempAndroidValueStr:fe,getSectionsFromValue:N,sectionsValueBoundaries:F,localizedDigits:w,timezone:C}},ic=5e3,$t=e=>e.saveQuery!=null,lc=({sections:e,updateSectionValue:t,sectionsValueBoundaries:n,localizedDigits:r,setTempAndroidValueStr:a,timezone:o})=>{const i=Te(),[c,l]=g.useState(null),d=ne(()=>l(null));g.useEffect(()=>{var h;c!=null&&((h=e[c.sectionIndex])==null?void 0:h.type)!==c.sectionType&&d()},[e,c,d]),g.useEffect(()=>{if(c!=null){const h=setTimeout(()=>d(),ic);return()=>{clearTimeout(h)}}return()=>{}},[c,d]);const u=({keyPressed:h,sectionIndex:x},m,b)=>{const I=h.toLowerCase(),S=e[x];if(c!=null&&(!b||b(c.value))&&c.sectionIndex===x){const C=`${c.value}${I}`,k=m(C,S);if(!$t(k))return l({sectionIndex:x,value:C,sectionType:S.type}),k}const D=m(I,S);return $t(D)&&!D.saveQuery?(d(),null):(l({sectionIndex:x,value:I,sectionType:S.type}),$t(D)?null:D)},f=h=>{const x=(I,S,D)=>{const C=S.filter(k=>k.toLowerCase().startsWith(D));return C.length===0?{saveQuery:!1}:{sectionValue:C[0],shouldGoToNextSection:C.length===1}},m=(I,S,D,C)=>{const k=P=>Ra(i,o,S.type,P);if(S.contentType==="letter")return x(S.format,k(S.format),I);if(D&&C!=null&&ja(i,D).contentType==="letter"){const P=k(D),w=x(D,P,I);return $t(w)?{saveQuery:!1}:v({},w,{sectionValue:C(w.sectionValue,P)})}return{saveQuery:!1}};return u(h,(I,S)=>{switch(S.type){case"month":{const D=C=>Lr(i,C,i.formats.month,S.format);return m(I,S,i.formats.month,D)}case"weekDay":{const D=(C,k)=>k.indexOf(C).toString();return m(I,S,i.formats.weekday,D)}case"meridiem":return m(I,S);default:return{saveQuery:!1}}})},p=h=>{const x=(b,I)=>{const S=Ot(b,r),D=Number(S),C=n[I.type]({currentDate:null,format:I.format,contentType:I.contentType});if(D>C.maximum)return{saveQuery:!1};if(D<C.minimum)return{saveQuery:!0};const k=D*10>C.maximum||S.length===C.maximum.toString().length;return{sectionValue:Ea(i,D,C,r,I),shouldGoToNextSection:k}};return u(h,(b,I)=>{if(I.contentType==="digit"||I.contentType==="digit-with-letter")return x(b,I);if(I.type==="month"){const S=Fa(i,"digit","month","MM"),D=x(b,{type:I.type,format:"MM",hasLeadingZerosInFormat:S,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if($t(D))return D;const C=Lr(i,D.sectionValue,"MM",I.format);return v({},D,{sectionValue:C})}if(I.type==="weekDay"){const S=x(b,I);if($t(S))return S;const D=_n(i,I.format)[Number(S.sectionValue)-1];return v({},S,{sectionValue:D})}return{saveQuery:!1}},b=>Nr(b,r))};return{applyCharacterEditing:ne(h=>{const x=e[h.sectionIndex],b=Nr(h.keyPressed,r)?p(v({},h,{keyPressed:pr(h.keyPressed,r)})):f(h);if(b==null){a(null);return}t({activeSection:x,newSectionValue:b.sectionValue,shouldGoToNextSection:b.shouldGoToNextSection})}),resetCharacterQuery:d}},cc=e=>{const{internalProps:{disabled:t,readOnly:n=!1},forwardedProps:{sectionListRef:r,onBlur:a,onClick:o,onFocus:i,onInput:c,onPaste:l,focused:d,autoFocus:u=!1},fieldValueManager:f,applyCharacterEditing:p,resetCharacterQuery:y,setSelectedSections:h,parsedSelectedSections:x,state:m,clearActiveSection:b,clearValue:I,updateSectionValue:S,updateValueFromValueStr:D,sectionOrder:C,areAllSectionsEmpty:k,sectionsValueBoundaries:P}=e,w=g.useRef(null),F=Le(r,w),N=gt(),M=Te(),A=qt(),[B,T]=g.useState(!1),E=g.useMemo(()=>({syncSelectionToDOM:()=>{if(!w.current)return;const O=document.getSelection();if(!O)return;if(x==null){O.rangeCount>0&&w.current.getRoot().contains(O.getRangeAt(0).startContainer)&&O.removeAllRanges(),B&&w.current.getRoot().blur();return}if(!w.current.getRoot().contains(He(document)))return;const q=new window.Range;let te;x==="all"?te=w.current.getRoot():m.sections[x].type==="empty"?te=w.current.getSectionContainer(x):te=w.current.getSectionContent(x),q.selectNodeContents(te),te.focus(),O.removeAllRanges(),O.addRange(q)},getActiveSectionIndexFromDOM:()=>{const O=He(document);return!O||!w.current||!w.current.getRoot().contains(O)?null:w.current.getSectionIndexFromDOMElement(O)},focusField:(O=0)=>{if(!w.current||E.getActiveSectionIndexFromDOM()!=null)return;const q=or(O,m.sections);T(!0),w.current.getSectionContent(q).focus()},setSelectedSections:O=>{if(!w.current)return;const q=or(O,m.sections);T((q==="all"?0:q)!==null),h(O)},isFieldFocused:()=>{const O=He(document);return!!w.current&&w.current.getRoot().contains(O)}}),[x,h,m.sections,B]),j=ne(O=>{if(!w.current)return;const q=m.sections[O];w.current.getSectionContent(O).innerHTML=q.value||q.placeholder,E.syncSelectionToDOM()}),L=ne((O,...q)=>{O.isDefaultPrevented()||!w.current||(T(!0),o==null||o(O,...q),x==="all"?setTimeout(()=>{const te=document.getSelection().getRangeAt(0).startOffset;if(te===0){h(C.startIndex);return}let G=0,z=0;for(;z<te&&G<m.sections.length;){const V=m.sections[G];G+=1,z+=`${V.startSeparator}${V.value||V.placeholder}${V.endSeparator}`.length}h(G-1)}):B?w.current.getRoot().contains(O.target)||h(C.startIndex):(T(!0),h(C.startIndex)))}),U=ne(O=>{if(c==null||c(O),!w.current||x!=="all")return;const te=O.target.textContent??"";w.current.getRoot().innerHTML=m.sections.map(G=>`${G.startSeparator}${G.value||G.placeholder}${G.endSeparator}`).join(""),E.syncSelectionToDOM(),te.length===0||te.charCodeAt(0)===10?(y(),I(),h("all")):te.length>1?D(te):(x==="all"&&h(0),p({keyPressed:te,sectionIndex:0}))}),J=ne(O=>{if(l==null||l(O),n||x!=="all"){O.preventDefault();return}const q=O.clipboardData.getData("text");O.preventDefault(),y(),D(q)}),ae=ne((...O)=>{if(i==null||i(...O),B||!w.current)return;T(!0),w.current.getSectionIndexFromDOMElement(He(document))!=null||h(C.startIndex)}),Q=ne((...O)=>{a==null||a(...O),setTimeout(()=>{if(!w.current)return;const q=He(document);!w.current.getRoot().contains(q)&&(T(!1),h(null))})}),se=ne(O=>q=>{q.isDefaultPrevented()||h(O)}),pe=ne(O=>{O.preventDefault()}),fe=ne(O=>()=>{h(O)}),H=ne(O=>{if(O.preventDefault(),n||t||typeof x!="number")return;const q=m.sections[x],te=O.clipboardData.getData("text"),G=/^[a-zA-Z]+$/.test(te),z=/^[0-9]+$/.test(te),V=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(te);q.contentType==="letter"&&G||q.contentType==="digit"&&z||q.contentType==="digit-with-letter"&&V?(y(),S({activeSection:q,newSectionValue:te,shouldGoToNextSection:!0})):!G&&!z&&(y(),D(te))}),W=ne(O=>{O.preventDefault(),O.dataTransfer.dropEffect="none"}),Y=ne(O=>{if(!w.current)return;const q=O.target,te=q.textContent??"",G=w.current.getSectionIndexFromDOMElement(q),z=m.sections[G];if(n||!w.current){j(G);return}if(te.length===0){if(z.value===""){j(G);return}const V=O.nativeEvent.inputType;if(V==="insertParagraph"||V==="insertLineBreak"){j(G);return}y(),b();return}p({keyPressed:te,sectionIndex:G}),j(G)});ut(()=>{if(!(!B||!w.current)){if(x==="all")w.current.getRoot().focus();else if(typeof x=="number"){const O=w.current.getSectionContent(x);O&&O.focus()}}},[x,B]);const $=g.useMemo(()=>m.sections.reduce((O,q)=>(O[q.type]=P[q.type]({currentDate:null,contentType:q.contentType,format:q.format}),O),{}),[P,m.sections]),_=x==="all",X=g.useMemo(()=>m.sections.map((O,q)=>{const te=!_&&!t&&!n;return{container:{"data-sectionindex":q,onClick:se(q)},content:{tabIndex:_||q>0?-1:0,contentEditable:!_&&!t&&!n,role:"spinbutton",id:`${A}-${O.type}`,"aria-labelledby":`${A}-${O.type}`,"aria-readonly":n,"aria-valuenow":_i(O,M),"aria-valuemin":$[O.type].minimum,"aria-valuemax":$[O.type].maximum,"aria-valuetext":O.value?Bi(O,M):N.empty,"aria-label":N[O.type],"aria-disabled":t,spellCheck:te?!1:void 0,autoCapitalize:te?"off":void 0,autoCorrect:te?"off":void 0,[parseInt(g.version,10)>=17?"enterKeyHint":"enterkeyhint"]:te?"next":void 0,children:O.value||O.placeholder,onInput:Y,onPaste:H,onFocus:fe(q),onDragOver:W,onMouseUp:pe,inputMode:O.contentType==="letter"?"text":"numeric"},before:{children:O.startSeparator},after:{children:O.endSeparator}}}),[m.sections,fe,H,W,Y,se,pe,t,n,_,N,M,$,A]),oe=ne(O=>{D(O.target.value)}),re=g.useMemo(()=>k?"":f.getV7HiddenInputValueFromSections(m.sections),[k,m.sections,f]);return g.useEffect(()=>{if(w.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));u&&w.current&&w.current.getSectionContent(C.startIndex).focus()},[]),{interactions:E,returnedValue:{autoFocus:u,readOnly:n,focused:d??B,sectionListRef:F,onBlur:Q,onClick:L,onFocus:ae,onInput:U,onPaste:J,enableAccessibleFieldDOMStructure:!0,elements:X,tabIndex:x===0?-1:0,contentEditable:_,value:re,onChange:oe,areAllSectionsEmpty:k}}},Bt=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),uc=(e,t,n)=>{let r=0,a=n?1:0;const o=[];for(let i=0;i<e.length;i+=1){const c=e[i],l=mr(c,n?"input-rtl":"input-ltr",t),d=`${c.startSeparator}${l}${c.endSeparator}`,u=Bt(d).length,f=d.length,p=Bt(l),y=a+(p===""?0:l.indexOf(p[0]))+c.startSeparator.length,h=y+p.length;o.push(v({},c,{start:r,end:r+u,startInInput:y,endInInput:h})),r+=u,a+=f}return o},dc=e=>{const t=ot(),n=g.useRef(void 0),r=g.useRef(void 0),{forwardedProps:{onFocus:a,onClick:o,onPaste:i,onBlur:c,inputRef:l,placeholder:d},internalProps:{readOnly:u=!1,disabled:f=!1},parsedSelectedSections:p,activeSectionIndex:y,state:h,fieldValueManager:x,valueManager:m,applyCharacterEditing:b,resetCharacterQuery:I,updateSectionValue:S,updateValueFromValueStr:D,clearActiveSection:C,clearValue:k,setTempAndroidValueStr:P,setSelectedSections:w,getSectionsFromValue:F,areAllSectionsEmpty:N,localizedDigits:M}=e,A=g.useRef(null),B=Le(l,A),T=g.useMemo(()=>uc(h.sections,M,t),[h.sections,M,t]),E=g.useMemo(()=>({syncSelectionToDOM:()=>{if(!A.current)return;if(p==null){A.current.scrollLeft&&(A.current.scrollLeft=0);return}if(A.current!==He(document))return;const Y=A.current.scrollTop;if(p==="all")A.current.select();else{const $=T[p],_=$.type==="empty"?$.startInInput-$.startSeparator.length:$.startInInput,X=$.type==="empty"?$.endInInput+$.endSeparator.length:$.endInInput;(_!==A.current.selectionStart||X!==A.current.selectionEnd)&&A.current===He(document)&&A.current.setSelectionRange(_,X),clearTimeout(r.current),r.current=setTimeout(()=>{A.current&&A.current===He(document)&&A.current.selectionStart===A.current.selectionEnd&&(A.current.selectionStart!==_||A.current.selectionEnd!==X)&&E.syncSelectionToDOM()})}A.current.scrollTop=Y},getActiveSectionIndexFromDOM:()=>{const Y=A.current.selectionStart??0,$=A.current.selectionEnd??0;if(Y===0&&$===0)return null;const _=Y<=T[0].startInInput?1:T.findIndex(X=>X.startInInput-X.startSeparator.length>Y);return _===-1?T.length-1:_-1},focusField:(Y=0)=>{var $;He(document)!==A.current&&(($=A.current)==null||$.focus(),w(Y))},setSelectedSections:Y=>w(Y),isFieldFocused:()=>A.current===He(document)}),[A,p,T,w]),j=()=>{const Y=A.current.selectionStart??0;let $;Y<=T[0].startInInput||Y>=T[T.length-1].endInInput?$=1:$=T.findIndex(X=>X.startInInput-X.startSeparator.length>Y);const _=$===-1?T.length-1:$-1;w(_)},L=ne((...Y)=>{a==null||a(...Y);const $=A.current;clearTimeout(n.current),n.current=setTimeout(()=>{!$||$!==A.current||y==null&&($.value.length&&Number($.selectionEnd)-Number($.selectionStart)===$.value.length?w("all"):j())})}),U=ne((Y,...$)=>{Y.isDefaultPrevented()||(o==null||o(Y,...$),j())}),J=ne(Y=>{if(i==null||i(Y),Y.preventDefault(),u||f)return;const $=Y.clipboardData.getData("text");if(typeof p=="number"){const _=h.sections[p],X=/^[a-zA-Z]+$/.test($),oe=/^[0-9]+$/.test($),re=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test($);if(_.contentType==="letter"&&X||_.contentType==="digit"&&oe||_.contentType==="digit-with-letter"&&re){I(),S({activeSection:_,newSectionValue:$,shouldGoToNextSection:!0});return}if(X||oe)return}I(),D($)}),ae=ne((...Y)=>{c==null||c(...Y),w(null)}),Q=ne(Y=>{if(u)return;const $=Y.target.value;if($===""){I(),k();return}const _=Y.nativeEvent.data,X=_&&_.length>1,oe=X?_:$,re=Bt(oe);if(p==="all"&&w(y),y==null||X){D(X?_:re);return}let O;if(p==="all"&&re.length===1)O=re;else{const q=Bt(x.getV6InputValueFromSections(T,M,t));let te=-1,G=-1;for(let ie=0;ie<q.length;ie+=1)te===-1&&q[ie]!==re[ie]&&(te=ie),G===-1&&q[q.length-ie-1]!==re[re.length-ie-1]&&(G=ie);const z=T[y];if(te<z.start||q.length-G-1>z.end)return;const Z=re.length-q.length+z.end-Bt(z.endSeparator||"").length;O=re.slice(z.start+Bt(z.startSeparator||"").length,Z)}if(O.length===0){$i()&&P(oe),I(),C();return}b({keyPressed:O,sectionIndex:y})}),se=g.useMemo(()=>d!==void 0?d:x.getV6InputValueFromSections(F(m.emptyValue),M,t),[d,x,F,m.emptyValue,M,t]),pe=g.useMemo(()=>h.tempValueStrAndroid??x.getV6InputValueFromSections(h.sections,M,t),[h.sections,x,h.tempValueStrAndroid,M,t]);g.useEffect(()=>(A.current&&A.current===He(document)&&w("all"),()=>{clearTimeout(n.current),clearTimeout(r.current)}),[]);const fe=g.useMemo(()=>y==null||h.sections[y].contentType==="letter"?"text":"numeric",[y,h.sections]),W=!(A.current&&A.current===He(document))&&N;return{interactions:E,returnedValue:{readOnly:u,onBlur:ae,onClick:U,onFocus:L,onPaste:J,inputRef:B,enableAccessibleFieldDOMStructure:!1,placeholder:se,inputMode:fe,autoComplete:"off",value:W?"":pe,onChange:Q}}},fc=e=>{const t=Te(),{internalProps:n,internalProps:{unstableFieldRef:r,minutesStep:a,enableAccessibleFieldDOMStructure:o=!1,disabled:i=!1,readOnly:c=!1},forwardedProps:{onKeyDown:l,error:d,clearable:u,onClear:f},fieldValueManager:p,valueManager:y,validator:h}=e,x=ot(),m=sc(e),{state:b,activeSectionIndex:I,parsedSelectedSections:S,setSelectedSections:D,clearValue:C,clearActiveSection:k,updateSectionValue:P,setTempAndroidValueStr:w,sectionsValueBoundaries:F,localizedDigits:N,timezone:M}=m,A=lc({sections:b.sections,updateSectionValue:P,sectionsValueBoundaries:F,localizedDigits:N,setTempAndroidValueStr:w,timezone:M}),{resetCharacterQuery:B}=A,T=y.areValuesEqual(t,b.value,y.emptyValue),E=o?cc:dc,j=g.useMemo(()=>zi(b.sections,x&&!o),[b.sections,x,o]),{returnedValue:L,interactions:U}=E(v({},e,m,A,{areAllSectionsEmpty:T,sectionOrder:j})),J=ne(H=>{if(l==null||l(H),!i)switch(!0){case((H.ctrlKey||H.metaKey)&&String.fromCharCode(H.keyCode)==="A"&&!H.shiftKey&&!H.altKey):{H.preventDefault(),D("all");break}case H.key==="ArrowRight":{if(H.preventDefault(),S==null)D(j.startIndex);else if(S==="all")D(j.endIndex);else{const W=j.neighbors[S].rightIndex;W!==null&&D(W)}break}case H.key==="ArrowLeft":{if(H.preventDefault(),S==null)D(j.endIndex);else if(S==="all")D(j.startIndex);else{const W=j.neighbors[S].leftIndex;W!==null&&D(W)}break}case H.key==="Delete":{if(H.preventDefault(),c)break;S==null||S==="all"?C():k(),B();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(H.key):{if(H.preventDefault(),c||I==null)break;S==="all"&&D(I);const W=b.sections[I],Y=p.getActiveDateManager(t,b,W),$=Ei(t,M,W,H.key,F,N,Y.date,{minutesStep:a});P({activeSection:W,newSectionValue:$,shouldGoToNextSection:!1});break}}});ut(()=>{U.syncSelectionToDOM()});const{hasValidationError:ae}=Ba({props:n,validator:h,timezone:M,value:b.value,onError:n.onError}),Q=g.useMemo(()=>d!==void 0?d:ae,[ae,d]);g.useEffect(()=>{!Q&&I==null&&B()},[b.referenceValue,I,Q]),g.useEffect(()=>{b.tempValueStrAndroid!=null&&I!=null&&(B(),k())},[b.sections]),g.useImperativeHandle(r,()=>({getSections:()=>b.sections,getActiveSectionIndex:U.getActiveSectionIndexFromDOM,setSelectedSections:U.setSelectedSections,focusField:U.focusField,isFieldFocused:U.isFieldFocused}));const se=ne((H,...W)=>{H.preventDefault(),f==null||f(H,...W),C(),U.isFieldFocused()?D(j.startIndex):U.focusField(0)}),pe={onKeyDown:J,onClear:se,error:Q,clearable:!!(u&&!T&&!c&&!i)},fe={disabled:i,readOnly:c};return v({},e.forwardedProps,pe,fe,L)},pc=["clearable","onClear","InputProps","sx","slots","slotProps"],mc=["ownerState"],hc=e=>{const t=gt(),{clearable:n,onClear:r,InputProps:a,sx:o,slots:i,slotProps:c}=e,l=le(e,pc),d=(i==null?void 0:i.clearButton)??ht,u=ve({elementType:d,externalSlotProps:c==null?void 0:c.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:t.fieldClearLabel}}),f=le(u,mc),p=(i==null?void 0:i.clearIcon)??Jl,y=ve({elementType:p,externalSlotProps:c==null?void 0:c.clearIcon,ownerState:{}});return v({},l,{InputProps:v({},a,{endAdornment:s.jsxs(g.Fragment,{children:[n&&s.jsx(ra,{position:"end",sx:{marginRight:a!=null&&a.endAdornment?-1:-1.5},children:s.jsx(d,v({},f,{onClick:r,children:s.jsx(p,v({fontSize:"small"},y))}))}),a==null?void 0:a.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})},gc=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],bc=(e,t)=>g.useMemo(()=>{const n=v({},e),r={},a=o=>{n.hasOwnProperty(o)&&(r[o]=n[o],delete n[o])};return gc.forEach(a),$a.forEach(a),{forwardedProps:n,internalProps:r}},[e,t]),xc=e=>{const t=Te(),n=vn();return v({},e,{disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,format:e.format??t.formats.keyboardDate,minDate:Qe(t,e.minDate,n.minDate),maxDate:Qe(t,e.maxDate,n.maxDate)})},vc=e=>{const t=xc(e),{forwardedProps:n,internalProps:r}=bc(t,"date");return fc({forwardedProps:n,internalProps:r,valueManager:dt,fieldValueManager:Ui,validator:yn,valueType:"date"})};function yc(e){return Se("MuiPickersTextField",e)}Ce("MuiPickersTextField",["root","focused","disabled","error","required"]);function Ic(e){return Se("MuiPickersInputBase",e)}const Ut=Ce("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function wc(e){return Se("MuiPickersSectionList",e)}const an=Ce("MuiPickersSectionList",["root","section","sectionContent"]),Sc=["slots","slotProps","elements","sectionListRef"],qa=ee("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(e,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),Ga=ee("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(e,t)=>t.section})({}),Qa=ee("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(e,t)=>t.sectionSeparator})({whiteSpace:"pre"}),Xa=ee("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(e,t)=>t.sectionContent})({outline:"none"}),Cc=e=>{const{classes:t}=e;return Ie({root:["root"],section:["section"],sectionContent:["sectionContent"]},wc,t)};function Pc(e){const{slots:t,slotProps:n,element:r,classes:a}=e,o=(t==null?void 0:t.section)??Ga,i=ve({elementType:o,externalSlotProps:n==null?void 0:n.section,externalForwardedProps:r.container,className:a.section,ownerState:{}}),c=(t==null?void 0:t.sectionContent)??Xa,l=ve({elementType:c,externalSlotProps:n==null?void 0:n.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:a.sectionContent,ownerState:{}}),d=(t==null?void 0:t.sectionSeparator)??Qa,u=ve({elementType:d,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.before,ownerState:{position:"before"}}),f=ve({elementType:d,externalSlotProps:n==null?void 0:n.sectionSeparator,externalForwardedProps:r.after,ownerState:{position:"after"}});return s.jsxs(o,v({},i,{children:[s.jsx(d,v({},u)),s.jsx(c,v({},l)),s.jsx(d,v({},f))]}))}const Dc=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersSectionList"}),{slots:a,slotProps:o,elements:i,sectionListRef:c}=r,l=le(r,Sc),d=Cc(r),u=g.useRef(null),f=Le(n,u),p=x=>{if(!u.current)throw new Error(`MUI X: Cannot call sectionListRef.${x} before the mount of the component.`);return u.current};g.useImperativeHandle(c,()=>({getRoot(){return p("getRoot")},getSectionContainer(x){return p("getSectionContainer").querySelector(`.${an.section}[data-sectionindex="${x}"]`)},getSectionContent(x){return p("getSectionContent").querySelector(`.${an.section}[data-sectionindex="${x}"] .${an.sectionContent}`)},getSectionIndexFromDOMElement(x){const m=p("getSectionIndexFromDOMElement");if(x==null||!m.contains(x))return null;let b=null;return x.classList.contains(an.section)?b=x:x.classList.contains(an.sectionContent)&&(b=x.parentElement),b==null?null:Number(b.dataset.sectionindex)}}));const y=(a==null?void 0:a.root)??qa,h=ve({elementType:y,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:l,additionalProps:{ref:f,suppressContentEditableWarning:!0},className:d.root,ownerState:{}});return s.jsx(y,v({},h,{children:h.contentEditable?i.map(({content:x,before:m,after:b})=>`${m.children}${x.children}${b.children}`).join(""):s.jsx(g.Fragment,{children:i.map((x,m)=>s.jsx(Pc,{slots:a,slotProps:o,element:x,classes:d},m))})}))}),kc=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Mc=e=>Math.round(e*1e5)/1e5,Yn=ee("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>v({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Mc(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),xr=ee(qa,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:t,focused:n,filled:r,label:a})=>!t&&!n&&!r&&a==null,style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),Tc=ee(Ga,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(e,t)=>t.section})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),jc=ee(Xa,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,t)=>t.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Rc=ee(Qa,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(e,t)=>t.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Vc=ee("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,t)=>t.hiddenInput})(v({},Cs)),Ec=e=>{const{focused:t,disabled:n,error:r,classes:a,fullWidth:o,readOnly:i,color:c,size:l,endAdornment:d,startAdornment:u}=e,f={root:["root",t&&!n&&"focused",n&&"disabled",i&&"readOnly",r&&"error",o&&"fullWidth",`color${at(c)}`,l==="small"&&"inputSizeSmall",!!u&&"adornedStart",!!d&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return Ie(f,Ic,a)},vr=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersInputBase"}),{elements:a,areAllSectionsEmpty:o,value:i,onChange:c,id:l,endAdornment:d,startAdornment:u,renderSuffix:f,slots:p,slotProps:y,contentEditable:h,tabIndex:x,onInput:m,onPaste:b,onKeyDown:I,name:S,readOnly:D,inputProps:C,inputRef:k,sectionListRef:P}=r,w=le(r,kc),F=g.useRef(null),N=Le(n,F),M=Le(C==null?void 0:C.ref,k),A=ot(),B=bn();if(!B)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const T=ae=>{var Q;if(B.disabled){ae.stopPropagation();return}(Q=B.onFocus)==null||Q.call(B,ae)};g.useEffect(()=>{B&&B.setAdornedStart(!!u)},[B,u]),g.useEffect(()=>{B&&(o?B.onEmpty():B.onFilled())},[B,o]);const E=v({},r,B,{isRtl:A}),j=Ec(E),L=(p==null?void 0:p.root)||Yn,U=ve({elementType:L,externalSlotProps:y==null?void 0:y.root,externalForwardedProps:w,additionalProps:{"aria-invalid":B.error,ref:N},className:j.root,ownerState:E}),J=(p==null?void 0:p.input)||xr;return s.jsxs(L,v({},U,{children:[u,s.jsx(Dc,{sectionListRef:P,elements:a,contentEditable:h,tabIndex:x,className:j.sectionsContainer,onFocus:T,onBlur:B.onBlur,onInput:m,onPaste:b,onKeyDown:I,slots:{root:J,section:Tc,sectionContent:jc,sectionSeparator:Rc},slotProps:{root:{ownerState:E},sectionContent:{className:Ut.sectionContent},sectionSeparator:({position:ae})=>({className:ae==="before"?Ut.sectionBefore:Ut.sectionAfter})}}),d,f?f(v({},B)):null,s.jsx(Vc,v({name:S,className:j.input,value:i,onChange:c,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:D,required:B.required,disabled:B.disabled},C,{ref:M}))]}))});function Ac(e){return Se("MuiPickersOutlinedInput",e)}const tt=v({},Ut,Ce("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Fc=["children","className","label","notched","shrink"],Oc=ee("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Hr=ee("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Nc=ee("legend")(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Lc(e){const{className:t,label:n}=e,r=le(e,Fc),a=n!=null&&n!=="",o=v({},e,{withLabel:a});return s.jsx(Oc,v({"aria-hidden":!0,className:t},r,{ownerState:o,children:s.jsx(Nc,{ownerState:o,children:a?s.jsx(Hr,{children:n}):s.jsx(Hr,{className:"notranslate",children:"​"})})}))}const $c=["label","autoFocus","ownerState","notched"],zc=ee(Yn,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${tt.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${tt.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${tt.focused} .${tt.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${tt.disabled}`]:{[`& .${tt.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${tt.error} .${tt.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(n=>{var r;return((r=(e.vars??e).palette[n])==null?void 0:r.main)??!1}).map(n=>({props:{color:n},style:{[`&.${tt.focused}:not(.${tt.error}) .${tt.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}}))}}),Bc=ee(xr,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),_c=e=>{const{classes:t}=e,r=Ie({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ac,t);return v({},t,r)},Za=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersOutlinedInput"}),{label:a,ownerState:o,notched:i}=r,c=le(r,$c),l=bn(),d=v({},r,o,l,{color:(l==null?void 0:l.color)||"primary"}),u=_c(d);return s.jsx(vr,v({slots:{root:zc,input:Bc},renderSuffix:f=>s.jsx(Lc,{shrink:!!(i||f.adornedStart||f.focused||f.filled),notched:!!(i||f.adornedStart||f.focused||f.filled),className:u.notchedOutline,label:a!=null&&a!==""&&(l!=null&&l.required)?s.jsxs(g.Fragment,{children:[a," ","*"]}):a,ownerState:d})},c,{label:a,classes:u,ref:n}))});Za.muiName="Input";function Wc(e){return Se("MuiPickersFilledInput",e)}const jt=v({},Ut,Ce("MuiPickersFilledInput",["root","underline","input"])),Uc=["label","autoFocus","disableUnderline","ownerState"],Hc=ee(Yn,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>aa(e)&&e!=="disableUnderline"})(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${jt.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${jt.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((e.vars??e).palette).filter(i=>(e.vars??e).palette[i].main).map(i=>{var c;return{props:{color:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(c=(e.vars||e).palette[i])==null?void 0:c.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${jt.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${jt.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${jt.disabled}, .${jt.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${jt.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:i})=>!!i,style:{paddingLeft:12}},{props:({endAdornment:i})=>!!i,style:{paddingRight:12}}]}}),Yc=ee(xr,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(e,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:e})=>!!e,style:{paddingLeft:0}},{props:({endAdornment:e})=>!!e,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Kc=e=>{const{classes:t,disableUnderline:n}=e,a=Ie({root:["root",!n&&"underline"],input:["input"]},Wc,t);return v({},t,a)},Ja=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersFilledInput"}),{label:a,disableUnderline:o=!1,ownerState:i}=r,c=le(r,Uc),l=bn(),d=v({},r,i,l,{color:(l==null?void 0:l.color)||"primary"}),u=Kc(d);return s.jsx(vr,v({slots:{root:Hc,input:Yc},slotProps:{root:{disableUnderline:o}}},c,{label:a,classes:u,ref:n}))});Ja.muiName="Input";function qc(e){return Se("MuiPickersFilledInput",e)}const on=v({},Ut,Ce("MuiPickersInput",["root","input"])),Gc=["label","autoFocus","disableUnderline","ownerState"],Qc=ee(Yn,{name:"MuiPickersInput",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(r=>(e.vars??e).palette[r].main).map(r=>({props:{color:r},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${on.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${on.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${on.disabled}, .${on.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${on.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Xc=e=>{const{classes:t,disableUnderline:n}=e,a=Ie({root:["root",!n&&"underline"],input:["input"]},qc,t);return v({},t,a)},eo=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersInput"}),{label:a,disableUnderline:o=!1,ownerState:i}=r,c=le(r,Gc),l=bn(),d=v({},r,i,l,{disableUnderline:o,color:(l==null?void 0:l.color)||"primary"}),u=Xc(d);return s.jsx(vr,v({slots:{root:Qc}},c,{label:a,classes:u,ref:n}))});eo.muiName="Input";const Zc=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Jc={standard:eo,filled:Ja,outlined:Za},eu=ee(ct,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),tu=e=>{const{focused:t,disabled:n,classes:r,required:a}=e;return Ie({root:["root",t&&!n&&"focused",n&&"disabled",a&&"required"]},yc,r)},nu=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersTextField"}),{onFocus:a,onBlur:o,className:i,color:c="primary",disabled:l=!1,error:d=!1,variant:u="outlined",required:f=!1,InputProps:p,inputProps:y,inputRef:h,sectionListRef:x,elements:m,areAllSectionsEmpty:b,onClick:I,onKeyDown:S,onKeyUp:D,onPaste:C,onInput:k,endAdornment:P,startAdornment:w,tabIndex:F,contentEditable:N,focused:M,value:A,onChange:B,fullWidth:T,id:E,name:j,helperText:L,FormHelperTextProps:U,label:J,InputLabelProps:ae}=r,Q=le(r,Zc),se=g.useRef(null),pe=Le(n,se),fe=qt(E),H=L&&fe?`${fe}-helper-text`:void 0,W=J&&fe?`${fe}-label`:void 0,Y=v({},r,{color:c,disabled:l,error:d,focused:M,required:f,variant:u}),$=tu(Y),_=Jc[u];return s.jsxs(eu,v({className:ye($.root,i),ref:pe,focused:M,onFocus:a,onBlur:o,disabled:l,variant:u,error:d,color:c,fullWidth:T,required:f,ownerState:Y},Q,{children:[s.jsx(Ct,v({htmlFor:fe,id:W},ae,{children:J})),s.jsx(_,v({elements:m,areAllSectionsEmpty:b,onClick:I,onKeyDown:S,onKeyUp:D,onInput:k,onPaste:C,endAdornment:P,startAdornment:w,tabIndex:F,contentEditable:N,value:A,onChange:B,id:fe,fullWidth:T,inputProps:y,inputRef:h,sectionListRef:x,label:J,name:j,role:"group","aria-labelledby":W,"aria-describedby":H,"aria-live":H?"polite":void 0},p)),L&&s.jsx(ms,v({id:H},U,{children:L}))]}))}),ru=["enableAccessibleFieldDOMStructure"],au=["InputProps","readOnly"],ou=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],su=e=>{let{enableAccessibleFieldDOMStructure:t}=e,n=le(e,ru);if(t){const{InputProps:f,readOnly:p}=n,y=le(n,au);return v({},y,{InputProps:v({},f??{},{readOnly:p})})}const{onPaste:r,onKeyDown:a,inputMode:o,readOnly:i,InputProps:c,inputProps:l,inputRef:d}=n,u=le(n,ou);return v({},u,{InputProps:v({},c??{},{readOnly:i}),inputProps:v({},l??{},{inputMode:o,onPaste:r,onKeyDown:a,ref:d})})},iu=["slots","slotProps","InputProps","inputProps"],to=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiDateField"}),{slots:a,slotProps:o,InputProps:i,inputProps:c}=r,l=le(r,iu),d=r,u=(a==null?void 0:a.textField)??(t.enableAccessibleFieldDOMStructure?nu:je),f=ve({elementType:u,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:l,additionalProps:{ref:n},ownerState:d});f.inputProps=v({},c,f.inputProps),f.InputProps=v({},i,f.InputProps);const p=vc(f),y=su(p),h=hc(v({},y,{slots:a,slotProps:o}));return s.jsx(u,v({},h))}),no=({shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:a,disableFuture:o,disablePast:i,timezone:c})=>{const l=Lt();return g.useCallback(d=>yn({adapter:l,value:d,timezone:c,props:{shouldDisableDate:e,shouldDisableMonth:t,shouldDisableYear:n,minDate:r,maxDate:a,disableFuture:o,disablePast:i}})!==null,[l,e,t,n,r,a,o,i,c])},lu=(e,t,n)=>(r,a)=>{switch(a.type){case"changeMonth":return v({},r,{slideDirection:a.direction,currentMonth:a.newMonth,isMonthSwitchingAnimating:!e});case"changeMonthTimezone":{const o=a.newTimezone;if(n.getTimezone(r.currentMonth)===o)return r;let i=n.setTimezone(r.currentMonth,o);return n.getMonth(i)!==n.getMonth(r.currentMonth)&&(i=n.setMonth(i,n.getMonth(r.currentMonth))),v({},r,{currentMonth:i})}case"finishMonthSwitchingAnimation":return v({},r,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(r.focusedDay!=null&&a.focusedDay!=null&&n.isSameDay(a.focusedDay,r.focusedDay))return r;const o=a.focusedDay!=null&&!t&&!n.isSameMonth(r.currentMonth,a.focusedDay);return v({},r,{focusedDay:a.focusedDay,isMonthSwitchingAnimating:o&&!e&&!a.withoutMonthSwitchingAnimation,currentMonth:o?n.startOfMonth(a.focusedDay):r.currentMonth,slideDirection:a.focusedDay!=null&&n.isAfterDay(a.focusedDay,r.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},cu=e=>{const{value:t,referenceDate:n,disableFuture:r,disablePast:a,disableSwitchToMonthOnDayFocus:o=!1,maxDate:i,minDate:c,onMonthChange:l,reduceAnimations:d,shouldDisableDate:u,timezone:f}=e,p=Te(),y=g.useRef(lu(!!d,o,p)).current,h=g.useMemo(()=>dt.getInitialReferenceValue({value:t,utils:p,timezone:f,props:e,referenceDate:n,granularity:lt.day}),[n,f]),[x,m]=g.useReducer(y,{isMonthSwitchingAnimating:!1,focusedDay:h,currentMonth:p.startOfMonth(h),slideDirection:"left"});g.useEffect(()=>{m({type:"changeMonthTimezone",newTimezone:p.getTimezone(h)})},[h,p]);const b=g.useCallback(k=>{m(v({type:"changeMonth"},k)),l&&l(k.newMonth)},[l]),I=g.useCallback(k=>{const P=k;p.isSameMonth(P,x.currentMonth)||b({newMonth:p.startOfMonth(P),direction:p.isAfterDay(P,x.currentMonth)?"left":"right"})},[x.currentMonth,b,p]),S=no({shouldDisableDate:u,minDate:c,maxDate:i,disableFuture:r,disablePast:a,timezone:f}),D=g.useCallback(()=>{m({type:"finishMonthSwitchingAnimation"})},[]),C=ne((k,P)=>{S(k)||m({type:"changeFocusedDay",focusedDay:k,withoutMonthSwitchingAnimation:P})});return{referenceDate:h,calendarState:x,changeMonth:I,changeFocusedDay:C,isDateDisabled:S,onMonthSwitchingAnimationEnd:D,handleChangeMonth:b}},uu=e=>Se("MuiPickersFadeTransitionGroup",e);Ce("MuiPickersFadeTransitionGroup",["root"]);const du=e=>{const{classes:t}=e;return Ie({root:["root"]},uu,t)},fu=ee(oa,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"block",position:"relative"});function ro(e){const t=Me({props:e,name:"MuiPickersFadeTransitionGroup"}),{children:n,className:r,reduceAnimations:a,transKey:o}=t,i=du(t),c=Ln();return a?n:s.jsx(fu,{className:ye(i.root,r),children:s.jsx(zn,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:c.transitions.duration.enteringScreen,enter:c.transitions.duration.enteringScreen,exit:0},children:n},o)})}function pu(e){return Se("MuiPickersDay",e)}const Rt=Ce("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),mu=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],hu=e=>{const{selected:t,disableMargin:n,disableHighlightToday:r,today:a,disabled:o,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:c,classes:l}=e,d=i&&!c;return Ie({root:["root",t&&!d&&"selected",o&&"disabled",!n&&"dayWithMargin",!r&&a&&"today",i&&c&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},pu,l)},ao=({theme:e})=>v({},e.typography.caption,{width:fn,height:fn,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:nt(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:nt(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Rt.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Rt.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Rt.disabled}:not(.${Rt.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Rt.disabled}&.${Rt.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Un}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Rt.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),oo=(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableMargin&&t.dayWithMargin,!n.disableHighlightToday&&n.today&&t.today,!n.outsideCurrentMonth&&n.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,n.outsideCurrentMonth&&!n.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},gu=ee(ta,{name:"MuiPickersDay",slot:"Root",overridesResolver:oo})(ao),bu=ee("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:oo})(({theme:e})=>v({},ao({theme:e}),{opacity:0,pointerEvents:"none"})),sn=()=>{},xu=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiPickersDay"}),{autoFocus:a=!1,className:o,day:i,disabled:c=!1,disableHighlightToday:l=!1,disableMargin:d=!1,isAnimating:u,onClick:f,onDaySelect:p,onFocus:y=sn,onBlur:h=sn,onKeyDown:x=sn,onMouseDown:m=sn,onMouseEnter:b=sn,outsideCurrentMonth:I,selected:S=!1,showDaysOutsideCurrentMonth:D=!1,children:C,today:k=!1}=r,P=le(r,mu),w=v({},r,{autoFocus:a,disabled:c,disableHighlightToday:l,disableMargin:d,selected:S,showDaysOutsideCurrentMonth:D,today:k}),F=hu(w),N=Te(),M=g.useRef(null),A=Le(M,n);ut(()=>{a&&!c&&!u&&!I&&M.current.focus()},[a,c,u,I]);const B=E=>{m(E),I&&E.preventDefault()},T=E=>{c||p(i),I&&E.currentTarget.focus(),f&&f(E)};return I&&!D?s.jsx(bu,{className:ye(F.root,F.hiddenDaySpacingFiller,o),ownerState:w,role:P.role}):s.jsx(gu,v({className:ye(F.root,o),ref:A,centerRipple:!0,disabled:c,tabIndex:S?0:-1,onKeyDown:E=>x(E,i),onFocus:E=>y(E,i),onBlur:E=>h(E,i),onMouseEnter:E=>b(E,i),onClick:T,onMouseDown:B},P,{ownerState:w,children:C||N.format(i,"dayOfMonth")}))}),vu=g.memo(xu),yu=e=>Se("MuiPickersSlideTransition",e),Ge=Ce("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Iu=["children","className","reduceAnimations","slideDirection","transKey","classes"],wu=e=>{const{classes:t,slideDirection:n}=e,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${n}`],exitActive:[`slideExitActiveLeft-${n}`]};return Ie(r,yu,t)},Su=ee(oa,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`.${Ge["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${Ge["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${Ge.slideEnterActive}`]:t.slideEnterActive},{[`.${Ge.slideExit}`]:t.slideExit},{[`.${Ge["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${Ge["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:e})=>{const t=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Ge["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Ge["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Ge.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${Ge.slideExit}`]:{transform:"translate(0%)"},[`& .${Ge["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${Ge["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function Cu(e){const t=Me({props:e,name:"MuiPickersSlideTransition"}),{children:n,className:r,reduceAnimations:a,transKey:o}=t,i=le(t,Iu),c=wu(t),l=Ln();if(a)return s.jsx("div",{className:ye(c.root,r),children:n});const d={exit:c.exit,enterActive:c.enterActive,enter:c.enter,exitActive:c.exitActive};return s.jsx(Su,{className:ye(c.root,r),childFactory:u=>g.cloneElement(u,{classNames:d}),role:"presentation",children:s.jsx(cr,v({mountOnEnter:!0,unmountOnExit:!0,timeout:l.transitions.duration.complex,classNames:d},i,{children:n}),o)})}const Pu=e=>Se("MuiDayCalendar",e);Ce("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Du=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],ku=["ownerState"],Mu=e=>{const{classes:t}=e;return Ie({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Pu,t)},so=(fn+Un*2)*6,Tu=ee("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ju=ee("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(e,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Ru=ee(xe,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(e,t)=>t.weekDayLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Vu=ee(xe,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(e,t)=>t.weekNumberLabel})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:e.palette.text.disabled})),Eu=ee(xe,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(e,t)=>t.weekNumber})(({theme:e})=>v({},e.typography.caption,{width:fn,height:fn,padding:0,margin:`0 ${Un}px`,color:e.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Au=ee("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(e,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:so}),Fu=ee(Cu,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(e,t)=>t.slideTransition})({minHeight:so}),Ou=ee("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(e,t)=>t.monthContainer})({overflow:"hidden"}),Nu=ee("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(e,t)=>t.weekContainer})({margin:`${Un}px 0`,display:"flex",justifyContent:"center"});function Lu(e){let{parentProps:t,day:n,focusableDay:r,selectedDays:a,isDateDisabled:o,currentMonthNumber:i,isViewFocused:c}=e,l=le(e,Du);const{disabled:d,disableHighlightToday:u,isMonthSwitchingAnimating:f,showDaysOutsideCurrentMonth:p,slots:y,slotProps:h,timezone:x}=t,m=Te(),b=Wn(x),I=r!==null&&m.isSameDay(n,r),S=a.some(A=>m.isSameDay(A,n)),D=m.isSameDay(n,b),C=(y==null?void 0:y.day)??vu,k=ve({elementType:C,externalSlotProps:h==null?void 0:h.day,additionalProps:v({disableHighlightToday:u,showDaysOutsideCurrentMonth:p,role:"gridcell",isAnimating:f,"data-timestamp":m.toJsDate(n).valueOf()},l),ownerState:v({},t,{day:n,selected:S})}),P=le(k,ku),w=g.useMemo(()=>d||o(n),[d,o,n]),F=g.useMemo(()=>m.getMonth(n)!==i,[m,n,i]),N=g.useMemo(()=>{const A=m.startOfMonth(m.setMonth(n,i));return p?m.isSameDay(n,m.startOfWeek(A)):m.isSameDay(n,A)},[i,n,p,m]),M=g.useMemo(()=>{const A=m.endOfMonth(m.setMonth(n,i));return p?m.isSameDay(n,m.endOfWeek(A)):m.isSameDay(n,A)},[i,n,p,m]);return s.jsx(C,v({},P,{day:n,disabled:w,autoFocus:c&&I,today:D,outsideCurrentMonth:F,isFirstVisibleCell:N,isLastVisibleCell:M,selected:S,tabIndex:I?0:-1,"aria-selected":S,"aria-current":D?"date":void 0}))}function $u(e){const t=Me({props:e,name:"MuiDayCalendar"}),n=Te(),{onFocusedDayChange:r,className:a,currentMonth:o,selectedDays:i,focusedDay:c,loading:l,onSelectedDaysChange:d,onMonthSwitchingAnimationEnd:u,readOnly:f,reduceAnimations:p,renderLoading:y=()=>s.jsx("span",{children:"..."}),slideDirection:h,TransitionProps:x,disablePast:m,disableFuture:b,minDate:I,maxDate:S,shouldDisableDate:D,shouldDisableMonth:C,shouldDisableYear:k,dayOfWeekFormatter:P=G=>n.format(G,"weekdayShort").charAt(0).toUpperCase(),hasFocus:w,onFocusedViewChange:F,gridLabelId:N,displayWeekNumber:M,fixedWeekNumber:A,autoFocus:B,timezone:T}=t,E=Wn(T),j=Mu(t),L=ot(),U=no({shouldDisableDate:D,shouldDisableMonth:C,shouldDisableYear:k,minDate:I,maxDate:S,disablePast:m,disableFuture:b,timezone:T}),J=gt(),[ae,Q]=mt({name:"DayCalendar",state:"hasFocus",controlled:w,default:B??!1}),[se,pe]=g.useState(()=>c||E),fe=ne(G=>{f||d(G)}),H=G=>{U(G)||(r(G),pe(G),F==null||F(!0),Q(!0))},W=ne((G,z)=>{switch(G.key){case"ArrowUp":H(n.addDays(z,-7)),G.preventDefault();break;case"ArrowDown":H(n.addDays(z,7)),G.preventDefault();break;case"ArrowLeft":{const V=n.addDays(z,L?1:-1),Z=n.addMonths(z,L?1:-1),ie=un({utils:n,date:V,minDate:L?V:n.startOfMonth(Z),maxDate:L?n.endOfMonth(Z):V,isDateDisabled:U,timezone:T});H(ie||V),G.preventDefault();break}case"ArrowRight":{const V=n.addDays(z,L?-1:1),Z=n.addMonths(z,L?-1:1),ie=un({utils:n,date:V,minDate:L?n.startOfMonth(Z):V,maxDate:L?V:n.endOfMonth(Z),isDateDisabled:U,timezone:T});H(ie||V),G.preventDefault();break}case"Home":H(n.startOfWeek(z)),G.preventDefault();break;case"End":H(n.endOfWeek(z)),G.preventDefault();break;case"PageUp":H(n.addMonths(z,1)),G.preventDefault();break;case"PageDown":H(n.addMonths(z,-1)),G.preventDefault();break}}),Y=ne((G,z)=>H(z)),$=ne((G,z)=>{ae&&n.isSameDay(se,z)&&(F==null||F(!1))}),_=n.getMonth(o),X=n.getYear(o),oe=g.useMemo(()=>i.filter(G=>!!G).map(G=>n.startOfDay(G)),[n,i]),re=`${X}-${_}`,O=g.useMemo(()=>g.createRef(),[re]),q=g.useMemo(()=>{const G=n.startOfMonth(o),z=n.endOfMonth(o);return U(se)||n.isAfterDay(se,z)||n.isBeforeDay(se,G)?un({utils:n,date:se,minDate:G,maxDate:z,disablePast:m,disableFuture:b,isDateDisabled:U,timezone:T}):se},[o,b,m,se,U,n,T]),te=g.useMemo(()=>{const G=n.getWeekArray(o);let z=n.addMonths(o,1);for(;A&&G.length<A;){const V=n.getWeekArray(z),Z=n.isSameDay(G[G.length-1][0],V[0][0]);V.slice(Z?1:0).forEach(ie=>{G.length<A&&G.push(ie)}),z=n.addMonths(z,1)}return G},[o,A,n]);return s.jsxs(Tu,{role:"grid","aria-labelledby":N,className:j.root,children:[s.jsxs(ju,{role:"row",className:j.header,children:[M&&s.jsx(Vu,{variant:"caption",role:"columnheader","aria-label":J.calendarWeekNumberHeaderLabel,className:j.weekNumberLabel,children:J.calendarWeekNumberHeaderText}),Ci(n,E).map((G,z)=>s.jsx(Ru,{variant:"caption",role:"columnheader","aria-label":n.format(G,"weekday"),className:j.weekDayLabel,children:P(G)},z.toString()))]}),l?s.jsx(Au,{className:j.loadingContainer,children:y()}):s.jsx(Fu,v({transKey:re,onExited:u,reduceAnimations:p,slideDirection:h,className:ye(a,j.slideTransition)},x,{nodeRef:O,children:s.jsx(Ou,{ref:O,role:"rowgroup",className:j.monthContainer,children:te.map((G,z)=>s.jsxs(Nu,{role:"row",className:j.weekContainer,"aria-rowindex":z+1,children:[M&&s.jsx(Eu,{className:j.weekNumber,role:"rowheader","aria-label":J.calendarWeekNumberAriaLabelText(n.getWeekNumber(G[0])),children:J.calendarWeekNumberText(n.getWeekNumber(G[0]))}),G.map((V,Z)=>s.jsx(Lu,{parentProps:t,day:V,selectedDays:oe,focusableDay:q,onKeyDown:W,onFocus:Y,onBlur:$,onDaySelect:fe,isDateDisabled:U,currentMonthNumber:_,isViewFocused:ae,"aria-colindex":Z+1},V.toString()))]},`week-${G[0]}`))})}))]})}function zu(e){return Se("MuiPickersMonth",e)}const Mn=Ce("MuiPickersMonth",["root","monthButton","disabled","selected"]),Bu=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],_u=e=>{const{disabled:t,selected:n,classes:r}=e;return Ie({root:["root"],monthButton:["monthButton",t&&"disabled",n&&"selected"]},zu,r)},Wu=ee("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Uu=ee("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(e,t)=>[t.monthButton,{[`&.${Mn.disabled}`]:t.disabled},{[`&.${Mn.selected}`]:t.selected}]})(({theme:e})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:nt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:nt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Mn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Mn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),Hu=g.memo(function(t){const n=Me({props:t,name:"MuiPickersMonth"}),{autoFocus:r,className:a,children:o,disabled:i,selected:c,value:l,tabIndex:d,onClick:u,onKeyDown:f,onFocus:p,onBlur:y,"aria-current":h,"aria-label":x,slots:m,slotProps:b}=n,I=le(n,Bu),S=g.useRef(null),D=_u(n);ut(()=>{var P;r&&((P=S.current)==null||P.focus())},[r]);const C=(m==null?void 0:m.monthButton)??Uu,k=ve({elementType:C,externalSlotProps:b==null?void 0:b.monthButton,additionalProps:{children:o,disabled:i,tabIndex:d,ref:S,type:"button",role:"radio","aria-current":h,"aria-checked":c,"aria-label":x,onClick:P=>u(P,l),onKeyDown:P=>f(P,l),onFocus:P=>p(P,l),onBlur:P=>y(P,l)},ownerState:n,className:D.monthButton});return s.jsx(Wu,v({className:ye(D.root,a),ownerState:n},I,{children:s.jsx(C,v({},k))}))});function Yu(e){return Se("MuiMonthCalendar",e)}Ce("MuiMonthCalendar",["root"]);const Ku=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],qu=e=>{const{classes:t}=e;return Ie({root:["root"]},Yu,t)};function Gu(e,t){const n=Te(),r=vn(),a=Me({props:e,name:t});return v({disableFuture:!1,disablePast:!1},a,{minDate:Qe(n,a.minDate,r.minDate),maxDate:Qe(n,a.maxDate,r.maxDate)})}const Qu=ee("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Hn,boxSizing:"border-box"}),Xu=g.forwardRef(function(t,n){const r=Gu(t,"MuiMonthCalendar"),{className:a,value:o,defaultValue:i,referenceDate:c,disabled:l,disableFuture:d,disablePast:u,maxDate:f,minDate:p,onChange:y,shouldDisableMonth:h,readOnly:x,autoFocus:m=!1,onMonthFocus:b,hasFocus:I,onFocusedViewChange:S,monthsPerRow:D=3,timezone:C,gridLabelId:k,slots:P,slotProps:w}=r,F=le(r,Ku),{value:N,handleValueChange:M,timezone:A}=gr({name:"MonthCalendar",timezone:C,value:o,defaultValue:i,referenceDate:c,onChange:y,valueManager:dt}),B=Wn(A),T=ot(),E=Te(),j=g.useMemo(()=>dt.getInitialReferenceValue({value:N,utils:E,props:r,timezone:A,referenceDate:c,granularity:lt.month}),[]),L=r,U=qu(L),J=g.useMemo(()=>E.getMonth(B),[E,B]),ae=g.useMemo(()=>N!=null?E.getMonth(N):null,[N,E]),[Q,se]=g.useState(()=>ae||E.getMonth(j)),[pe,fe]=mt({name:"MonthCalendar",state:"hasFocus",controlled:I,default:m??!1}),H=ne(re=>{fe(re),S&&S(re)}),W=g.useCallback(re=>{const O=E.startOfMonth(u&&E.isAfter(B,p)?B:p),q=E.startOfMonth(d&&E.isBefore(B,f)?B:f),te=E.startOfMonth(re);return E.isBefore(te,O)||E.isAfter(te,q)?!0:h?h(te):!1},[d,u,f,p,B,h,E]),Y=ne((re,O)=>{if(x)return;const q=E.setMonth(N??j,O);M(q)}),$=ne(re=>{W(E.setMonth(N??j,re))||(se(re),H(!0),b&&b(re))});g.useEffect(()=>{se(re=>ae!==null&&re!==ae?ae:re)},[ae]);const _=ne((re,O)=>{switch(re.key){case"ArrowUp":$((12+O-3)%12),re.preventDefault();break;case"ArrowDown":$((12+O+3)%12),re.preventDefault();break;case"ArrowLeft":$((12+O+(T?1:-1))%12),re.preventDefault();break;case"ArrowRight":$((12+O+(T?-1:1))%12),re.preventDefault();break}}),X=ne((re,O)=>{$(O)}),oe=ne((re,O)=>{Q===O&&H(!1)});return s.jsx(Qu,v({ref:n,className:ye(U.root,a),ownerState:L,role:"radiogroup","aria-labelledby":k},F,{children:dr(E,N??j).map(re=>{const O=E.getMonth(re),q=E.format(re,"monthShort"),te=E.format(re,"month"),G=O===ae,z=l||W(re);return s.jsx(Hu,{selected:G,value:O,onClick:Y,onKeyDown:_,autoFocus:pe&&O===Q,disabled:z,tabIndex:O===Q&&!z?0:-1,onFocus:X,onBlur:oe,"aria-current":J===O?"date":void 0,"aria-label":te,monthsPerRow:D,slots:P,slotProps:w,children:q},q)})}))});function Zu(e){return Se("MuiPickersYear",e)}const Tn=Ce("MuiPickersYear",["root","yearButton","selected","disabled"]),Ju=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],ed=e=>{const{disabled:t,selected:n,classes:r}=e;return Ie({root:["root"],yearButton:["yearButton",t&&"disabled",n&&"selected"]},Zu,r)},td=ee("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),nd=ee("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,t)=>[t.yearButton,{[`&.${Tn.disabled}`]:t.disabled},{[`&.${Tn.selected}`]:t.selected}]})(({theme:e})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:nt(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:nt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Tn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${Tn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),rd=g.memo(function(t){const n=Me({props:t,name:"MuiPickersYear"}),{autoFocus:r,className:a,children:o,disabled:i,selected:c,value:l,tabIndex:d,onClick:u,onKeyDown:f,onFocus:p,onBlur:y,"aria-current":h,slots:x,slotProps:m}=n,b=le(n,Ju),I=g.useRef(null),S=ed(n);ut(()=>{var k;r&&((k=I.current)==null||k.focus())},[r]);const D=(x==null?void 0:x.yearButton)??nd,C=ve({elementType:D,externalSlotProps:m==null?void 0:m.yearButton,additionalProps:{children:o,disabled:i,tabIndex:d,ref:I,type:"button",role:"radio","aria-current":h,"aria-checked":c,onClick:k=>u(k,l),onKeyDown:k=>f(k,l),onFocus:k=>p(k,l),onBlur:k=>y(k,l)},ownerState:n,className:S.yearButton});return s.jsx(td,v({className:ye(S.root,a),ownerState:n},b,{children:s.jsx(D,v({},C))}))});function ad(e){return Se("MuiYearCalendar",e)}Ce("MuiYearCalendar",["root"]);const od=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],sd=e=>{const{classes:t}=e;return Ie({root:["root"]},ad,t)};function id(e,t){const n=Te(),r=vn(),a=Me({props:e,name:t});return v({disablePast:!1,disableFuture:!1},a,{yearsPerRow:a.yearsPerRow??3,minDate:Qe(n,a.minDate,r.minDate),maxDate:Qe(n,a.maxDate,r.maxDate)})}const ld=ee("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Hn,maxHeight:Al,boxSizing:"border-box",position:"relative"}),cd=g.forwardRef(function(t,n){const r=id(t,"MuiYearCalendar"),{autoFocus:a,className:o,value:i,defaultValue:c,referenceDate:l,disabled:d,disableFuture:u,disablePast:f,maxDate:p,minDate:y,onChange:h,readOnly:x,shouldDisableYear:m,onYearFocus:b,hasFocus:I,onFocusedViewChange:S,yearsOrder:D="asc",yearsPerRow:C,timezone:k,gridLabelId:P,slots:w,slotProps:F}=r,N=le(r,od),{value:M,handleValueChange:A,timezone:B}=gr({name:"YearCalendar",timezone:k,value:i,defaultValue:c,referenceDate:l,onChange:h,valueManager:dt}),T=Wn(B),E=ot(),j=Te(),L=g.useMemo(()=>dt.getInitialReferenceValue({value:M,utils:j,props:r,timezone:B,referenceDate:l,granularity:lt.year}),[]),U=r,J=sd(U),ae=g.useMemo(()=>j.getYear(T),[j,T]),Q=g.useMemo(()=>M!=null?j.getYear(M):null,[M,j]),[se,pe]=g.useState(()=>Q||j.getYear(L)),[fe,H]=mt({name:"YearCalendar",state:"hasFocus",controlled:I,default:a??!1}),W=ne(V=>{H(V),S&&S(V)}),Y=g.useCallback(V=>{if(f&&j.isBeforeYear(V,T)||u&&j.isAfterYear(V,T)||y&&j.isBeforeYear(V,y)||p&&j.isAfterYear(V,p))return!0;if(!m)return!1;const Z=j.startOfYear(V);return m(Z)},[u,f,p,y,T,m,j]),$=ne((V,Z)=>{if(x)return;const ie=j.setYear(M??L,Z);A(ie)}),_=ne(V=>{Y(j.setYear(M??L,V))||(pe(V),W(!0),b==null||b(V))});g.useEffect(()=>{pe(V=>Q!==null&&V!==Q?Q:V)},[Q]);const X=D!=="desc"?C*1:C*-1,oe=E&&D==="asc"||!E&&D==="desc"?-1:1,re=ne((V,Z)=>{switch(V.key){case"ArrowUp":_(Z-X),V.preventDefault();break;case"ArrowDown":_(Z+X),V.preventDefault();break;case"ArrowLeft":_(Z-oe),V.preventDefault();break;case"ArrowRight":_(Z+oe),V.preventDefault();break}}),O=ne((V,Z)=>{_(Z)}),q=ne((V,Z)=>{se===Z&&W(!1)}),te=g.useRef(null),G=Le(n,te);g.useEffect(()=>{if(a||te.current===null)return;const V=te.current.querySelector('[tabindex="0"]');if(!V)return;const Z=V.offsetHeight,ie=V.offsetTop,Pe=te.current.clientHeight,ue=te.current.scrollTop,me=ie+Z;Z>Pe||ie<ue||(te.current.scrollTop=me-Pe/2-Z/2)},[a]);const z=j.getYearRange([y,p]);return D==="desc"&&z.reverse(),s.jsx(ld,v({ref:G,className:ye(J.root,o),ownerState:U,role:"radiogroup","aria-labelledby":P},N,{children:z.map(V=>{const Z=j.getYear(V),ie=Z===Q,Pe=d||Y(V);return s.jsx(rd,{selected:ie,value:Z,onClick:$,onKeyDown:re,autoFocus:fe&&Z===se,disabled:Pe,tabIndex:Z===se&&!Pe?0:-1,onFocus:O,onBlur:q,"aria-current":ae===Z?"date":void 0,yearsPerRow:C,slots:w,slotProps:F,children:j.format(V,"year")},j.format(V,"year"))})}))}),ud=e=>Se("MuiPickersCalendarHeader",e),dd=Ce("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function fd(e){return Se("MuiPickersArrowSwitcher",e)}Ce("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const pd=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],md=["ownerState"],hd=["ownerState"],gd=ee("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex"}),bd=ee("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})(({theme:e})=>({width:e.spacing(3)})),Yr=ee(ht,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(e,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),xd=e=>{const{classes:t}=e;return Ie({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},fd,t)},vd=g.forwardRef(function(t,n){const r=ot(),a=Me({props:t,name:"MuiPickersArrowSwitcher"}),{children:o,className:i,slots:c,slotProps:l,isNextDisabled:d,isNextHidden:u,onGoToNext:f,nextLabel:p,isPreviousDisabled:y,isPreviousHidden:h,onGoToPrevious:x,previousLabel:m,labelId:b}=a,I=le(a,pd),S=a,D=xd(S),C={isDisabled:d,isHidden:u,goTo:f,label:p},k={isDisabled:y,isHidden:h,goTo:x,label:m},P=(c==null?void 0:c.previousIconButton)??Yr,w=ve({elementType:P,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:k.label,"aria-label":k.label,disabled:k.isDisabled,edge:"end",onClick:k.goTo},ownerState:v({},S,{hidden:k.isHidden}),className:ye(D.button,D.previousIconButton)}),F=(c==null?void 0:c.nextIconButton)??Yr,N=ve({elementType:F,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:C.label,"aria-label":C.label,disabled:C.isDisabled,edge:"start",onClick:C.goTo},ownerState:v({},S,{hidden:C.isHidden}),className:ye(D.button,D.nextIconButton)}),M=(c==null?void 0:c.leftArrowIcon)??Ql,A=ve({elementType:M,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:S,className:D.leftArrowIcon}),B=le(A,md),T=(c==null?void 0:c.rightArrowIcon)??Xl,E=ve({elementType:T,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:S,className:D.rightArrowIcon}),j=le(E,hd);return s.jsxs(gd,v({ref:n,className:ye(D.root,i),ownerState:S},I,{children:[s.jsx(P,v({},w,{children:r?s.jsx(T,v({},j)):s.jsx(M,v({},B))})),o?s.jsx(xe,{variant:"subtitle1",component:"span",id:b,children:o}):s.jsx(bd,{className:D.spacer,ownerState:S}),s.jsx(F,v({},N,{children:r?s.jsx(M,v({},B)):s.jsx(T,v({},j))}))]}))});function yd(e,{disableFuture:t,maxDate:n,timezone:r}){const a=Te();return g.useMemo(()=>{const o=a.date(void 0,r),i=a.startOfMonth(t&&a.isBefore(o,n)?o:n);return!a.isAfter(i,e)},[t,n,e,a,r])}function Id(e,{disablePast:t,minDate:n,timezone:r}){const a=Te();return g.useMemo(()=>{const o=a.date(void 0,r),i=a.startOfMonth(t&&a.isAfter(o,n)?o:n);return!a.isBefore(i,e)},[t,n,e,a,r])}const wd=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Sd=["ownerState"],Cd=e=>{const{classes:t}=e;return Ie({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},ud,t)},Pd=ee("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Dd=ee("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(e,t)=>t.labelContainer})(({theme:e})=>v({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),kd=ee("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(e,t)=>t.label})({marginRight:6}),Md=ee(ht,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(e,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${dd.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Td=ee(Gl,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(e,t)=>t.switchViewIcon})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),jd=g.forwardRef(function(t,n){const r=gt(),a=Te(),o=Me({props:t,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:c,currentMonth:l,disabled:d,disableFuture:u,disablePast:f,maxDate:p,minDate:y,onMonthChange:h,onViewChange:x,view:m,reduceAnimations:b,views:I,labelId:S,className:D,timezone:C,format:k=`${a.formats.month} ${a.formats.year}`}=o,P=le(o,wd),w=o,F=Cd(o),N=(i==null?void 0:i.switchViewButton)??Md,M=ve({elementType:N,externalSlotProps:c==null?void 0:c.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(m)},ownerState:w,className:F.switchViewButton}),A=(i==null?void 0:i.switchViewIcon)??Td,B=ve({elementType:A,externalSlotProps:c==null?void 0:c.switchViewIcon,ownerState:w,className:F.switchViewIcon}),T=le(B,Sd),E=()=>h(a.addMonths(l,1),"left"),j=()=>h(a.addMonths(l,-1),"right"),L=yd(l,{disableFuture:u,maxDate:p,timezone:C}),U=Id(l,{disablePast:f,minDate:y,timezone:C}),J=()=>{if(!(I.length===1||!x||d))if(I.length===2)x(I.find(Q=>Q!==m)||I[0]);else{const Q=I.indexOf(m)!==0?0:1;x(I[Q])}};if(I.length===1&&I[0]==="year")return null;const ae=a.formatByString(l,k);return s.jsxs(Pd,v({},P,{ownerState:w,className:ye(F.root,D),ref:n,children:[s.jsxs(Dd,{role:"presentation",onClick:J,ownerState:w,"aria-live":"polite",className:F.labelContainer,children:[s.jsx(ro,{reduceAnimations:b,transKey:ae,children:s.jsx(kd,{id:S,ownerState:w,className:F.label,children:ae})}),I.length>1&&!d&&s.jsx(N,v({},M,{children:s.jsx(A,v({},T))}))]}),s.jsx(zn,{in:m==="day",appear:!b,enter:!b,children:s.jsx(vd,{slots:i,slotProps:c,onGoToPrevious:j,isPreviousDisabled:U,previousLabel:r.previousMonth,onGoToNext:E,isNextDisabled:L,nextLabel:r.nextMonth})})]}))}),Rd=ee("div")({overflow:"hidden",width:Hn,maxHeight:br,display:"flex",flexDirection:"column",margin:"0 auto"}),Vd=e=>Se("MuiDateCalendar",e);Ce("MuiDateCalendar",["root","viewTransitionContainer"]);const Ed=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Ad=e=>{const{classes:t}=e;return Ie({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Vd,t)};function Fd(e,t){const n=Te(),r=vn(),a=_a(),o=Me({props:e,name:t});return v({},o,{loading:o.loading??!1,disablePast:o.disablePast??!1,disableFuture:o.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["year","day"],reduceAnimations:o.reduceAnimations??a,renderLoading:o.renderLoading??(()=>s.jsx("span",{children:"..."})),minDate:Qe(n,o.minDate,r.minDate),maxDate:Qe(n,o.maxDate,r.maxDate)})}const Od=ee(Rd,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"column",height:br}),Nd=ee(ro,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(e,t)=>t.viewTransitionContainer})({}),Ld=g.forwardRef(function(t,n){const r=Te(),a=qt(),o=Fd(t,"MuiDateCalendar"),{autoFocus:i,onViewChange:c,value:l,defaultValue:d,referenceDate:u,disableFuture:f,disablePast:p,onChange:y,onYearChange:h,onMonthChange:x,reduceAnimations:m,shouldDisableDate:b,shouldDisableMonth:I,shouldDisableYear:S,view:D,views:C,openTo:k,className:P,disabled:w,readOnly:F,minDate:N,maxDate:M,disableHighlightToday:A,focusedView:B,onFocusedViewChange:T,showDaysOutsideCurrentMonth:E,fixedWeekNumber:j,dayOfWeekFormatter:L,slots:U,slotProps:J,loading:ae,renderLoading:Q,displayWeekNumber:se,yearsOrder:pe,yearsPerRow:fe,monthsPerRow:H,timezone:W}=o,Y=le(o,Ed),{value:$,handleValueChange:_,timezone:X}=gr({name:"DateCalendar",timezone:W,value:l,defaultValue:d,referenceDate:u,onChange:y,valueManager:dt}),{view:oe,setView:re,focusedView:O,setFocusedView:q,goToNextView:te,setValueAndGoToNextView:G}=Wa({view:D,views:C,openTo:k,onChange:_,onViewChange:c,autoFocus:i,focusedView:B,onFocusedViewChange:T}),{referenceDate:z,calendarState:V,changeFocusedDay:Z,changeMonth:ie,handleChangeMonth:Pe,isDateDisabled:ue,onMonthSwitchingAnimationEnd:me}=cu({value:$,referenceDate:u,reduceAnimations:m,onMonthChange:x,minDate:N,maxDate:M,shouldDisableDate:b,disablePast:p,disableFuture:f,timezone:X}),Ee=w&&$||N,Ae=w&&$||M,K=`${a}-grid-label`,he=O!==null,Re=(U==null?void 0:U.calendarHeader)??jd,Fe=ve({elementType:Re,externalSlotProps:J==null?void 0:J.calendarHeader,additionalProps:{views:C,view:oe,currentMonth:V.currentMonth,onViewChange:re,onMonthChange:(De,We)=>Pe({newMonth:De,direction:We}),minDate:Ee,maxDate:Ae,disabled:w,disablePast:p,disableFuture:f,reduceAnimations:m,timezone:X,labelId:K},ownerState:o}),Ve=ne(De=>{const We=r.startOfMonth(De),ge=r.endOfMonth(De),Oe=ue(De)?un({utils:r,date:De,minDate:r.isBefore(N,We)?We:N,maxDate:r.isAfter(M,ge)?ge:M,disablePast:p,disableFuture:f,isDateDisabled:ue,timezone:X}):De;Oe?(G(Oe,"finish"),x==null||x(We)):(te(),ie(We)),Z(Oe,!0)}),ze=ne(De=>{const We=r.startOfYear(De),ge=r.endOfYear(De),Oe=ue(De)?un({utils:r,date:De,minDate:r.isBefore(N,We)?We:N,maxDate:r.isAfter(M,ge)?ge:M,disablePast:p,disableFuture:f,isDateDisabled:ue,timezone:X}):De;Oe?(G(Oe,"finish"),h==null||h(Oe)):(te(),ie(We)),Z(Oe,!0)}),Be=ne(De=>_(De&&Nn(r,De,$??z),"finish",oe));g.useEffect(()=>{$!=null&&r.isValid($)&&ie($)},[$]);const qe=o,kt=Ad(qe),Ze={disablePast:p,disableFuture:f,maxDate:M,minDate:N},Je={disableHighlightToday:A,readOnly:F,disabled:w,timezone:X,gridLabelId:K,slots:U,slotProps:J},st=g.useRef(oe);g.useEffect(()=>{st.current!==oe&&(O===st.current&&q(oe,!0),st.current=oe)},[O,q,oe]);const Mt=g.useMemo(()=>[$],[$]);return s.jsxs(Od,v({ref:n,className:ye(kt.root,P),ownerState:qe},Y,{children:[s.jsx(Re,v({},Fe,{slots:U,slotProps:J})),s.jsx(Nd,{reduceAnimations:m,className:kt.viewTransitionContainer,transKey:oe,ownerState:qe,children:s.jsxs("div",{children:[oe==="year"&&s.jsx(cd,v({},Ze,Je,{value:$,onChange:ze,shouldDisableYear:S,hasFocus:he,onFocusedViewChange:De=>q("year",De),yearsOrder:pe,yearsPerRow:fe,referenceDate:z})),oe==="month"&&s.jsx(Xu,v({},Ze,Je,{hasFocus:he,className:P,value:$,onChange:Ve,shouldDisableMonth:I,onFocusedViewChange:De=>q("month",De),monthsPerRow:H,referenceDate:z})),oe==="day"&&s.jsx($u,v({},V,Ze,Je,{onMonthSwitchingAnimationEnd:me,onFocusedDayChange:Z,reduceAnimations:m,selectedDays:Mt,onSelectedDaysChange:Be,shouldDisableDate:b,shouldDisableMonth:I,shouldDisableYear:S,hasFocus:he,onFocusedViewChange:De=>q("day",De),showDaysOutsideCurrentMonth:E,fixedWeekNumber:j,dayOfWeekFormatter:L,displayWeekNumber:se,loading:ae,renderLoading:Q}))]})})]}))}),Ht=({view:e,onViewChange:t,views:n,focusedView:r,onFocusedViewChange:a,value:o,defaultValue:i,referenceDate:c,onChange:l,className:d,classes:u,disableFuture:f,disablePast:p,minDate:y,maxDate:h,shouldDisableDate:x,shouldDisableMonth:m,shouldDisableYear:b,reduceAnimations:I,onMonthChange:S,monthsPerRow:D,onYearChange:C,yearsOrder:k,yearsPerRow:P,slots:w,slotProps:F,loading:N,renderLoading:M,disableHighlightToday:A,readOnly:B,disabled:T,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:j,sx:L,autoFocus:U,fixedWeekNumber:J,displayWeekNumber:ae,timezone:Q})=>s.jsx(Ld,{view:e,onViewChange:t,views:n.filter(Ar),focusedView:r&&Ar(r)?r:null,onFocusedViewChange:a,value:o,defaultValue:i,referenceDate:c,onChange:l,className:d,classes:u,disableFuture:f,disablePast:p,minDate:y,maxDate:h,shouldDisableDate:x,shouldDisableMonth:m,shouldDisableYear:b,reduceAnimations:I,onMonthChange:S,monthsPerRow:D,onYearChange:C,yearsOrder:k,yearsPerRow:P,slots:w,slotProps:F,loading:N,renderLoading:M,disableHighlightToday:A,readOnly:B,disabled:T,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:j,sx:L,autoFocus:U,fixedWeekNumber:J,displayWeekNumber:ae,timezone:Q}),io=g.forwardRef(function(t,n){var d,u;const r=gt(),a=Te(),o=La(t,"MuiDesktopDatePicker"),i=v({day:Ht,month:Ht,year:Ht},o.viewRenderers),c=v({},o,{viewRenderers:i,format:fr(a,o,!1),yearsPerRow:o.yearsPerRow??4,slots:v({openPickerIcon:Zl,field:to},o.slots),slotProps:v({},o.slotProps,{field:f=>{var p;return v({},xt((p=o.slotProps)==null?void 0:p.field,f),za(o),{ref:n})},toolbar:v({hidden:!0},(d=o.slotProps)==null?void 0:d.toolbar)})}),{renderPicker:l}=ql({props:c,valueManager:dt,valueType:"date",getOpenDialogAriaText:Oa({utils:a,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(u=c.localeText)==null?void 0:u.openDatePickerDialogue}),validator:yn});return l()});io.propTypes={autoFocus:R.bool,className:R.string,closeOnSelect:R.bool,dayOfWeekFormatter:R.func,defaultValue:R.object,disabled:R.bool,disableFuture:R.bool,disableHighlightToday:R.bool,disableOpenPicker:R.bool,disablePast:R.bool,displayWeekNumber:R.bool,enableAccessibleFieldDOMStructure:R.any,fixedWeekNumber:R.number,format:R.string,formatDensity:R.oneOf(["dense","spacious"]),inputRef:ka,label:R.node,loading:R.bool,localeText:R.object,maxDate:R.object,minDate:R.object,monthsPerRow:R.oneOf([3,4]),name:R.string,onAccept:R.func,onChange:R.func,onClose:R.func,onError:R.func,onMonthChange:R.func,onOpen:R.func,onSelectedSectionsChange:R.func,onViewChange:R.func,onYearChange:R.func,open:R.bool,openTo:R.oneOf(["day","month","year"]),orientation:R.oneOf(["landscape","portrait"]),readOnly:R.bool,reduceAnimations:R.bool,referenceDate:R.object,renderLoading:R.func,selectedSections:R.oneOfType([R.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),R.number]),shouldDisableDate:R.func,shouldDisableMonth:R.func,shouldDisableYear:R.func,showDaysOutsideCurrentMonth:R.bool,slotProps:R.object,slots:R.object,sx:R.oneOfType([R.arrayOf(R.oneOfType([R.func,R.object,R.bool])),R.func,R.object]),timezone:R.string,value:R.object,view:R.oneOf(["day","month","year"]),viewRenderers:R.shape({day:R.func,month:R.func,year:R.func}),views:R.arrayOf(R.oneOf(["day","month","year"]).isRequired),yearsOrder:R.oneOf(["asc","desc"]),yearsPerRow:R.oneOf([3,4])};const $d=ee(sa)({[`& .${Mr.container}`]:{outline:0},[`& .${Mr.paper}`]:{outline:0,minWidth:Hn}}),zd=ee(ia)({"&:first-of-type":{padding:0}});function Bd(e){const{children:t,onDismiss:n,open:r,slots:a,slotProps:o}=e,i=(a==null?void 0:a.dialog)??$d,c=(a==null?void 0:a.mobileTransition)??zn;return s.jsx(i,v({open:r,onClose:n},o==null?void 0:o.dialog,{TransitionComponent:c,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:a==null?void 0:a.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:s.jsx(zd,{children:t})}))}const _d=["props","getOpenDialogAriaText"],Wd=e=>{var Q;let{props:t,getOpenDialogAriaText:n}=e,r=le(e,_d);const{slots:a,slotProps:o,className:i,sx:c,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:f,onSelectedSectionsChange:p,timezone:y,name:h,label:x,inputRef:m,readOnly:b,disabled:I,localeText:S}=t,D=g.useRef(null),C=qt(),k=((Q=o==null?void 0:o.toolbar)==null?void 0:Q.hidden)??!1,{open:P,actions:w,layoutProps:F,renderCurrentView:N,fieldProps:M,contextValue:A}=Ua(v({},r,{props:t,fieldRef:D,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),B=a.field,T=ve({elementType:B,externalSlotProps:o==null?void 0:o.field,additionalProps:v({},M,k&&{id:C},!(I||b)&&{onClick:w.onOpen,onKeyDown:ul(w.onOpen)},{readOnly:b??!0,disabled:I,className:i,sx:c,format:l,formatDensity:d,enableAccessibleFieldDOMStructure:u,selectedSections:f,onSelectedSectionsChange:p,timezone:y,label:x,name:h},m?{inputRef:m}:{}),ownerState:t});T.inputProps=v({},T.inputProps,{"aria-label":n(M.value)});const E=v({textField:a.textField},T.slots),j=a.layout??Ya;let L=C;k&&(x?L=`${C}-label`:L=void 0);const U=v({},o,{toolbar:v({},o==null?void 0:o.toolbar,{titleId:C}),mobilePaper:v({"aria-labelledby":L},o==null?void 0:o.mobilePaper)}),J=Le(D,T.unstableFieldRef);return{renderPicker:()=>s.jsxs(Ka,{contextValue:A,localeText:S,children:[s.jsx(B,v({},T,{slots:E,slotProps:U,unstableFieldRef:J})),s.jsx(Bd,v({},w,{open:P,slots:a,slotProps:U,children:s.jsx(j,v({},F,U==null?void 0:U.layout,{slots:a,slotProps:U,children:N()}))}))]})}},lo=g.forwardRef(function(t,n){var d,u;const r=gt(),a=Te(),o=La(t,"MuiMobileDatePicker"),i=v({day:Ht,month:Ht,year:Ht},o.viewRenderers),c=v({},o,{viewRenderers:i,format:fr(a,o,!1),slots:v({field:to},o.slots),slotProps:v({},o.slotProps,{field:f=>{var p;return v({},xt((p=o.slotProps)==null?void 0:p.field,f),za(o),{ref:n})},toolbar:v({hidden:!1},(d=o.slotProps)==null?void 0:d.toolbar)})}),{renderPicker:l}=Wd({props:c,valueManager:dt,valueType:"date",getOpenDialogAriaText:Oa({utils:a,formatKey:"fullDate",contextTranslation:r.openDatePickerDialogue,propsTranslation:(u=c.localeText)==null?void 0:u.openDatePickerDialogue}),validator:yn});return l()});lo.propTypes={autoFocus:R.bool,className:R.string,closeOnSelect:R.bool,dayOfWeekFormatter:R.func,defaultValue:R.object,disabled:R.bool,disableFuture:R.bool,disableHighlightToday:R.bool,disableOpenPicker:R.bool,disablePast:R.bool,displayWeekNumber:R.bool,enableAccessibleFieldDOMStructure:R.any,fixedWeekNumber:R.number,format:R.string,formatDensity:R.oneOf(["dense","spacious"]),inputRef:ka,label:R.node,loading:R.bool,localeText:R.object,maxDate:R.object,minDate:R.object,monthsPerRow:R.oneOf([3,4]),name:R.string,onAccept:R.func,onChange:R.func,onClose:R.func,onError:R.func,onMonthChange:R.func,onOpen:R.func,onSelectedSectionsChange:R.func,onViewChange:R.func,onYearChange:R.func,open:R.bool,openTo:R.oneOf(["day","month","year"]),orientation:R.oneOf(["landscape","portrait"]),readOnly:R.bool,reduceAnimations:R.bool,referenceDate:R.object,renderLoading:R.func,selectedSections:R.oneOfType([R.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),R.number]),shouldDisableDate:R.func,shouldDisableMonth:R.func,shouldDisableYear:R.func,showDaysOutsideCurrentMonth:R.bool,slotProps:R.object,slots:R.object,sx:R.oneOfType([R.arrayOf(R.oneOfType([R.func,R.object,R.bool])),R.func,R.object]),timezone:R.string,value:R.object,view:R.oneOf(["day","month","year"]),viewRenderers:R.shape({day:R.func,month:R.func,year:R.func}),views:R.arrayOf(R.oneOf(["day","month","year"]).isRequired),yearsOrder:R.oneOf(["asc","desc"]),yearsPerRow:R.oneOf([3,4])};const Ud=["desktopModeMediaQuery"],Kr=g.forwardRef(function(t,n){const r=Me({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:a=dl}=r,o=le(r,Ud);return Da(a,{defaultMatches:!0})?s.jsx(io,v({ref:n},o)):s.jsx(lo,v({ref:n},o))});function Hd({row:e,selected:t,onEdit:n,onDelete:r,isLoading:a}){var p,y,h,x;const[o,i]=g.useState(null),c=g.useCallback(m=>{i(m.currentTarget)},[]),l=g.useCallback(()=>{i(null)},[]),d=()=>{l(),n(e)},u=()=>{r(e)},f=!e.attributo||!e.opzioni_id;return s.jsxs(s.Fragment,{children:[s.jsxs(la,{hover:!0,tabIndex:-1,role:"checkbox",selected:t,sx:{opacity:f?.5:1,backgroundColor:f?"rgba(255, 0, 0, 0.1)":"inherit"},children:[s.jsxs($e,{children:[(p=e.attributo)!=null&&p.is_specifico?s.jsx(Er,{title:"Attributo Interno",arrow:!0,children:s.jsx(we,{icon:"eva:info-fill",sx:{verticalAlign:"middle",mr:1,width:16,height:16,color:"info.main"}})}):s.jsx(Er,{title:"Attributo Standard",arrow:!0,children:s.jsx(we,{icon:"eva:checkmark-circle-2-fill",sx:{mr:1,width:16,height:16,color:"success.main"}})}),(y=e.attributo)==null?void 0:y.name]}),s.jsx($e,{children:((h=e.attributo)==null?void 0:h.slug)||"-"}),s.jsx($e,{children:e.abilitato_per_variazioni?"SI":"NO"}),s.jsx($e,{children:e.visibile?"SI":"NO"}),s.jsx($e,{children:(x=e.opzioni_id)==null?void 0:x.map(m=>s.jsx(xn,{label:m,size:"small",sx:{mr:.5,mb:.5}},m))}),s.jsx($e,{children:s.jsx(ht,{onClick:c,children:s.jsx(we,{icon:"eva:more-vertical-fill"})})})]}),s.jsx(ca,{open:!!o,anchorEl:o,onClose:l,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:s.jsxs(ua,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${da.root}`]:{px:1,gap:2,borderRadius:.75}},children:[s.jsxs(rt,{onClick:d,disabled:f,children:[s.jsx(we,{icon:"solar:pen-bold"}),"Modifica"]}),s.jsx(rt,{onClick:u,sx:{color:"error.main"},children:a?s.jsx(Kt,{size:20}):s.jsxs(s.Fragment,{children:[s.jsx(we,{icon:"solar:trash-bin-trash-bold"}),"Elimina"]})})]})})]})}const co=e=>{const t=Xe();return Ke({mutationFn:async n=>(await _e.post("/prodotto/attributo/rimuovi",n)).data,onSuccess:()=>{t.invalidateQueries({queryKey:["prodotto",e.toString()]}),t.invalidateQueries({queryKey:["variazioni",e.toString()]}),t.invalidateQueries({queryKey:["variazioneNuova",e.toString()]})}})};function Yd({control:e,attributoDetails:t}){return s.jsx(Ne,{name:"opzioni_id",control:e,render:({field:n})=>s.jsx(Is,{multiple:!0,value:n.value,onChange:(r,a)=>{const o=a.map(c=>typeof c=="string"?c:c.slug),i=[...new Set(o)];n.onChange(i)},options:(t==null?void 0:t.attributoOpzioni)||[],getOptionLabel:r=>typeof r=="string"?r:r.name,filterSelectedOptions:!0,renderInput:r=>s.jsx(je,{...r,label:"Valore Attributo",placeholder:"Seleziona valore opzioni",fullWidth:!0}),renderTags:(r,a)=>r.map((o,i)=>s.jsx(xn,{label:typeof o=="string"?o:o.name,...a({index:i})}))})})}function Kd({control:e,name:t}){return s.jsx(Ne,{name:t,control:e,render:({field:n})=>{const[r,a]=g.useState("");return s.jsx(je,{...n,fullWidth:!0,label:"Valori opzioni",placeholder:"Digita e premi virgola per aggiungere",value:r,onChange:o=>{const i=o.target.value;if(a(i),i.endsWith(",")){const c=i.slice(0,-1).trim();if(c){const l=[...n.value,c];n.onChange(l)}a("")}},InputProps:{startAdornment:n.value.map((o,i)=>s.jsx(xn,{label:o,onDelete:()=>{const c=[...n.value];c.splice(i,1),n.onChange(c)},style:{margin:"2px"}},i))}})}})}function qd({open:e,onClose:t,prodotto_attributo:n,onSubmit:r,onDelete:a,prodottoType:o="simple",prodotto_id:i,prodotto_id_w:c,prodotto:l,isLoading:d=!1}){var N,M,A,B;const[u,f]=g.useState(((N=n==null?void 0:n.attributo)==null?void 0:N.is_specifico)||!1),{data:p}=hs(),{mutate:y,isPending:h}=co(i),[x,m]=g.useState(null),{data:b}=gs(x),{register:I,handleSubmit:S,control:D,watch:C,setValue:k,reset:P}=Bn({defaultValues:{id:(n==null?void 0:n.id)||null,attributo_id:(n==null?void 0:n.attributo_id)||"",attributo:{name:((M=n==null?void 0:n.attributo)==null?void 0:M.name)||"",is_specifico:((A=n==null?void 0:n.attributo)==null?void 0:A.is_specifico)||!1,attributoOpzioni:((B=n==null?void 0:n.attributo)==null?void 0:B.attributoOpzioni)||[]},opzioni_id:(n==null?void 0:n.opzioni_id)||[],abilitato_per_variazioni:o==="simple"?!1:(n==null?void 0:n.abilitato_per_variazioni)||!1,visibile:(n==null?void 0:n.visibile)||!0,prodotto_id:i,prodotto_id_w:c,position:(n==null?void 0:n.position)||null}});g.useEffect(()=>{n&&P(n)},[n]),g.useEffect(()=>{e&&(n!=null&&n.attributo_id)&&m(Number(n.attributo_id))},[e,n]);const w=()=>{n!=null&&n.id&&a&&window.confirm("Sei sicuro di voler eliminare questo attributo dal prodotto?")&&y(n,{onSuccess:()=>{a(n)}})},F=T=>{m(Number(T))};return s.jsx(dn,{open:e,onClose:t,title:n!=null&&n.id?`Attributo: ${n.attributo.name}`:"Nuovo Attributo",maxWidth:"md",onConfirm:S(r),children:s.jsx("form",{onSubmit:S(r),children:s.jsxs(ce,{container:!0,spacing:2,children:[!(n!=null&&n.id)&&s.jsx(ce,{item:!0,xs:12,children:s.jsx(Rn,{control:s.jsx(Ne,{name:"attributo.is_specifico",control:D,render:({field:T})=>s.jsx(_t,{...T,checked:T.value,onChange:E=>{T.onChange(E.target.checked),f(E.target.checked)}})}),label:"Attributo interno al prodotto?"})}),u?s.jsx(ce,{item:!0,xs:12,children:s.jsx(je,{required:!0,fullWidth:!0,label:"Nome attributo interno",disabled:!!(n!=null&&n.id),...I("attributo.name")})}):s.jsx(ce,{item:!0,xs:12,children:s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{children:"Attributo"}),s.jsx(Ne,{name:"attributo_id",control:D,render:({field:T})=>s.jsx(Et,{...T,label:"Attributo",disabled:!!(n!=null&&n.id),onChange:E=>{T.onChange(E),F(E.target.value)},children:p==null?void 0:p.map(E=>{var j;return s.jsx(rt,{value:E.id,disabled:(j=l==null?void 0:l.attributi_id)==null?void 0:j.some(L=>L===E.id),children:E.name},E.id)})})})]})}),u?s.jsx(ce,{item:!0,xs:12,children:s.jsx(Kd,{control:D,name:"opzioni_id"})}):s.jsx(ce,{item:!0,xs:12,children:s.jsx(Yd,{control:D,attributoDetails:b})}),o==="variable"&&s.jsx(ce,{item:!0,xs:12,children:s.jsx(Rn,{control:s.jsx(Ne,{name:"abilitato_per_variazioni",control:D,render:({field:T})=>s.jsx(_t,{...T,checked:T.value})}),label:"Attributo usato per variazioni"})}),s.jsx(ce,{item:!0,xs:12,children:s.jsx(Rn,{control:s.jsx(Ne,{name:"visibile",control:D,render:({field:T})=>s.jsx(_t,{...T,checked:T.value})}),label:"Attributo visibile nella pagina prodotto"})}),s.jsx(ce,{item:!0,xs:12,children:s.jsxs(de,{display:"flex",justifyContent:"space-between",children:[(n==null?void 0:n.id)&&s.jsx(ke,{disabled:h,variant:"contained",color:"error",onClick:w,children:h?"Elimina attributo...":"Elimina attributo"}),s.jsx(ke,{disabled:d,variant:"contained",color:"primary",type:"submit",children:d?"Salva attributo...":"Salva attributo"})]})})]})})})}const Gd=(e,t,n)=>{const r=Xe();return Ke({mutationFn:async a=>{if(a.attributo_id==null&&a.attributo.name==null)throw new Error("Inserisci attributo");return t==="simple"&&(a.abilitato_per_variazioni=!1),_e.post("/prodotto/attributo/salva",a)},onSuccess:()=>{r.invalidateQueries({queryKey:["prodotto",e.toString()]}),r.invalidateQueries({queryKey:["prodotto",e.toString()]}),r.invalidateQueries({queryKey:["variazioneNuova",e.toString()]}),n==null||n()}})},Qd=[{id:"attributo.name",label:"Nome Attributo"},{id:"attributo.slug",label:"Slug Attributo"},{id:"abilitato_per_variazioni",label:"Usato nelle variazioni"},{id:"visibile",label:"Visibile nella pagina prodotto"},{id:"opzioni_id",label:"Opzioni"},{id:"actions",label:"Azioni"}];function Xd({prodotto_id:e,prodotto_id_w:t,prodotto:n,prodotto_attributi:r=[],isLoading:a}){const[o,i]=g.useState(!1),[c,l]=g.useState(null);g.useState([]);const{mutate:d,isPending:u}=co(e),f=(b=null)=>{l(b?{...b,prodotto_id:e,prodotto_id_w:t}:{id:null,prodotto_id:e,prodotto_id_w:t,attributo:{name:null,is_specifico:!1,attributoOpzioni:[]},abilitato_per_variazioni:!0,visibile:!0,opzioni_id:[]}),i(!0)},p=()=>{l(null),i(!1)},{mutate:y,isPending:h}=Gd(n.id,n==null?void 0:n.type,()=>{p()}),x=async b=>{p(),y(b)},m=async b=>{confirm("Sei sicuro di voler eliminare questo attributo dal prodotto?")&&d(b,{onSuccess:()=>{p()}})};return n!=null&&n.deleted?null:s.jsxs(de,{children:[s.jsxs(de,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[s.jsx(xe,{variant:"h6",children:"Attributi prodotto"}),s.jsx(ke,{variant:"contained",startIcon:s.jsx(we,{icon:"eva:plus-fill"}),onClick:()=>f(),children:"Nuovo attributo"})]}),s.jsx(fa,{isLoading:a,data:r,columns:Qd,renderRow:(b,I)=>s.jsx(Hd,{isLoading:u,row:b,selected:I,onEdit:()=>f(b),onDelete:()=>m(b)},b.id)}),s.jsx(dn,{onConfirm:x,open:o,onClose:p,title:c!=null&&c.id?"Modifica attributo":"Nuovo attributo",confirmButtonText:"Salva",maxWidth:"md",isLoading:h,children:s.jsx(qd,{isLoading:h,open:o,onClose:p,prodotto_attributo:c,onSubmit:x,onDelete:m,prodottoType:n.type,prodotto_id:n.id,prodotto_id_w:n.id_w,prodotto:n})})]})}function uo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}var pn;(function(e){e.event="event",e.props="prop"})(pn||(pn={}));function St(){}function Zd(e){var t,n=void 0;return function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return t&&r.length===t.length&&r.every(function(o,i){return o===t[i]})||(t=r,n=e.apply(void 0,r)),n}}function mn(e){return!!(e||"").match(/\d/)}function Yt(e){return e==null}function Jd(e){return typeof e=="number"&&isNaN(e)}function fo(e){return Yt(e)||Jd(e)||typeof e=="number"&&!isFinite(e)}function po(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ef(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function tf(e,t,n){var r=ef(n),a=e.search(/[1-9]/);return a=a===-1?e.length:a,e.substring(0,a)+e.substring(a,e.length).replace(r,"$1"+t)}function nf(e){var t=g.useRef(e);t.current=e;var n=g.useRef(function(){for(var r=[],a=arguments.length;a--;)r[a]=arguments[a];return t.current.apply(t,r)});return n.current}function yr(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var a=e.split("."),o=a[0],i=a[1]||"";return{beforeDecimal:o,afterDecimal:i,hasNegation:n,addNegation:r}}function rf(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",a=n[1]||"";return(t?"-":"")+r+(a?"."+a:"")}function mo(e,t,n){for(var r="",a=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||a;return r}function qr(e,t){return Array(t+1).join(e)}function ho(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),a=r[0],o=r[1];if(o=Number(o),!o)return n+a;a=a.replace(".","");var i=1+o,c=a.length;return i<0?a="0."+qr("0",Math.abs(i))+a:i>=c?a=a+qr("0",i-c):a=(a.substring(0,i)||"0")+"."+a.substring(i),n+a}function Gr(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,a=yr(e),o=a.beforeDecimal,i=a.afterDecimal,c=a.hasNegation,l=parseFloat("0."+(i||"0")),d=i.length<=t?"0."+i:l.toFixed(t),u=d.split("."),f=o;o&&Number(u[0])&&(f=o.split("").reverse().reduce(function(x,m,b){return x.length>b?(Number(x[0])+Number(m)).toString()+x.substring(1,x.length):m+x},u[0]));var p=mo(u[1]||"",t,n),y=c?"-":"",h=r?".":"";return""+y+f+h+p}function Vt(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var go=Zd(function(e,t){for(var n=0,r=0,a=e.length,o=t.length;e[n]===t[n]&&n<a;)n++;for(;e[a-1-r]===t[o-1-r]&&o-r>n&&a-r>n;)r++;return{from:{start:n,end:a-r},to:{start:n,end:o-r}}}),af=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function of(e,t,n){return Math.min(Math.max(e,t),n)}function nr(e){return Math.max(e.selectionStart,e.selectionEnd)}function sf(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function lf(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function cf(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,a=e.formattedValueIndex;return t[r]===n[a]}function uf(e,t,n,r,a,o,i){i===void 0&&(i=cf);var c=a.findIndex(function(D){return D}),l=e.slice(0,c);!t&&!n.startsWith(l)&&(t=l,n=l+n,r=r+l.length);for(var d=n.length,u=e.length,f={},p=new Array(d),y=0;y<d;y++){p[y]=-1;for(var h=0,x=u;h<x;h++){var m=i({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:y,formattedValueIndex:h});if(m&&f[h]!==!0){p[y]=h,f[h]=!0;break}}}for(var b=r;b<d&&(p[b]===-1||!o(n[b]));)b++;var I=b===d||p[b]===-1?u:p[b];for(b=r-1;b>0&&p[b]===-1;)b--;var S=b===-1||p[b]===-1?0:p[b]+1;return S>I?I:r-S<I-r?S:I}function Qr(e,t,n,r){var a=e.length;if(t=of(t,0,a),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=a&&!n[t];)t++;t>a&&(t=n.lastIndexOf(!0))}return t===-1&&(t=a),t}function df(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(mn(e[n])||mn(e[n-1]));return t}function bo(e,t,n,r,a,o){o===void 0&&(o=St);var i=nf(function(h,x){var m,b;return fo(h)?(b="",m=""):typeof h=="number"||x?(b=typeof h=="number"?ho(h):h,m=r(b)):(b=a(h,void 0),m=r(b)),{formattedValue:m,numAsString:b}}),c=g.useState(function(){return i(Yt(e)?t:e,n)}),l=c[0],d=c[1],u=function(h,x){h.formattedValue!==l.formattedValue&&d({formattedValue:h.formattedValue,numAsString:h.value}),o(h,x)},f=e,p=n;Yt(e)&&(f=l.numAsString,p=!0);var y=i(f,p);return g.useMemo(function(){d(y)},[y.formattedValue]),[l,u]}function ff(e){return e.replace(/[^0-9]/g,"")}function pf(e){return e}function mf(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,a=e.renderText,o=e.getInputRef,i=e.format;i===void 0&&(i=pf);var c=e.removeFormatting;c===void 0&&(c=ff);var l=e.defaultValue,d=e.valueIsNumericString,u=e.onValueChange,f=e.isAllowed,p=e.onChange;p===void 0&&(p=St);var y=e.onKeyDown;y===void 0&&(y=St);var h=e.onMouseUp;h===void 0&&(h=St);var x=e.onFocus;x===void 0&&(x=St);var m=e.onBlur;m===void 0&&(m=St);var b=e.value,I=e.getCaretBoundary;I===void 0&&(I=df);var S=e.isValidInputCharacter;S===void 0&&(S=mn);var D=e.isCharacterSame,C=uo(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),k=bo(b,l,!!d,i,c,u),P=k[0],w=P.formattedValue,F=P.numAsString,N=k[1],M=g.useRef(),A=g.useRef({formattedValue:w,numAsString:F}),B=function(z,V){A.current={formattedValue:z.formattedValue,numAsString:z.value},N(z,V)},T=g.useState(!1),E=T[0],j=T[1],L=g.useRef(null),U=g.useRef({setCaretTimeout:null,focusTimeout:null});g.useEffect(function(){return j(!0),function(){clearTimeout(U.current.setCaretTimeout),clearTimeout(U.current.focusTimeout)}},[]);var J=i,ae=function(z,V){var Z=parseFloat(V);return{formattedValue:z,value:V,floatValue:isNaN(Z)?void 0:Z}},Q=function(z,V,Z){z.selectionStart===0&&z.selectionEnd===z.value.length||(Vt(z,V),U.current.setCaretTimeout=setTimeout(function(){z.value===Z&&z.selectionStart!==V&&Vt(z,V)},0))},se=function(z,V,Z){return Qr(z,V,I(z),Z)},pe=function(z,V,Z){var ie=I(V),Pe=uf(V,w,z,Z,ie,S,D);return Pe=Qr(V,Pe,ie),Pe},fe=function(z){var V=z.formattedValue;V===void 0&&(V="");var Z=z.input,ie=z.source,Pe=z.event,ue=z.numAsString,me;if(Z){var Ee=z.inputValue||Z.value,Ae=nr(Z);Z.value=V,me=pe(Ee,V,Ae),me!==void 0&&Q(Z,me,V)}V!==w&&B(ae(V,ue),{event:Pe,source:ie})};g.useEffect(function(){var z=A.current,V=z.formattedValue,Z=z.numAsString;(w!==V||F!==Z)&&B(ae(w,F),{event:void 0,source:pn.props})},[w,F]);var H=L.current?nr(L.current):void 0,W=typeof window<"u"?g.useLayoutEffect:g.useEffect;W(function(){var z=L.current;if(w!==A.current.formattedValue&&z){var V=pe(A.current.formattedValue,w,H);z.value=w,Q(z,V,w)}},[w]);var Y=function(z,V,Z){var ie=V.target,Pe=M.current?af(M.current,ie.selectionEnd):go(w,z),ue=Object.assign(Object.assign({},Pe),{lastValue:w}),me=c(z,ue),Ee=J(me);if(me=c(Ee,void 0),f&&!f(ae(Ee,me))){var Ae=V.target,K=nr(Ae),he=pe(z,w,K);return Ae.value=w,Q(Ae,he,w),!1}return fe({formattedValue:Ee,numAsString:me,inputValue:z,event:V,source:Z,input:V.target}),!0},$=function(z,V){V===void 0&&(V=0);var Z=z.selectionStart,ie=z.selectionEnd;M.current={selectionStart:Z,selectionEnd:ie+V}},_=function(z){var V=z.target,Z=V.value,ie=Y(Z,z,pn.event);ie&&p(z),M.current=void 0},X=function(z){var V=z.target,Z=z.key,ie=V.selectionStart,Pe=V.selectionEnd,ue=V.value;ue===void 0&&(ue="");var me;Z==="ArrowLeft"||Z==="Backspace"?me=Math.max(ie-1,0):Z==="ArrowRight"?me=Math.min(ie+1,ue.length):Z==="Delete"&&(me=ie);var Ee=0;Z==="Delete"&&ie===Pe&&(Ee=1);var Ae=Z==="ArrowLeft"||Z==="ArrowRight";if(me===void 0||ie!==Pe&&!Ae){y(z),$(V,Ee);return}var K=me;if(Ae){var he=Z==="ArrowLeft"?"left":"right";K=se(ue,me,he),K!==me&&z.preventDefault()}else Z==="Delete"&&!S(ue[me])?K=se(ue,me,"right"):Z==="Backspace"&&!S(ue[me])&&(K=se(ue,me,"left"));K!==me&&Q(V,K,ue),y(z),$(V,Ee)},oe=function(z){var V=z.target,Z=function(){var ie=V.selectionStart,Pe=V.selectionEnd,ue=V.value;if(ue===void 0&&(ue=""),ie===Pe){var me=se(ue,ie);me!==ie&&Q(V,me,ue)}};Z(),requestAnimationFrame(function(){Z()}),h(z),$(V)},re=function(z){z.persist&&z.persist();var V=z.target,Z=z.currentTarget;L.current=V,U.current.focusTimeout=setTimeout(function(){var ie=V.selectionStart,Pe=V.selectionEnd,ue=V.value;ue===void 0&&(ue="");var me=se(ue,ie);me!==ie&&!(ie===0&&Pe===ue.length)&&Q(V,me,ue),x(Object.assign(Object.assign({},z),{currentTarget:Z}))},0)},O=function(z){L.current=null,clearTimeout(U.current.focusTimeout),clearTimeout(U.current.setCaretTimeout),m(z)},q=E&&sf()?"numeric":void 0,te=Object.assign({inputMode:q},C,{type:t,value:w,onChange:_,onKeyDown:X,onMouseUp:oe,onFocus:re,onBlur:O});if(n==="text")return a?vt.createElement(vt.Fragment,null,a(w,C)||null):vt.createElement("span",Object.assign({},C,{ref:o}),w);if(r){var G=r;return vt.createElement(G,Object.assign({},te,{ref:o}))}return vt.createElement("input",Object.assign({},te,{ref:o}))}function Xr(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,a=t.prefix;a===void 0&&(a="");var o=t.suffix;o===void 0&&(o="");var i=t.allowNegative,c=t.thousandsGroupStyle;if(c===void 0&&(c="thousand"),e===""||e==="-")return e;var l=Kn(t),d=l.thousandSeparator,u=l.decimalSeparator,f=n!==0&&e.indexOf(".")!==-1||n&&r,p=yr(e,i),y=p.beforeDecimal,h=p.afterDecimal,x=p.addNegation;return n!==void 0&&(h=mo(h,n,!!r)),d&&(y=tf(y,d,c)),a&&(y=a+y),o&&(h=h+o),x&&(y="-"+y),e=y+(f&&u||"")+h,e}function Kn(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function hf(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),a=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),a&&!o&&t&&(e="-"+e),e}function gf(e,t){return new RegExp("(^-)|[0-9]|"+po(e),"g")}function bf(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function xf(e,t,n){var r;t===void 0&&(t=lf(e));var a=n.allowNegative,o=n.prefix;o===void 0&&(o="");var i=n.suffix;i===void 0&&(i="");var c=n.decimalScale,l=t.from,d=t.to,u=d.start,f=d.end,p=Kn(n),y=p.allowedDecimalSeparators,h=p.decimalSeparator,x=e[f]===h;if(mn(e)&&(e===o||e===i)&&t.lastValue==="")return e;if(f-u===1&&y.indexOf(e[u])!==-1){var m=c===0?"":h;e=e.substring(0,u)+m+e.substring(u+1,e.length)}var b=function(L,U,J){var ae=!1,Q=!1;o.startsWith("-")?ae=!1:L.startsWith("--")?(ae=!1,Q=!0):i.startsWith("-")&&L.length===i.length?ae=!1:L[0]==="-"&&(ae=!0);var se=ae?1:0;return Q&&(se=2),se&&(L=L.substring(se),U-=se,J-=se),{value:L,start:U,end:J,hasNegation:ae}},I=b(e,u,f),S=I.hasNegation;r=I,e=r.value,u=r.start,f=r.end;var D=b(t.lastValue,l.start,l.end),C=D.start,k=D.end,P=D.value,w=e.substring(u,f);e.length&&P.length&&(C>P.length-i.length||k<o.length)&&!(w&&i.startsWith(w))&&(e=P);var F=0;e.startsWith(o)?F+=o.length:u<o.length&&(F=u),e=e.substring(F),f-=F;var N=e.length,M=e.length-i.length;e.endsWith(i)?N=M:(f>M||f>e.length-i.length)&&(N=f),e=e.substring(0,N),e=hf(S?"-"+e:e,a),e=(e.match(gf(h))||[]).join("");var A=e.indexOf(h);e=e.replace(new RegExp(po(h),"g"),function(L,U){return U===A?".":""});var B=yr(e,a),T=B.beforeDecimal,E=B.afterDecimal,j=B.addNegation;return d.end-d.start<l.end-l.start&&T===""&&x&&!parseFloat(E)&&(e=j?"-":""),e}function vf(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var a=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";a.fill(!1,0,n.length+(o?1:0));var i=e.length;return a.fill(!1,i-r.length+1,i+1),a}function yf(e){var t=Kn(e),n=t.thousandSeparator,r=t.decimalSeparator,a=e.prefix;a===void 0&&(a="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return a.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+a+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function If(e){e=yf(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,a=e.onKeyDown;a===void 0&&(a=St);var o=e.onBlur;o===void 0&&(o=St);var i=e.thousandSeparator,c=e.decimalScale,l=e.fixedDecimalScale,d=e.prefix;d===void 0&&(d="");var u=e.defaultValue,f=e.value,p=e.valueIsNumericString,y=e.onValueChange,h=uo(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=Kn(e),m=x.decimalSeparator,b=x.allowedDecimalSeparators,I=function(j){return Xr(j,e)},S=function(j,L){return xf(j,L,e)},D=Yt(f)?u:f,C=p??bf(D,d,t);Yt(f)?Yt(u)||(C=C||typeof u=="number"):C=C||typeof f=="number";var k=function(j){return fo(j)?j:(typeof j=="number"&&(j=ho(j)),C&&typeof c=="number"?Gr(j,c,!!l):j)},P=bo(k(f),k(u),!!C,I,S,y),w=P[0],F=w.numAsString,N=w.formattedValue,M=P[1],A=function(j){var L=j.target,U=j.key,J=L.selectionStart,ae=L.selectionEnd,Q=L.value;if(Q===void 0&&(Q=""),(U==="Backspace"||U==="Delete")&&ae<d.length){j.preventDefault();return}if(J!==ae){a(j);return}U==="Backspace"&&Q[0]==="-"&&J===d.length+1&&n&&Vt(L,1),c&&l&&(U==="Backspace"&&Q[J-1]===m?(Vt(L,J-1),j.preventDefault()):U==="Delete"&&Q[J]===m&&j.preventDefault()),b!=null&&b.includes(U)&&Q[J]===m&&Vt(L,J+1);var se=i===!0?",":i;U==="Backspace"&&Q[J-1]===se&&Vt(L,J-1),U==="Delete"&&Q[J]===se&&Vt(L,J+1),a(j)},B=function(j){var L=F;if(L.match(/\d/g)||(L=""),r||(L=rf(L)),l&&c&&(L=Gr(L,c,l)),L!==F){var U=Xr(L,e);M({formattedValue:U,value:L,floatValue:parseFloat(L)},{event:j,source:pn.event})}o(j)},T=function(j){return j===m?!0:mn(j)},E=function(j){var L=j.currentValue,U=j.lastValue,J=j.formattedValue,ae=j.currentValueIndex,Q=j.formattedValueIndex,se=L[ae],pe=J[Q],fe=go(U,L),H=fe.to,W=function(Y){return S(Y).indexOf(".")+d.length};return f===0&&l&&c&&L[H.start]===m&&W(L)<ae&&W(J)>Q?!1:ae>=H.start&&ae<H.end&&b&&b.includes(se)&&pe===m?!0:se===pe};return Object.assign(Object.assign({},h),{value:N,valueIsNumericString:!1,isValidInputCharacter:T,isCharacterSame:E,onValueChange:M,format:I,removeFormatting:S,getCaretBoundary:function(j){return vf(j,e)},onKeyDown:A,onBlur:B})}function Ft(e){var t=If(e);return vt.createElement(mf,Object.assign({},t))}const wf=g.forwardRef(({row:e,onEdit:t,onDelete:n,id:r,isLoading:a=!1,onUpdate:o},i)=>{const{control:c,handleSubmit:l,reset:d}=Bn({defaultValues:e});g.useEffect(()=>{d(e)},[e,d]);const u=k=>{o==null||o(k)},{attributes:f,listeners:p,setNodeRef:y,transform:h,transition:x,isDragging:m}=pa({id:r,data:{type:"row"}}),b={transform:ma.Transform.toString(h),transition:x,opacity:m?.5:1},[I,S]=g.useState(null),D=g.useCallback(k=>{S(k.currentTarget)},[]),C=g.useCallback(()=>{S(null)},[]);return s.jsxs(la,{ref:y,style:b,children:[s.jsx($e,{children:s.jsx(ht,{size:"small",...f,...p,"data-handle":!0,sx:{cursor:"move","&:hover":{backgroundColor:"action.hover"}},children:s.jsx(we,{icon:"eva:move-fill"})})}),s.jsx($e,{children:e.id}),s.jsx($e,{children:e.id_w}),s.jsx($e,{children:e.name}),s.jsx($e,{children:s.jsx(Ne,{name:"sku",control:c,render:({field:k})=>s.jsx(je,{...k,size:"small",onBlur:()=>l(u)()})})}),s.jsx($e,{children:s.jsx(Ne,{name:"stock_quantity",control:c,render:({field:k})=>s.jsx(je,{...k,size:"small",type:"number",disabled:!e.manage_stock,onBlur:()=>l(u)()})})}),s.jsx($e,{children:s.jsx(Ne,{name:"regular_price",control:c,render:({field:k})=>s.jsx(Ft,{customInput:je,...k,size:"small",decimalScale:2,fixedDecimalScale:!0,onBlur:()=>l(u)(),thousandSeparator:".",decimalSeparator:",",valueIsNumericString:!0,onValueChange:P=>{k.onChange(P.floatValue)}})})}),s.jsx($e,{children:s.jsx(Ne,{name:"sale_price",control:c,render:({field:k})=>s.jsx(Ft,{customInput:je,...k,size:"small",decimalScale:2,fixedDecimalScale:!0,onBlur:()=>l(u)(),thousandSeparator:".",decimalSeparator:",",valueIsNumericString:!0,onValueChange:P=>{k.onChange(P.floatValue)}})})}),s.jsx($e,{children:s.jsx(it,{title:e.on_sale?"SI":"NO",color:e.on_sale?"info":"warning",sx:{p:.5,display:"flex",alignItems:"center",justifyContent:"center",maxWidth:30}})}),s.jsx($e,{children:s.jsx(_t,{checked:e.purchasable,disabled:!0,size:"small"})}),s.jsx($e,{children:s.jsx(ht,{onClick:D,children:s.jsx(we,{icon:"eva:more-vertical-fill"})})}),s.jsx(ca,{open:!!I,anchorEl:I,onClose:C,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"right"},children:s.jsxs(ua,{disablePadding:!0,sx:{p:.5,gap:.5,width:140,display:"flex",flexDirection:"column",[`& .${da.root}`]:{px:1,gap:2,borderRadius:.75}},children:[s.jsxs(rt,{onClick:()=>{t(),C()},children:[s.jsx(we,{icon:"solar:pen-bold"}),"Modifica"]}),s.jsx(rt,{onClick:n,sx:{color:"error.main"},children:a?s.jsx(Kt,{size:20}):s.jsxs(s.Fragment,{children:[s.jsx(we,{icon:"solar:trash-bin-trash-bold"}),"Elimina"]})})]})})]})}),Sf=e=>$n({queryKey:["variazione",e],queryFn:async()=>(await _e.get(`/variazioni/${e}`)).data.data,enabled:!!e});function Cf(e){const t=Xe();return Ke({mutationFn:async n=>{const{data:{data:r}}=await _e.post("/variazioni",n);return r},onSuccess:async n=>{t.invalidateQueries({queryKey:["variazioni",e.toString()]}),t.invalidateQueries({queryKey:["variazioni"]})},onError:async n=>Object.values(n.response.data.errors).flat()})}function Pf(e,t){const n=Xe();return Ke({mutationFn:async({id:r,data:a})=>{const{data:o}=await _e.patch(`/variazioni/${r}`,a);return o.data},onSuccess:async()=>{n.invalidateQueries({queryKey:["variazione",t.toString()]}),n.invalidateQueries({queryKey:["variazioni",e.toString()]}),n.invalidateQueries({queryKey:["prodotto",e.toString()]})},onError:async r=>Object.values(r.response.data.errors).flat()})}function xo(){const e=Xe();return Ke({mutationFn:async t=>(await _e.delete(`/variazioni/${t}`)).data,onSuccess:()=>{e.invalidateQueries({queryKey:["variazioni"]})},onError:async t=>["Errore durante l'eliminazione della variazione"]})}function Df(e){return $n({queryKey:["variazioneNuova",e.prodotto_id.toString()],queryFn:async()=>(await _e.get("/variazione/nuova",{params:{prodotto_id:e.prodotto_id,prodotto_id_w:e.prodotto_id_w}})).data})}function kf({open:e,onClose:t,variazione:n,prodotto_id:r,prodotto_id_w:a,onSubmitSuccess:o}){const{control:i,handleSubmit:c,reset:l,setValue:d,watch:u}=Bn({defaultValues:{id:null,sku:"",shipping_class:"",regular_price:"",sale_price:"",manage_stock:!1,stock_quantity:0,stock_status:"instock",prodotto_attributi_con_variazioni:[],prodotto_macro_id:a}}),f=u("manage_stock"),p=u("id"),{mutate:y,isPending:h}=Cf(r),{mutate:x,isPending:m}=Pf(r,p),{mutate:b,isPending:I}=xo(),{data:S}=Df({prodotto_id:r,prodotto_id_w:a}),{data:D}=Sf(n==null?void 0:n.id);g.useEffect(()=>{(async()=>{if(e)try{l({id:null,sku:"",shipping_class:"",regular_price:"",sale_price:"",manage_stock:!1,stock_quantity:0,stock_status:"instock",prodotto_attributi_con_variazioni:[],prodotto_macro_id:a}),n?l(D):l(S,{keepDefaultValues:!0}),d("prodotto_macro_id",a)}catch(F){console.error("Errore durante l'inizializzazione del form:",F)}})()},[e,n,r,a,D]);const C=async w=>{try{t(),w.id?x({id:w.id,data:w},{onSuccess:()=>{o==null||o()}}):y(w,{onSuccess:()=>{o==null||o()}})}catch(F){console.error("Error saving variation:",F)}},k=async()=>{if(p)try{confirm("Sei sicuro di voler eliminare questa variazione?")&&b(p,{onSuccess:()=>{o==null||o(),t()}})}catch(w){console.error("Errore durante l'eliminazione della variazione:",w)}},P=[{name:"Disponibile",value:"instock"},{name:"Esaurito",value:"outofstock"},{name:"Permette ordini arretrati",value:"onbackorder"}];return s.jsxs(sa,{open:e,onClose:t,maxWidth:"md",fullWidth:!0,children:[s.jsx(bs,{children:n!=null&&n.id?`Variazione ${n.name}`:"Nuova variazione"}),s.jsx(ia,{children:s.jsxs("form",{onSubmit:c(C),children:[s.jsxs(yt,{defaultExpanded:!0,children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Attributi usati nelle variazioni"})}),s.jsx(It,{children:s.jsx(ce,{container:!0,spacing:2,children:s.jsx(Ne,{name:"prodotto_attributi_con_variazioni",control:i,render:({field:w})=>{var F;return s.jsx(s.Fragment,{children:(F=w.value)==null?void 0:F.map((N,M)=>{var A;return s.jsx(ce,{item:!0,xs:12,md:3,children:N.attributo&&s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{children:N.attributo.name}),s.jsx(Et,{value:N.opzione_id||"",onChange:B=>{var E;const T=[...w.value];T[M].opzione_id=B.target.value,T[M].opzione_nome=(E=N.attributo.opzioni.find(j=>j.id===B.target.value))==null?void 0:E.name,w.onChange(T)},label:N.attributo.name,children:(A=N.attributo.opzioni)==null?void 0:A.map(B=>s.jsx(rt,{value:B.id,children:B.name},B.id))})]})},M)})})}})})})]}),s.jsxs(yt,{sx:{mt:2},defaultExpanded:!0,children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Specifiche Variazione"})}),s.jsx(It,{children:s.jsxs(ce,{container:!0,spacing:2,children:[s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"sku",control:i,render:({field:w})=>s.jsx(je,{...w,fullWidth:!0,label:"SKU",value:w.value})})}),s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"shipping_class",control:i,render:({field:w})=>s.jsx(je,{...w,fullWidth:!0,label:"Classe di spedizione"})})}),s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"regular_price",control:i,render:({field:w})=>s.jsx(Ft,{...w,customInput:je,fullWidth:!0,thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,label:"Prezzo Listino"})})}),s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"sale_price",control:i,render:({field:w})=>s.jsx(Ft,{...w,customInput:je,fullWidth:!0,label:"Prezzo Scontato",thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0})})})]})})]}),s.jsxs(yt,{sx:{mt:2},defaultExpanded:!0,children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Magazzino"})}),s.jsx(It,{children:s.jsxs(ce,{container:!0,spacing:2,children:[s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"manage_stock",control:i,render:({field:w})=>s.jsx(Rn,{control:s.jsx(_t,{checked:w.value,onChange:F=>w.onChange(F.target.checked)}),label:"Gestione magazzino"})})}),f?s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"stock_quantity",control:i,render:({field:w})=>s.jsx(je,{...w,type:"number",fullWidth:!0,label:"Quantità magazzino"})})}):s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Ne,{name:"stock_status",control:i,render:({field:w})=>s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{children:"Stato Stock"}),s.jsx(Et,{...w,label:"Stato Stock",children:P.map(F=>s.jsx(rt,{value:F.value,children:F.name},F.value))})]})})})]})})]}),s.jsxs(de,{sx:{mt:3,display:"flex",justifyContent:"space-between"},children:[p?s.jsx(ke,{onClick:k,color:"error",disabled:I,startIcon:I?s.jsx(Kt,{size:20}):s.jsx(we,{icon:"eva:trash-2-fill"}),children:"Elimina variazione"}):s.jsx(de,{}),s.jsxs(de,{children:[s.jsx(ke,{onClick:t,sx:{mr:1},children:"Annulla"}),s.jsx(ke,{type:"submit",variant:"contained",disabled:h||m,startIcon:h||m?s.jsx(Kt,{size:20}):s.jsx(we,{icon:"eva:save-fill"}),children:h||m?"Salvataggio...":"Salva variazione"})]})]})]})})]})}const Mf=async e=>(await _e.get("/variazioni",{params:{id_macro:e}})).data.data||[];function Tf(e){return $n({queryKey:["variazioni",e.toString()],queryFn:()=>Mf(e)})}function jf(e){const t=Xe();return Ke({mutationFn:async n=>{const{data:r}=await _e.post("/batch-update-variazioni",{_rawValue:n.variazioni});return r},onSuccess:()=>{t.invalidateQueries({queryKey:["variazioni",e.toString()]})}})}function Rf({prodotto_id:e,prodotto_id_w:t,prodotto:n}){const[r,a]=g.useState(!1),[o,i]=g.useState(null),{data:c,isLoading:l}=Tf(e.toString()),{mutate:d,isPending:u}=jf(e),{mutate:f,isPending:p}=xo(),[y,h]=g.useState(c||[]);g.useEffect(()=>{c&&h(c)},[c]);const x=ha(On(xa),On(ba,{coordinateGetter:ga})),m=P=>{i(P||null),a(!0)},b=()=>{i(null),a(!1)},I=async P=>{window.confirm("Sei sicuro di voler eliminare questa variazione?")&&f(P)},S=P=>{const{active:w,over:F}=P;if(!F||!y)return;const N=y.findIndex(A=>A.id===w.id),M=y.findIndex(A=>A.id===F.id);if(N!==-1&&M!==-1){const A=wa(y,N,M).map((B,T)=>({...B,menu_order:T+1}));h(A)}},D=async()=>{d({variazioni:y})},C=(P,w)=>{h(F=>F.map(N=>N.id===P?{...N,...w}:N))},k=[{id:"ordinamento",label:""},{id:"id",label:"ID"},{id:"id_w",label:"ID-W"},{id:"attributi",label:"Attributi"},{id:"sku",label:"SKU"},{id:"stock_quantity",label:"Qt. magazzino"},{id:"regular_price",label:"Prezzo Listino"},{id:"sale_price",label:"Prezzo Saldo"},{id:"on_sale",label:"Saldo"},{id:"purchasable",label:"Vendita"},{id:"actions",label:"Azioni"}];return s.jsxs(de,{children:[s.jsxs(de,{sx:{mb:2,mt:5,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx(de,{children:s.jsxs(xe,{variant:"h6",children:["Variazioni ",n==null?void 0:n.name," (",c==null?void 0:c.length,")"]})}),s.jsxs(de,{children:[s.jsx(ke,{variant:"contained",startIcon:s.jsx(we,{icon:"eva:save-fill"}),onClick:D,sx:{mr:1},children:"Salva variazioni"}),s.jsx(ke,{variant:"contained",startIcon:s.jsx(we,{icon:"eva:plus-fill"}),onClick:()=>m(),children:"Nuova variazione"})]})]}),s.jsx(va,{sensors:x,collisionDetection:ya,onDragEnd:S,children:y&&y.length>0&&s.jsx(Ia,{items:y.map(P=>P.id),strategy:xs,children:s.jsx(fa,{noOrder:!0,data:y.filter(P=>P.id!==null),columns:k,isLoading:l||u||p,showCheckbox:!1,showPagination:!1,renderRow:P=>s.jsx(wf,{id:P.id,row:P,onEdit:()=>m(P),onDelete:()=>I(P.id),onUpdate:w=>C(P.id,w)},P.id)})})}),s.jsx(kf,{open:r,onClose:b,variazione:o,prodotto_id:e,prodotto_id_w:t,prodotto:n,onSubmitSuccess:()=>{}})]})}function vo(e){return Me}function Vf(e){return Se("MuiSimpleTreeView",e)}Ce("MuiSimpleTreeView",["root"]);const Ef=(e,t)=>{const n=g.useRef({}),[r,a]=g.useState(()=>{const i={};return e.forEach(c=>{c.models&&Object.entries(c.models).forEach(([l,d])=>{n.current[l]={isControlled:t[l]!==void 0,getDefaultValue:d.getDefaultValue},i[l]=d.getDefaultValue(t)})}),i});return Object.fromEntries(Object.entries(n.current).map(([i,c])=>{const l=t[i]??r[i];return[i,{value:l,setControlledValue:d=>{c.isControlled||a(u=>v({},u,{[i]:d}))}}]}))};class Af{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let a=this.events[t];a||(a={highPriority:new Map,regular:new Map},this.events[t]=a),r.isFirst?a.highPriority.set(n,!0):a.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const a=Array.from(r.highPriority.keys()),o=Array.from(r.regular.keys());for(let i=a.length-1;i>=0;i-=1){const c=a[i];r.highPriority.has(c)&&c.apply(this,n)}for(let i=0;i<o.length;i+=1){const c=o[i];r.regular.has(c)&&c.apply(this,n)}}once(t,n){const r=this;this.on(t,function a(...o){r.removeListener(t,a),n.apply(r,o)})}}const Ff=e=>e.isPropagationStopped!==void 0,yo=()=>{const[e]=g.useState(()=>new Af),t=g.useCallback((...r)=>{const[a,o,i={}]=r;i.defaultMuiPrevented=!1,!(Ff(i)&&i.isPropagationStopped())&&e.emit(a,o,i)},[e]),n=g.useCallback((r,a)=>(e.on(r,a),()=>{e.removeListener(r,a)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};yo.params={};const Io=({plugins:e})=>{const t=new Set(e);return{instance:{getAvailablePlugins:()=>t}}};Io.params={};let Zr=0;const Of=()=>(Zr+=1,`mui-tree-view-${Zr}`),qn=({id:e,treeId:t="",itemId:n})=>e??`${t}-${n}`,Ir=({params:e,state:t,setState:n})=>{g.useEffect(()=>{n(a=>a.id.treeId===e.id&&a.id.treeId!==void 0?a:v({},a,{id:v({},a.id,{treeId:e.id??Of()})}))},[n,e.id]);const r=e.id??t.id.treeId;return{getRootProps:()=>({id:r}),contextValue:{treeId:r}}};Ir.params={id:!0};Ir.getInitialState=({id:e})=>({id:{treeId:e??void 0}});const Nf=[yo,Io,Ir],Lf=["slots","slotProps","apiRef","experimentalFeatures"],$f=e=>{let{props:{slots:t,slotProps:n,apiRef:r,experimentalFeatures:a},plugins:o}=e,i=le(e.props,Lf);const c={};o.forEach(p=>{Object.assign(c,p.params)});const l={},d={};Object.keys(i).forEach(p=>{const y=i[p];c[p]?l[p]=y:d[p]=y});const u=a??{},f=o.reduce((p,y)=>y.getDefaultizedParams?y.getDefaultizedParams({params:p,experimentalFeatures:u}):p,l);return{apiRef:r,forwardedProps:d,pluginParams:f,slots:t??{},slotProps:n??{},experimentalFeatures:u}},zf=({plugins:e,instance:t,publicAPI:n,rootRef:r})=>({runItemPlugins:c=>{let l=null,d=null;const u=[],f={};e.forEach(h=>{if(!h.itemPlugin)return;const x=h.itemPlugin({props:c,rootRef:l,contentRef:d});x!=null&&x.rootRef&&(l=x.rootRef),x!=null&&x.contentRef&&(d=x.contentRef),x!=null&&x.propsEnhancers&&(u.push(x.propsEnhancers),Object.keys(x.propsEnhancers).forEach(m=>{f[m]=!0}))});const p=h=>x=>{const m={};return u.forEach(b=>{const I=b[h];I!=null&&Object.assign(m,I(x))}),m},y=Object.fromEntries(Object.keys(f).map(h=>[h,p(h)]));return{contentRef:d,rootRef:l,propsEnhancers:y}},wrapItem:({itemId:c,children:l})=>{let d=l;for(let u=e.length-1;u>=0;u-=1){const f=e[u];f.wrapItem&&(d=f.wrapItem({itemId:c,children:d,instance:t}))}return d},wrapRoot:({children:c})=>{let l=c;for(let d=e.length-1;d>=0;d-=1){const u=e[d];u.wrapRoot&&(l=u.wrapRoot({children:l,instance:t}))}return l},instance:t,rootRef:r,publicAPI:n});function Bf(e){const t=g.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const _f=({plugins:e,rootRef:t,props:n})=>{const r=[...Nf,...e],{pluginParams:a,forwardedProps:o,apiRef:i,experimentalFeatures:c,slots:l,slotProps:d}=$f({plugins:r,props:n}),u=Ef(r,a),p=g.useRef({}).current,y=Bf(i),h=g.useRef(null),x=Le(h,t),m=zf({plugins:r,instance:p,publicAPI:y,rootRef:h}),[b,I]=g.useState(()=>{const k={};return r.forEach(P=>{P.getInitialState&&Object.assign(k,P.getInitialState(a))}),k}),S=[],D=k=>{const P=k({instance:p,params:a,slots:l,slotProps:d,experimentalFeatures:c,state:b,setState:I,rootRef:h,models:u,plugins:r});P.getRootProps&&S.push(P.getRootProps),P.publicAPI&&Object.assign(y,P.publicAPI),P.instance&&Object.assign(p,P.instance),P.contextValue&&Object.assign(m,P.contextValue)};return r.forEach(D),{getRootProps:(k={})=>{const P=v({role:"tree"},o,k,{ref:x});return S.forEach(w=>{Object.assign(P,w(k))}),P},rootRef:x,contextValue:m,instance:p}},wo=g.createContext(null);function Wf(e){const{value:t,children:n}=e;return s.jsx(wo.Provider,{value:t,children:t.wrapRoot({children:n,instance:t.instance})})}const Gt=()=>{const e=g.useContext(wo);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},So=(e,t,n)=>{e.$$publishEvent(t,n)},At="__TREE_VIEW_ROOT_PARENT_ID__",Co=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},hn=g.createContext(()=>-1),Uf=["children"],Po=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:r})=>{const a={},o={},i={[At]:[]},c=(d,u,f)=>{var x,m;const p=r?r(d):d.id;if(p==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(d)].join(`
`));if(a[p]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${p}"`].join(`
`));const y=n?n(d):d.label;if(y==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(d)].join(`
`));a[p]={id:p,label:y,parentId:f,idAttribute:void 0,expandable:!!((x=d.children)!=null&&x.length),disabled:t?t(d):!1,depth:u},o[p]=d;const h=f??At;i[h]||(i[h]=[]),i[h].push(p),(m=d.children)==null||m.forEach(b=>c(b,u+1,p))};e.forEach(d=>c(d,0,null));const l={};return Object.keys(i).forEach(d=>{l[d]=Co(i[d])}),{itemMetaMap:a,itemMap:o,itemOrderedChildrenIds:i,itemChildrenIndexes:l}},In=({instance:e,params:t,state:n,setState:r,experimentalFeatures:a})=>{const o=g.useCallback(b=>n.items.itemMetaMap[b],[n.items.itemMetaMap]),i=g.useCallback(b=>n.items.itemMap[b],[n.items.itemMap]),c=g.useCallback(()=>{const b=I=>{const S=n.items.itemMap[I],D=le(S,Uf),C=n.items.itemOrderedChildrenIds[I];return C&&(D.children=C.map(b)),D};return n.items.itemOrderedChildrenIds[At].map(b)},[n.items.itemMap,n.items.itemOrderedChildrenIds]),l=g.useCallback(b=>{if(b==null)return!1;let I=e.getItemMeta(b);if(!I)return!1;if(I.disabled)return!0;for(;I.parentId!=null;)if(I=e.getItemMeta(I.parentId),I.disabled)return!0;return!1},[e]),d=g.useCallback(b=>{const I=e.getItemMeta(b).parentId??At;return n.items.itemChildrenIndexes[I][b]},[e,n.items.itemChildrenIndexes]),u=g.useCallback(b=>n.items.itemOrderedChildrenIds[b??At]??[],[n.items.itemOrderedChildrenIds]),f=b=>{const I=e.getItemMeta(b);return I==null?null:document.getElementById(qn({treeId:n.id.treeId,itemId:b,id:I.idAttribute}))},p=b=>t.disabledItemsFocusable?!0:!e.isItemDisabled(b),y=g.useRef(!1),h=g.useCallback(()=>{y.current=!0},[]),x=g.useCallback(()=>y.current,[]);return g.useEffect(()=>{e.areItemUpdatesPrevented()||r(b=>{const I=Po({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(b.items.itemMetaMap).forEach(S=>{I.itemMetaMap[S.id]||So(e,"removeItem",{id:S.id})}),v({},b,{items:I})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{getRootProps:()=>({style:{"--TreeView-itemChildrenIndentation":typeof t.itemChildrenIndentation=="number"?`${t.itemChildrenIndentation}px`:t.itemChildrenIndentation}}),publicAPI:{getItem:i,getItemDOMElement:f,getItemTree:c,getItemOrderedChildrenIds:u},instance:{getItemMeta:o,getItem:i,getItemTree:c,getItemsToRender:()=>{const b=I=>{var D;const S=n.items.itemMetaMap[I];return{label:S.label,itemId:S.id,id:S.idAttribute,children:(D=n.items.itemOrderedChildrenIds[I])==null?void 0:D.map(b)}};return n.items.itemOrderedChildrenIds[At].map(b)},getItemIndex:d,getItemDOMElement:f,getItemOrderedChildrenIds:u,isItemDisabled:l,isItemNavigable:p,preventItemUpdates:h,areItemUpdatesPrevented:x},contextValue:{items:{onItemClick:t.onItemClick,disabledItemsFocusable:t.disabledItemsFocusable,indentationAtItemLevel:a.indentationAtItemLevel??!1}}}};In.getInitialState=e=>({items:Po({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});In.getDefaultizedParams=({params:e})=>v({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1,itemChildrenIndentation:e.itemChildrenIndentation??"12px"});In.wrapRoot=({children:e,instance:t})=>s.jsx(hn.Provider,{value:n=>{var r;return((r=t.getItemMeta(n))==null?void 0:r.depth)??0},children:e});In.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0,onItemClick:!0,itemChildrenIndentation:!0};const Gn=({instance:e,params:t,models:n})=>{const r=g.useMemo(()=>{const f=new Map;return n.expandedItems.value.forEach(p=>{f.set(p,!0)}),f},[n.expandedItems.value]),a=(f,p)=>{var y;(y=t.onExpandedItemsChange)==null||y.call(t,f,p),n.expandedItems.setControlledValue(p)},o=g.useCallback(f=>r.has(f),[r]),i=g.useCallback(f=>{var p;return!!((p=e.getItemMeta(f))!=null&&p.expandable)},[e]),c=ne((f,p)=>{const y=e.isItemExpanded(p);e.setItemExpansion(f,p,!y)}),l=ne((f,p,y)=>{if(e.isItemExpanded(p)===y)return;let x;y?x=[p].concat(n.expandedItems.value):x=n.expandedItems.value.filter(m=>m!==p),t.onItemExpansionToggle&&t.onItemExpansionToggle(f,p,y),a(f,x)}),d=(f,p)=>{const y=e.getItemMeta(p),x=e.getItemOrderedChildrenIds(y.parentId).filter(b=>e.isItemExpandable(b)&&!e.isItemExpanded(b)),m=n.expandedItems.value.concat(x);x.length>0&&(t.onItemExpansionToggle&&x.forEach(b=>{t.onItemExpansionToggle(f,b,!0)}),a(f,m))},u=g.useMemo(()=>t.expansionTrigger?t.expansionTrigger:e.isTreeViewEditable?"iconContainer":"content",[t.expansionTrigger,e.isTreeViewEditable]);return{publicAPI:{setItemExpansion:l},instance:{isItemExpanded:o,isItemExpandable:i,setItemExpansion:l,toggleItemExpansion:c,expandAllSiblings:d},contextValue:{expansion:{expansionTrigger:u}}}};Gn.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const Hf=[];Gn.getDefaultizedParams=({params:e})=>v({},e,{defaultExpandedItems:e.defaultExpandedItems??Hf});Gn.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0,expansionTrigger:!0};const Do=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},ko=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),a=e.getItemIndex(t);if(a===0)return n.parentId;let o=a-1;for(;!e.isItemNavigable(r[o])&&o>=0;)o-=1;if(o===-1)return n.parentId==null?null:ko(e,n.parentId);let i=r[o],c=Do(e,e.getItemOrderedChildrenIds(i));for(;e.isItemExpanded(i)&&c!=null;)i=c,c=e.getItemOrderedChildrenIds(i).find(e.isItemNavigable);return i},Vn=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let n=e.getItemMeta(t);for(;n!=null;){const r=e.getItemOrderedChildrenIds(n.parentId),a=e.getItemIndex(n.id);if(a<r.length-1){let o=a+1;for(;!e.isItemNavigable(r[o])&&o<r.length-1;)o+=1;if(e.isItemNavigable(r[o]))return r[o]}n=e.getItemMeta(n.parentId)}return null},Mo=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=Do(e,n);if(r==null)return t;t=r}return t},gn=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),To=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),a=e.getItemMeta(n);if(r.parentId===a.id||a.parentId===r.id)return a.parentId===r.id?[r.id,a.id]:[a.id,r.id];const o=[r.id],i=[a.id];let c=r.parentId,l=a.parentId,d=i.indexOf(c)!==-1,u=o.indexOf(l)!==-1,f=!0,p=!0;for(;!u&&!d;)f&&(o.push(c),d=i.indexOf(c)!==-1,f=c!==null,!d&&f&&(c=e.getItemMeta(c).parentId)),p&&!d&&(i.push(l),u=o.indexOf(l)!==-1,p=l!==null,!u&&p&&(l=e.getItemMeta(l).parentId));const y=d?c:l,h=e.getItemOrderedChildrenIds(y),x=o[o.indexOf(y)-1],m=i[i.indexOf(y)-1];return h.indexOf(x)<h.indexOf(m)?[t,n]:[n,t]},Yf=(e,t,n)=>{const r=l=>{if(e.isItemExpandable(l)&&e.isItemExpanded(l))return e.getItemOrderedChildrenIds(l)[0];let d=e.getItemMeta(l);for(;d!=null;){const u=e.getItemOrderedChildrenIds(d.parentId),f=e.getItemIndex(d.id);if(f<u.length-1)return u[f+1];d=e.getItemMeta(d.parentId)}throw new Error("Invalid range")},[a,o]=To(e,t,n),i=[a];let c=a;for(;c!==o;)c=r(c),e.isItemDisabled(c)||i.push(c);return i},Kf=e=>{let t=gn(e);const n=[];for(;t!=null;)n.push(t),t=Vn(e,t);return n},sr=(e,t)=>t!==e.closest('*[role="treeitem"]'),En=e=>Array.isArray(e)?e:e!=null?[e]:[],rr=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},Qn=({instance:e,params:t,models:n})=>{const r=g.useRef(null),a=g.useRef({}),o=g.useMemo(()=>{const x=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(m=>{x.set(m,!0)}):n.selectedItems.value!=null&&x.set(n.selectedItems.value,!0),x},[n.selectedItems.value]),i=(x,m)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const b=m.filter(S=>!e.isItemSelected(S)),I=n.selectedItems.value.filter(S=>!m.includes(S));b.forEach(S=>{t.onItemSelectionToggle(x,S,!0)}),I.forEach(S=>{t.onItemSelectionToggle(x,S,!1)})}else m!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(x,n.selectedItems.value,!1),m!=null&&t.onItemSelectionToggle(x,m,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(x,m),n.selectedItems.setControlledValue(m)},c=x=>o.has(x),l=({event:x,itemId:m,keepExistingSelection:b=!1,shouldBeSelected:I})=>{if(t.disableSelection)return;let S;if(b){const D=En(n.selectedItems.value),C=e.isItemSelected(m);C&&(I===!1||I==null)?S=D.filter(k=>k!==m):!C&&(I===!0||I==null)?S=[m].concat(D):S=D}else I===!1||I==null&&e.isItemSelected(m)?S=t.multiSelect?[]:null:S=t.multiSelect?[m]:m;i(x,S),r.current=m,a.current={}},d=(x,[m,b])=>{if(t.disableSelection||!t.multiSelect)return;let I=En(n.selectedItems.value).slice();Object.keys(a.current).length>0&&(I=I.filter(k=>!a.current[k]));const S=rr(I),D=Yf(e,m,b),C=D.filter(k=>!S[k]);I=I.concat(C),i(x,I),a.current=rr(D)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),publicAPI:{selectItem:l},instance:{isItemSelected:c,selectItem:l,selectAllNavigableItems:x=>{if(t.disableSelection||!t.multiSelect)return;const m=Kf(e);i(x,m),a.current=rr(m)},expandSelectionRange:(x,m)=>{if(r.current!=null){const[b,I]=To(e,m,r.current);d(x,[b,I])}},selectRangeFromStartToItem:(x,m)=>{d(x,[gn(e),m])},selectRangeFromItemToEnd:(x,m)=>{d(x,[m,Mo(e)])},selectItemFromArrowNavigation:(x,m,b)=>{if(t.disableSelection||!t.multiSelect)return;let I=En(n.selectedItems.value).slice();Object.keys(a.current).length===0?(I.push(b),a.current={[m]:!0,[b]:!0}):(a.current[m]||(a.current={}),a.current[b]?(I=I.filter(S=>S!==m),delete a.current[m]):(I.push(b),a.current[b]=!0)),i(x,I)}},contextValue:{selection:{multiSelect:t.multiSelect,checkboxSelection:t.checkboxSelection,disableSelection:t.disableSelection}}}};Qn.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const qf=[];Qn.getDefaultizedParams=({params:e})=>v({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,checkboxSelection:e.checkboxSelection??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?qf:null)});Qn.params={disableSelection:!0,multiSelect:!0,checkboxSelection:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const Jr=1e3;class Gf{constructor(t=Jr){this.timeouts=new Map,this.cleanupTimeout=Jr,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const a=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,a)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Qf{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class Xf{}function Zf(e){let t=0;return function(r,a,o){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new Qf:new Gf);const[i]=g.useState(new Xf),c=g.useRef(null),l=g.useRef(void 0);l.current=o;const d=g.useRef(null);if(!c.current&&l.current){const u=(f,p)=>{var y;p.defaultMuiPrevented||(y=l.current)==null||y.call(l,f,p)};c.current=r.$$subscribeEvent(a,u),t+=1,d.current={cleanupToken:t},e.registry.register(i,()=>{var f;(f=c.current)==null||f.call(c),c.current=null,d.current=null},d.current)}else!l.current&&c.current&&(c.current(),c.current=null,d.current&&(e.registry.unregister(d.current),d.current=null));g.useEffect(()=>{if(!c.current&&l.current){const u=(f,p)=>{var y;p.defaultMuiPrevented||(y=l.current)==null||y.call(l,f,p)};c.current=r.$$subscribeEvent(a,u)}return d.current&&e.registry&&(e.registry.unregister(d.current),d.current=null),()=>{var u;(u=c.current)==null||u.call(c),c.current=null}},[r,a])}}const Jf={registry:null},ep=Zf(Jf),jo=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?jo(t.shadowRoot):t:null};function tp(e){return e.replace(/["\\]/g,"\\$&")}const np=(e,t)=>{let n=En(t).find(r=>{if(!e.isItemNavigable(r))return!1;const a=e.getItemMeta(r);return a&&(a.parentId==null||e.isItemExpanded(a.parentId))});return n==null&&(n=gn(e)),n},wr=({instance:e,params:t,state:n,setState:r,models:a,rootRef:o})=>{const i=np(e,a.selectedItems.value),c=ne(m=>{const b=typeof m=="function"?m(n.focusedItemId):m;n.focusedItemId!==b&&r(I=>v({},I,{focusedItemId:b}))}),l=g.useCallback(()=>!!o.current&&o.current.contains(jo(jn(o.current))),[o]),d=g.useCallback(m=>n.focusedItemId===m&&l(),[n.focusedItemId,l]),u=m=>{const b=e.getItemMeta(m);return b&&(b.parentId==null||e.isItemExpanded(b.parentId))},f=(m,b)=>{const I=e.getItemDOMElement(b);I&&I.focus(),c(b),t.onItemFocus&&t.onItemFocus(m,b)},p=ne((m,b)=>{u(b)&&f(m,b)}),y=ne(()=>{if(n.focusedItemId==null)return;if(e.getItemMeta(n.focusedItemId)){const b=e.getItemDOMElement(n.focusedItemId);b&&b.blur()}c(null)}),h=m=>m===i;ep(e,"removeItem",({id:m})=>{n.focusedItemId===m&&f(null,i)});const x=m=>b=>{var I;(I=m.onFocus)==null||I.call(m,b),!b.defaultMuiPrevented&&b.target===b.currentTarget&&f(b,i)};return{getRootProps:m=>({onFocus:x(m)}),publicAPI:{focusItem:p},instance:{isItemFocused:d,canItemBeTabbed:h,focusItem:p,removeFocusedItem:y}}};wr.getInitialState=()=>({focusedItemId:null});wr.params={onItemFocus:!0};const An=(e,t)=>e.getAvailablePlugins().has(t),rp=({props:e})=>{const{instance:t}=Gt(),{label:n,itemId:r}=e,[a,o]=g.useState(n),i=t.isItemBeingEdited(r);return g.useEffect(()=>{i||o(n)},[i,n]),{propsEnhancers:{labelInput:({externalEventHandlers:c,interactions:l})=>t.isItemEditable(r)?{value:a??"","data-element":"labelInput",onChange:y=>{var h;(h=c.onChange)==null||h.call(c,y),o(y.target.value)},onKeyDown:y=>{var x;if((x=c.onKeyDown)==null||x.call(c,y),y.defaultMuiPrevented)return;const h=y.target;y.key==="Enter"&&h.value?l.handleSaveItemLabel(y,h.value):y.key==="Escape"&&l.handleCancelItemLabelEditing(y)},onBlur:y=>{var h;(h=c.onBlur)==null||h.call(c,y),!y.defaultMuiPrevented&&y.target.value&&l.handleSaveItemLabel(y,y.target.value)},autoFocus:!0,type:"text"}:{}}}},Dt=({instance:e,state:t,setState:n,params:r})=>{const a=g.useRef(t.editedItemId),o=f=>a.current===f,i=f=>{n(p=>v({},p,{editedItemId:f})),a.current=f},c=f=>f===t.editedItemId,l=!!r.isItemEditable,d=f=>{if(f==null||!l)return!1;const p=e.getItem(f);return p?typeof r.isItemEditable=="function"?r.isItemEditable(p):!!r.isItemEditable:!1},u=(f,p)=>{if(!p)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","The label of an item cannot be empty.",f].join(`
`));n(y=>{const h=y.items.itemMetaMap[f];return h.label!==p?v({},y,{items:v({},y.items,{itemMetaMap:v({},y.items.itemMetaMap,{[f]:v({},h,{label:p})})})}):y}),r.onItemLabelChange&&r.onItemLabelChange(f,p)};return{instance:{setEditedItemId:i,isItemBeingEdited:c,updateItemLabel:u,isItemEditable:d,isTreeViewEditable:l,isItemBeingEditedRef:o},publicAPI:{updateItemLabel:u}}};Dt.itemPlugin=rp;Dt.getDefaultizedParams=({params:e,experimentalFeatures:t})=>{const n=t==null?void 0:t.labelEditing;return v({},e,{isItemEditable:n?e.isItemEditable??!1:!1})};Dt.getInitialState=()=>({editedItemId:null});Dt.params={onItemLabelChange:!0,isItemEditable:!0};function ap(e){return!!e&&e.length===1&&!!e.match(/\S/)}const Ro=({instance:e,params:t,state:n})=>{const r=ot(),a=g.useRef({}),o=ne(u=>{a.current=u(a.current)});g.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const u={},f=p=>{u[p.id]=p.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(f),a.current=u},[n.items.itemMetaMap,t.getItemId,e]);const i=(u,f)=>{const p=f.toLowerCase(),y=b=>{const I=Vn(e,b);return I===null?gn(e):I};let h=null,x=y(u);const m={};for(;h==null&&!m[x];)a.current[x]===p?h=x:(m[x]=!0,x=y(x));return h},c=u=>!t.disableSelection&&!e.isItemDisabled(u),l=u=>!e.isItemDisabled(u)&&e.isItemExpandable(u);return{instance:{updateFirstCharMap:o,handleItemKeyDown:(u,f)=>{if(u.defaultMuiPrevented||u.altKey||sr(u.target,u.currentTarget))return;const p=u.ctrlKey||u.metaKey,y=u.key;switch(!0){case(y===" "&&c(f)):{u.preventDefault(),t.multiSelect&&u.shiftKey?e.expandSelectionRange(u,f):e.selectItem({event:u,itemId:f,keepExistingSelection:t.multiSelect,shouldBeSelected:t.multiSelect?void 0:!0});break}case y==="Enter":{An(e,Dt)&&e.isItemEditable(f)&&!e.isItemBeingEdited(f)?e.setEditedItemId(f):l(f)?(e.toggleItemExpansion(u,f),u.preventDefault()):c(f)&&(t.multiSelect?(u.preventDefault(),e.selectItem({event:u,itemId:f,keepExistingSelection:!0})):e.isItemSelected(f)||(e.selectItem({event:u,itemId:f}),u.preventDefault()));break}case y==="ArrowDown":{const h=Vn(e,f);h&&(u.preventDefault(),e.focusItem(u,h),t.multiSelect&&u.shiftKey&&c(h)&&e.selectItemFromArrowNavigation(u,f,h));break}case y==="ArrowUp":{const h=ko(e,f);h&&(u.preventDefault(),e.focusItem(u,h),t.multiSelect&&u.shiftKey&&c(h)&&e.selectItemFromArrowNavigation(u,f,h));break}case(y==="ArrowRight"&&!r||y==="ArrowLeft"&&r):{if(p)return;if(e.isItemExpanded(f)){const h=Vn(e,f);h&&(e.focusItem(u,h),u.preventDefault())}else l(f)&&(e.toggleItemExpansion(u,f),u.preventDefault());break}case(y==="ArrowLeft"&&!r||y==="ArrowRight"&&r):{if(p)return;if(l(f)&&e.isItemExpanded(f))e.toggleItemExpansion(u,f),u.preventDefault();else{const h=e.getItemMeta(f).parentId;h&&(e.focusItem(u,h),u.preventDefault())}break}case y==="Home":{c(f)&&t.multiSelect&&p&&u.shiftKey?e.selectRangeFromStartToItem(u,f):e.focusItem(u,gn(e)),u.preventDefault();break}case y==="End":{c(f)&&t.multiSelect&&p&&u.shiftKey?e.selectRangeFromItemToEnd(u,f):e.focusItem(u,Mo(e)),u.preventDefault();break}case y==="*":{e.expandAllSiblings(u,f),u.preventDefault();break}case(String.fromCharCode(u.keyCode)==="A"&&p&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(u),u.preventDefault();break}case(!p&&!u.shiftKey&&ap(y)):{const h=i(f,y);h!=null&&(e.focusItem(u,h),u.preventDefault());break}}}}}};Ro.params={};const Vo=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});Vo.params={};const Eo=g.createContext(null);function Ao(e){const{children:t,itemId:n=null}=e,{instance:r,treeId:a,rootRef:o}=Gt(),i=g.useRef(new Map);g.useEffect(()=>{if(!o.current)return;let l=null;if(n==null)l=o.current.id;else{const h=r.getItemMeta(n);h!==void 0&&(l=qn({itemId:n,treeId:a,id:h.idAttribute}))}if(l==null)return;const d=r.getItemOrderedChildrenIds(n??null)??[],u=tp(l),f=o.current.querySelectorAll(`${n==null?"":`*[id="${u}"] `}[role="treeitem"]:not(*[id="${u}"] [role="treeitem"] [role="treeitem"])`),p=Array.from(f).map(h=>i.current.get(h.id));(p.length!==d.length||p.some((h,x)=>h!==d[x]))&&r.setJSXItemsOrderedChildrenIds(n??null,p)});const c=g.useMemo(()=>({registerChild:(l,d)=>i.current.set(l,d),unregisterChild:l=>i.current.delete(l),parentId:n}),[n]);return s.jsx(Eo.Provider,{value:c,children:t})}const wn=({instance:e,setState:t})=>{e.preventItemUpdates();const n=ne(o=>(t(i=>{if(i.items.itemMetaMap[o.id]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${o.id}"`].join(`
`));return v({},i,{items:v({},i.items,{itemMetaMap:v({},i.items.itemMetaMap,{[o.id]:o}),itemMap:v({},i.items.itemMap,{[o.id]:{id:o.id,label:o.label}})})})}),()=>{t(i=>{const c=v({},i.items.itemMetaMap),l=v({},i.items.itemMap);return delete c[o.id],delete l[o.id],v({},i,{items:v({},i.items,{itemMetaMap:c,itemMap:l})})}),So(e,"removeItem",{id:o.id})})),r=(o,i)=>{const c=o??At;t(l=>v({},l,{items:v({},l.items,{itemOrderedChildrenIds:v({},l.items.itemOrderedChildrenIds,{[c]:i}),itemChildrenIndexes:v({},l.items.itemChildrenIndexes,{[c]:Co(i)})})}))},a=ne((o,i)=>(e.updateFirstCharMap(c=>(c[o]=i,c)),()=>{e.updateFirstCharMap(c=>{const l=v({},c);return delete l[o],l})}));return{instance:{insertJSXItem:n,setJSXItemsOrderedChildrenIds:r,mapFirstCharFromJSX:a}}},Fo=e=>Array.isArray(e)?e.length>0&&e.some(Fo):!!e,op=({props:e,rootRef:t,contentRef:n})=>{const{instance:r,treeId:a}=Gt(),{children:o,disabled:i=!1,label:c,itemId:l,id:d}=e,u=g.useContext(Eo);if(u==null)throw new Error(["MUI X: Could not find the Tree View Children Item context.","It looks like you rendered your component outside of a SimpleTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));const{registerChild:f,unregisterChild:p,parentId:y}=u,h=Fo(o),x=g.useRef(null),m=Le(x,n);return ut(()=>{const b=qn({itemId:l,treeId:a,id:d});return f(b,l),()=>{p(b)}},[f,p,l,d,a]),g.useEffect(()=>r.insertJSXItem({id:l,idAttribute:d,parentId:y,expandable:h,disabled:i}),[r,y,l,h,i,d]),g.useEffect(()=>{var b;if(c)return r.mapFirstCharFromJSX(l,(((b=x.current)==null?void 0:b.textContent)??"").substring(0,1).toLowerCase())},[r,l,c]),{contentRef:m,rootRef:t}};wn.itemPlugin=op;wn.wrapItem=({children:e,itemId:t})=>{const n=g.useContext(hn);return s.jsx(Ao,{itemId:t,children:s.jsx(hn.Provider,{value:n+1,children:e})})};wn.wrapRoot=({children:e})=>s.jsx(Ao,{children:s.jsx(hn.Provider,{value:0,children:e})});wn.params={};const sp=[In,Gn,Qn,wr,Ro,Vo,wn],ip=vo(),lp=e=>{const{classes:t}=e;return Ie({root:["root"]},Vf,t)},cp=ee("ul",{name:"MuiSimpleTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"}),up=[],dp=g.forwardRef(function(t,n){const r=ip({props:t,name:"MuiSimpleTreeView"}),a=r,{getRootProps:o,contextValue:i}=_f({plugins:sp,rootRef:n,props:v({},r,{items:up})}),{slots:c,slotProps:l}=r,d=lp(r),u=(c==null?void 0:c.root)??cp,f=ve({elementType:u,externalSlotProps:l==null?void 0:l.root,className:d.root,getSlotProps:o,ownerState:a});return s.jsx(Wf,{value:i,children:s.jsx(u,v({},f))})});function Oo(e){const{instance:t,items:{onItemClick:n},selection:{multiSelect:r,checkboxSelection:a,disableSelection:o},expansion:{expansionTrigger:i}}=Gt(),c=t.isItemExpandable(e),l=t.isItemExpanded(e),d=t.isItemFocused(e),u=t.isItemSelected(e),f=t.isItemDisabled(e),p=t!=null&&t.isItemBeingEdited?t==null?void 0:t.isItemBeingEdited(e):!1,y=t.isItemEditable?t.isItemEditable(e):!1,h=C=>{if(!f){d||t.focusItem(C,e);const k=r&&(C.shiftKey||C.ctrlKey||C.metaKey);c&&!(k&&t.isItemExpanded(e))&&t.toggleItemExpansion(C,e)}},x=C=>{f||(d||t.focusItem(C,e),r&&(C.shiftKey||C.ctrlKey||C.metaKey)?C.shiftKey?t.expandSelectionRange(C,e):t.selectItem({event:C,itemId:e,keepExistingSelection:!0}):t.selectItem({event:C,itemId:e,shouldBeSelected:!0}))},m=C=>{if(o||f)return;const k=C.nativeEvent.shiftKey;r&&k?t.expandSelectionRange(C,e):t.selectItem({event:C,itemId:e,keepExistingSelection:r,shouldBeSelected:C.target.checked})},b=C=>{(C.shiftKey||C.ctrlKey||C.metaKey||f)&&C.preventDefault()},I=()=>{An(t,Dt)&&t.isItemEditable(e)&&(t.isItemBeingEdited(e)?t.setEditedItemId(null):t.setEditedItemId(e))};return{disabled:f,expanded:l,selected:u,focused:d,editable:y,editing:p,disableSelection:o,checkboxSelection:a,handleExpansion:h,handleSelection:x,handleCheckboxSelection:m,handleContentClick:n,preventSelection:b,expansionTrigger:i,toggleItemEditing:I,handleSaveItemLabel:(C,k)=>{An(t,Dt)&&t.isItemBeingEditedRef(e)&&(t.updateItemLabel(e,k),I(),t.focusItem(C,e))},handleCancelItemLabelEditing:C=>{An(t,Dt)&&t.isItemBeingEditedRef(e)&&(I(),t.focusItem(C,e))}}}const fp=ee("div",{name:"MuiTreeItem2DragAndDropOverlay",slot:"Root",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>aa(e)&&e!=="action"})(({theme:e})=>({position:"absolute",left:0,display:"flex",top:0,bottom:0,right:0,pointerEvents:"none",variants:[{props:{action:"make-child"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderRadius:e.shape.borderRadius,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.darkChannel} / ${e.vars.palette.action.focusOpacity})`:nt(e.palette.primary.dark,e.palette.action.focusOpacity)}},{props:{action:"reorder-above"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderTop:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"reorder-below"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * var(--TreeView-itemDepth))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}},{props:{action:"move-to-parent"},style:{marginLeft:"calc(var(--TreeView-indentMultiplier) * calc(var(--TreeView-itemDepth) - 1))",borderBottom:`1px solid ${(e.vars||e).palette.action.active}`}}]}));function pp(e){return e.action==null?null:s.jsx(fp,v({},e))}const mp=ee("input",{name:"MuiTreeItem2",slot:"LabelInput",overridesResolver:(e,t)=>t.labelInput})(({theme:e})=>v({},e.typography.body1,{width:"100%",backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,border:"none",padding:"0 2px",boxSizing:"border-box","&:focus":{outline:`1px solid ${e.palette.primary.main}`}})),hp=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown","dragAndDropOverlayProps","labelInputProps"],No=g.forwardRef(function(t,n){const{classes:r,className:a,displayIcon:o,expansionIcon:i,icon:c,label:l,itemId:d,onClick:u,onMouseDown:f,dragAndDropOverlayProps:p,labelInputProps:y}=t,h=le(t,hp),{disabled:x,expanded:m,selected:b,focused:I,editing:S,editable:D,disableSelection:C,checkboxSelection:k,handleExpansion:P,handleSelection:w,handleCheckboxSelection:F,handleContentClick:N,preventSelection:M,expansionTrigger:A,toggleItemEditing:B}=Oo(d),T=c||i||o,E=g.useRef(null),j=J=>{M(J),f&&f(J)},L=J=>{var ae;N==null||N(J,d),!((ae=E.current)!=null&&ae.contains(J.target))&&(A==="content"&&P(J),k||w(J),u&&u(J))},U=J=>{J.defaultMuiPrevented||B()};return s.jsxs("div",v({},h,{className:ye(r.root,a,m&&r.expanded,b&&r.selected,I&&r.focused,x&&r.disabled,S&&r.editing,D&&r.editable),onClick:L,onMouseDown:j,ref:n,children:[s.jsx("div",{className:r.iconContainer,children:T}),k&&s.jsx(Sa,{className:r.checkbox,checked:b,onChange:F,disabled:x||C,ref:E,tabIndex:-1}),S?s.jsx(mp,v({},y,{className:r.labelInput})):s.jsx("div",v({className:r.label},D&&{onDoubleClick:U},{children:l})),p&&s.jsx(pp,v({},p))]}))});function gp(e){return Se("MuiTreeItem",e)}const pt=Ce("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label","checkbox","labelInput","editable","editing","dragAndDropOverlay"]),bp=ft(s.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),xp=ft(s.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function Lo(e){const{children:t,itemId:n}=e,{wrapItem:r,instance:a}=Gt();return r({children:t,itemId:n,instance:a})}Lo.propTypes={children:R.node,itemId:R.string.isRequired};const vp=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],yp=["ownerState"],Ip=["ownerState"],wp=["ownerState"],Sp=vo(),Cp=e=>{const{classes:t}=e;return Ie({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],checkbox:["checkbox"],label:["label"],labelInput:["labelInput"],editing:["editing"],editable:["editable"],groupTransition:["groupTransition"]},gp,t)},Pp=ee("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),Dp=ee(No,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${pt.iconContainer}`]:t.iconContainer},t.label&&{[`& .${pt.label}`]:t.label}],shouldForwardProp:e=>Ca(e)&&e!=="indentationAtItemLevel"})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",position:"relative",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${pt.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${pt.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${pt.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:nt(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:nt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:nt(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${pt.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:nt(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${pt.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${pt.label}`]:v({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1),[`& .${pt.checkbox}`]:{padding:0},variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:`calc(${e.spacing(1)} + var(--TreeView-itemChildrenIndentation) * var(--TreeView-itemDepth))`}}]})),kp=ee(ur,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition,shouldForwardProp:e=>Ca(e)&&e!=="indentationAtItemLevel"})({margin:0,padding:0,paddingLeft:"var(--TreeView-itemChildrenIndentation)",variants:[{props:{indentationAtItemLevel:!0},style:{paddingLeft:0}}]}),Mp=g.forwardRef(function(t,n){var st,Mt,De,We;const{icons:r,runItemPlugins:a,items:{disabledItemsFocusable:o,indentationAtItemLevel:i},selection:{disableSelection:c},expansion:{expansionTrigger:l},treeId:d,instance:u}=Gt(),f=g.useContext(hn),p=Sp({props:t,name:"MuiTreeItem"}),{children:y,className:h,slots:x,slotProps:m,ContentComponent:b=No,ContentProps:I,itemId:S,id:D,label:C,onClick:k,onMouseDown:P,onBlur:w,onKeyDown:F}=p,N=le(p,vp),{expanded:M,focused:A,selected:B,disabled:T,editing:E,handleExpansion:j,handleCancelItemLabelEditing:L,handleSaveItemLabel:U}=Oo(S),{contentRef:J,rootRef:ae,propsEnhancers:Q}=a(p),se=g.useRef(null),pe=g.useRef(null),fe=Le(n,ae,se),H=Le(I==null?void 0:I.ref,J,pe),W={expandIcon:(x==null?void 0:x.expandIcon)??r.slots.expandIcon??bp,collapseIcon:(x==null?void 0:x.collapseIcon)??r.slots.collapseIcon??xp,endIcon:(x==null?void 0:x.endIcon)??r.slots.endIcon,icon:x==null?void 0:x.icon,groupTransition:x==null?void 0:x.groupTransition},Y=ge=>Array.isArray(ge)?ge.length>0&&ge.some(Y):!!ge,$=Y(y),_=v({},p,{expanded:M,focused:A,selected:B,disabled:T,indentationAtItemLevel:i}),X=Cp(_),oe=W.groupTransition??void 0,re=ve({elementType:oe,ownerState:{},externalSlotProps:m==null?void 0:m.groupTransition,additionalProps:v({unmountOnExit:!0,in:M,component:"ul",role:"group"},i?{indentationAtItemLevel:!0}:{}),className:X.groupTransition}),O=ge=>{l==="iconContainer"&&j(ge)},q=M?W.collapseIcon:W.expandIcon,te=ve({elementType:q,ownerState:{},externalSlotProps:ge=>M?v({},xt(r.slotProps.collapseIcon,ge),xt(m==null?void 0:m.collapseIcon,ge)):v({},xt(r.slotProps.expandIcon,ge),xt(m==null?void 0:m.expandIcon,ge)),additionalProps:{onClick:O}}),G=le(te,yp),z=$&&q?s.jsx(q,v({},G)):null,V=$?void 0:W.endIcon,Z=ve({elementType:V,ownerState:{},externalSlotProps:ge=>$?{}:v({},xt(r.slotProps.endIcon,ge),xt(m==null?void 0:m.endIcon,ge))}),ie=le(Z,Ip),Pe=V?s.jsx(V,v({},ie)):null,ue=W.icon,me=ve({elementType:ue,ownerState:{},externalSlotProps:m==null?void 0:m.icon}),Ee=le(me,wp),Ae=ue?s.jsx(ue,v({},Ee)):null;let K;B?K=!0:c||T?K=void 0:K=!1;function he(ge){!A&&(!T||o)&&ge.currentTarget===ge.target&&u.focusItem(ge,S)}function Re(ge){var Oe,bt,Qt,Xt;w==null||w(ge),!(E||ge.relatedTarget&&sr(ge.relatedTarget,se.current)&&(ge.target&&((bt=(Oe=ge.target)==null?void 0:Oe.dataset)==null?void 0:bt.element)==="labelInput"&&sr(ge.target,se.current)||((Xt=(Qt=ge.relatedTarget)==null?void 0:Qt.dataset)==null?void 0:Xt.element)==="labelInput"))&&u.removeFocusedItem()}const Fe=ge=>{var Oe,bt;F==null||F(ge),((bt=(Oe=ge.target)==null?void 0:Oe.dataset)==null?void 0:bt.element)!=="labelInput"&&u.handleItemKeyDown(ge,S)},Ve=qn({itemId:S,treeId:d,id:D}),ze=u.canItemBeTabbed(S)?0:-1,Be={rootRefObject:se,contentRefObject:pe,interactions:{handleSaveItemLabel:U,handleCancelItemLabelEditing:L}},qe=((st=Q.root)==null?void 0:st.call(Q,v({},Be,{externalEventHandlers:Tr(N)})))??{},kt=((Mt=Q.content)==null?void 0:Mt.call(Q,v({},Be,{externalEventHandlers:Tr(I)})))??{},Ze=((De=Q.dragAndDropOverlay)==null?void 0:De.call(Q,v({},Be,{externalEventHandlers:{}})))??{},Je=((We=Q.labelInput)==null?void 0:We.call(Q,v({},Be,{externalEventHandlers:{}})))??{};return s.jsx(Lo,{itemId:S,children:s.jsxs(Pp,v({className:ye(X.root,h),role:"treeitem","aria-expanded":$?M:void 0,"aria-selected":K,"aria-disabled":T||void 0,id:Ve,tabIndex:ze},N,{ownerState:_,onFocus:he,onBlur:Re,onKeyDown:Fe,ref:fe,style:i?v({},N.style,{"--TreeView-itemDepth":typeof f=="function"?f(S):f}):N.style},qe,{children:[s.jsx(Dp,v({as:b,classes:{root:X.content,expanded:X.expanded,selected:X.selected,focused:X.focused,disabled:X.disabled,editable:X.editable,editing:X.editing,iconContainer:X.iconContainer,label:X.label,labelInput:X.labelInput,checkbox:X.checkbox},label:C,itemId:S,onClick:k,onMouseDown:P,icon:Ae,expansionIcon:z,displayIcon:Pe,ownerState:_},I,kt,Ze.action==null?{}:{dragAndDropOverlayProps:Ze},Je.value==null?{}:{labelInputProps:Je},{ref:H})),y&&s.jsx(kp,v({as:oe},re,{children:y}))]}))})}),Tp=({categorie:e,selectedStates:t,onCategorieChange:n})=>{const r=c=>{const l=t[c],d={...t};if(l!=null&&l.checked){delete d[c];const u=a(e,parseInt(c));u!=null&&u.children&&u.children.forEach(f=>{delete d[f.id.toString()]})}else{d[c]={checked:!0,partialChecked:!1};const u=a(e,parseInt(c));u!=null&&u.children&&u.children.forEach(f=>{d[f.id.toString()]={checked:!0,partialChecked:!1}})}n(d)},a=(c,l)=>{for(const d of c){if(d.id===l)return d;if(d.children){const u=a(d.children,l);if(u)return u}}return null},o=c=>{const l=[],d=u=>{u.children&&(u.children.some(p=>{var y,h;return((y=t[p.id.toString()])==null?void 0:y.checked)||((h=t[p.id.toString()])==null?void 0:h.partialChecked)})&&l.push(u.id.toString()),u.children.forEach(d))};return c.forEach(d),l},i=c=>c.map(l=>{const d=t[l.id.toString()];return s.jsx(Mp,{itemId:l.id.toString(),label:s.jsxs(de,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(Sa,{size:"small",checked:(d==null?void 0:d.checked)??!1,indeterminate:(d==null?void 0:d.partialChecked)??!1,onChange:()=>r(l.id.toString()),onClick:u=>u.stopPropagation(),sx:{mr:1}}),s.jsx(xe,{variant:"body2",children:l.name})]}),children:l.children&&l.children.length>0&&i(l.children)},l.id)});return s.jsx(ct,{fullWidth:!0,children:s.jsx(dp,{defaultExpandedItems:o(e),sx:{height:"auto",maxHeight:"500px",flexGrow:1,overflowY:"auto",border:"1px solid",borderColor:"divider",borderRadius:1,bgcolor:"background.paper"},children:i(e)})})},jp=e=>{const t=Xe();return Ke({mutationFn:async r=>{const a=new FormData;if(a.append("prodotto_id",r.prodotto_id),r.prodotto_immagine_principale&&a.append("immagine_principale",r.prodotto_immagine_principale),r.prodotto_immagini!=null&&r.prodotto_immagini.length>0)for(let o=0;o<r.prodotto_immagini.length;o++)r.prodotto_immagini[o]&&a.append(`immagini[${o}]`,r.prodotto_immagini[o]);if(r.prodotto_immagini!=null&&r.prodotto_immagini.length>0||r.prodotto_immagine_principale!=null){const o={"Content-Type":"multipart/form-data"};return _e.post("/prodotto/immagini-salva",a,{headers:o})}return Promise.resolve()},onSuccess:()=>{t.invalidateQueries({queryKey:["prodotto",e.toString()]})},onError:()=>{}})},Rp=({immagine:e,index:t,onDelete:n})=>{const[r,a]=g.useState(!1),{attributes:o,listeners:i,setNodeRef:c,transform:l,transition:d}=pa({id:e.src}),u={transform:ma.Transform.toString(l),transition:d,cursor:"grab"},f=p=>{p.preventDefault(),p.stopPropagation(),a(!0)};return s.jsxs(de,{ref:c,style:u,children:[s.jsxs(de,{position:"relative",display:"inline-block",children:[s.jsx(de,{...o,...i,position:"absolute",top:0,right:0,p:1,children:s.jsx(we,{icon:"eva:move-fill",sx:{cursor:"grab"}})}),s.jsx("img",{src:`https://api-xyzmars.accessoriportoni.express/front/${e.src}`,alt:`Immagine ${t}`,style:{objectFit:"cover",width:"100px",height:"100px",cursor:"pointer"},className:"img-generica",onClick:f}),s.jsx(ht,{color:"error",size:"small",style:{position:"absolute",bottom:"10px",left:"10px"},onClick:p=>{p.preventDefault(),p.stopPropagation(),confirm("Sei sicuro di voler eliminare questa immagine?")&&n(e)},children:s.jsx(we,{icon:"eva:trash-2-outline"})})]}),s.jsx(dn,{title:`Immagine ${t+1}`,open:r,onClose:()=>a(!1),maxWidth:"md",children:s.jsx(de,{sx:{display:"flex",justifyContent:"center",alignItems:"center",p:2,bgcolor:"background.paper",borderRadius:1},children:s.jsx("img",{src:`https://api-xyzmars.accessoriportoni.express/front/${e.src}`,alt:`Immagine ${t}`,style:{maxWidth:"100%",maxHeight:"80vh",objectFit:"contain"}})})})]})};function Vp(e,t=null,n){const r=Xe();return Ke({mutationFn:async()=>(await _e.post("/prodotto-singolo-import",{id_w:e,sync:t})).data,onSuccess:()=>{r.invalidateQueries({queryKey:["prodotto",n.toString()]}),r.invalidateQueries({queryKey:["variazioni",n.toString()]})}})}function Np({prodotto:e,onDelete:t,onSync:n,loading:r=!1,errors:a=[]}){var ie,Pe,ue,me,Ee,Ae;const{register:o,handleSubmit:i,formState:{errors:c},setValue:l,reset:d,watch:u}=Bn({defaultValues:{name:(e==null?void 0:e.name)||"",sku:(e==null?void 0:e.sku)||"",type:e==null?void 0:e.type,status:e==null?void 0:e.status,stock_status:e==null?void 0:e.stock_status,on_sale:(e==null?void 0:e.on_sale)||!1,slug:(e==null?void 0:e.slug)||"",shipping_class:(e==null?void 0:e.shipping_class)||"",manage_stock:(e==null?void 0:e.manage_stock)||!1,stock_quantity:(e==null?void 0:e.stock_quantity)||0,regular_price:(e==null?void 0:e.regular_price)||"",sale_price:(e==null?void 0:e.sale_price)||"",price:(e==null?void 0:e.price)||"",date_on_sale_from:(e==null?void 0:e.date_on_sale_from)||void 0,date_on_sale_to:(e==null?void 0:e.date_on_sale_to)||void 0,meta_title:(e==null?void 0:e.meta_title)||"",meta_description:(e==null?void 0:e.meta_description)||"",short_description:(e==null?void 0:e.short_description)||"",description:(e==null?void 0:e.description)||"",categorie_id:(e==null?void 0:e.categorie_id)||[],tags_id:(e==null?void 0:e.tags_id)||[],immagini_nomi:(e==null?void 0:e.immagini_nomi)||[],id_w:(e==null?void 0:e.id_w)||null,deleted:(e==null?void 0:e.deleted)||!1,id:(e==null?void 0:e.id)||void 0,permalink:(e==null?void 0:e.permalink)||"",abilitato:(e==null?void 0:e.abilitato)||!0,prezzo_variazioni_uniforme:(e==null?void 0:e.prezzo_variazioni_uniforme)||!0,immagini_nomi_string:Array.isArray(e==null?void 0:e.immagini_nomi)?e==null?void 0:e.immagini_nomi.join(","):(e==null?void 0:e.immagini_nomi)||""}});g.useEffect(()=>{e&&d(e)},[e,d]);const f=vs(),p=u("type"),y=u("manage_stock"),h=[{name:"Variabile",value:"variable"},{name:"Semplice",value:"simple"}],x=[{name:"Pubblicato",value:"publish"},{name:"Privato",value:"private"},{name:"Bozza",value:"draft"}],m=[{name:"Disponibile",value:"instock"},{name:"Esaurito",value:"outofstock"},{name:"Permette ordini arretrati",value:"onbackorder"}],{data:b}=gi(),{data:I,isFetching:S,isRefetching:D}=ys(),{rimuoviImmagine:C,isLoading:k}=bi(e==null?void 0:e.id),{mutate:P,isPending:w}=xi(),{mutate:F,isPending:N}=vi(e==null?void 0:e.id),{mutate:M,isPending:A}=mi(e==null?void 0:e.id),{mutate:B,isPending:T}=jp(e==null?void 0:e.id),{mutate:E,isPending:j}=Vp(e==null?void 0:e.id_w,null,e==null?void 0:e.id),[L,U]=g.useState([]),J=g.useRef(null),[ae,Q]=g.useState((e==null?void 0:e.short_description)||""),[se,pe]=g.useState((e==null?void 0:e.description)||""),[fe,H]=g.useState(!1),[W,Y]=g.useState(!1);g.useEffect(()=>{l("short_description",ae)},[ae,l]),g.useEffect(()=>{l("description",se)},[se,l]);const $={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{color:[]},{background:[]}],["link","image"],["clean"]]},_=(K,he)=>{M({force:he}),t&&t(K,he)},X=K=>{const he={"Azioni prodotto":"#fff","Categorie, Tag":"#fff",Prezzi:"#fff",Immagini:"#fff",Magazzino:"#fff",SEO:"#fff"},Re={"Azioni prodotto":"primary.main","Categorie, Tag":"success.main",Prezzi:"warning.main",Immagini:"secondary.main",Magazzino:"info.main",SEO:"error.main"};return{borderRadius:2,mb:2,"& .MuiAccordionSummary-root":{backgroundColor:he[K],borderRadius:"8px 8px 0 0",transition:"all 0.2s ease-in-out",margin:"0px !important",paddingY:"0px !important",paddingX:"10px !important","& .MuiTypography-root":{fontWeight:600,color:Fe=>Fe.palette[Re[K]]}},"& .MuiAccordionDetails-root":{paddingY:"0px !important",paddingX:"10px !important"}}},oe=async()=>{L.length>0&&(e!=null&&e.id)&&(B({prodotto_id:e.id.toString(),prodotto_immagine_principale:L[0],prodotto_immagini:L.slice(0)}),U([]))},re=async K=>{e!=null&&e.id&&await C(K.id)},O=async()=>{e!=null&&e.id_w&&(E(),n&&n())};g.useEffect(()=>{L.length>0&&(e!=null&&e.id)},[L,e==null?void 0:e.id]);const q=u("categorie_id"),te=()=>(u("date_on_sale_from")||u("date_on_sale_to"))&&!u("sale_price")?(alert('Inserisci prezzo sconto se è stato selezionato "Sconto DA" o "Sconto A"'),!1):!0,G=K=>{if(!te())return;if(!(Object.keys(c).length===0)){window.scrollTo({top:0,behavior:"smooth"});return}if((e==null?void 0:e.deleted)===!0&&!window.confirm("Il prodotto non è presente su Woocomerce. Vuoi procedere con la pubblicazione su Woocomerce?"))return;const Re={...K,immagini_nomi:K.immagini_nomi_string.split(",")};(async()=>{e!=null&&e.id?F({id:e.id.toString(),data:Re}):P(Re),a.length===0&&(n&&n(),L.length>0&&(e!=null&&e.id)&&await oe())})()},z=K=>{K.preventDefault(),i(G)()},V=ha(On(xa),On(ba,{coordinateGetter:ga})),Z=K=>{const{active:he,over:Re}=K;if(he.id!==Re.id){const Fe=e==null?void 0:e.immagini.findIndex(ze=>ze.src===he.id),Ve=e==null?void 0:e.immagini.findIndex(ze=>ze.src===Re.id);if(Fe!==void 0&&Ve!==void 0&&(e!=null&&e.immagini)){const ze=wa(e.immagini,Fe,Ve),Be=ze.map(qe=>qe.src);l("immagini_nomi",Be),l("immagini_nomi_string",Be.join(",")),e&&(e.immagini=[...ze],e.immagini_nomi=[...Be])}}};return g.useEffect(()=>{(async()=>{e!=null&&e.id_w&&E()})()},[e==null?void 0:e.id_w]),s.jsxs(de,{children:[s.jsxs(de,{sx:{position:"sticky",top:0,zIndex:1100,backgroundColor:"background.paper",borderColor:"divider",py:2,px:2.5,display:"flex",justifyContent:"space-between",alignItems:"center",mb:0},children:[s.jsx(xe,{variant:"h4",maxWidth:600,children:e!=null&&e.id?e.name:"Nuovo prodotto"}),s.jsx(de,{display:"flex",gap:2,children:r||j||k||w||N||A||T?s.jsxs(de,{display:"flex",alignItems:"center",children:[s.jsx(xe,{variant:"body2",mr:1,children:"Aggiornamento prodotto"}),s.jsx(Kt,{size:20})]}):s.jsxs(s.Fragment,{children:[s.jsx(ke,{variant:"outlined",startIcon:s.jsx(we,{icon:"eva:arrow-back-fill"}),onClick:()=>f("/prodotti"),children:"Lista prodotti"}),(e==null?void 0:e.id)&&s.jsx(ke,{variant:"outlined",component:"a",href:e.permalink,target:"_blank",startIcon:s.jsx("i",{className:"pi pi-eye"}),children:"Vedi Prodotto"}),e!=null&&e.id&&e.status==="trash"&&!e.deleted?s.jsx(ke,{type:"submit",variant:"contained",color:"primary",startIcon:s.jsx("i",{className:"pi pi-save"}),onClick:z,children:"Ripristina Prodotto"}):s.jsx(ke,{type:"submit",variant:"contained",color:"primary",startIcon:s.jsx("i",{className:"pi pi-save"}),onClick:z,children:e!=null&&e.deleted?"Pubblica prodotto":"Salva Prodotto"})]})})]}),s.jsxs(ir,{sx:{px:2,mb:4},children:[s.jsxs(de,{className:"card-header",mb:3,children:[(e==null?void 0:e.id)&&s.jsxs(yt,{sx:X("Azioni prodotto"),children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Azioni prodotto"})}),s.jsx(It,{children:s.jsxs(de,{display:"flex",justifyContent:"flex-end",children:[s.jsxs(de,{children:[e.id&&(e.status==="trash"||e.deleted)&&s.jsx(ke,{sx:{mr:2},variant:"contained",color:"error",startIcon:s.jsx("i",{className:"pi pi-trash"}),onClick:()=>_&&_(e.id.toString(),!0),children:"Elimina definitivamente prodotto"}),e.id&&e.status!=="trash"&&!e.deleted&&s.jsx(ke,{sx:{mr:2},variant:"contained",color:"error",startIcon:s.jsx("i",{className:"pi pi-trash"}),onClick:()=>_&&_(e.id.toString(),!1),children:"Sposta prodotto nel cestino"})]}),s.jsxs(de,{children:[!e.deleted&&s.jsxs(s.Fragment,{children:[s.jsx(ke,{variant:"outlined",startIcon:s.jsx("i",{className:"pi pi-sync"}),onClick:O,sx:{mr:2},children:"Sync prodotto"}),s.jsx(ke,{variant:"outlined",onClick:()=>H(!0),startIcon:s.jsx(we,{icon:"eva:list-fill"}),sx:{mr:2},children:"Gestisci Categorie"})]}),e.deleted&&s.jsx(de,{display:"flex",alignItems:"center",pt:2,children:"Nessuna azione disponibile"})]})]})})]}),(e==null?void 0:e.id)&&s.jsxs(s.Fragment,{children:[s.jsx(de,{mb:1,mt:2,children:s.jsxs(xe,{children:[s.jsx("b",{children:"Pubblicazione"}),": ",e.created_at_con_ora]})}),s.jsx(de,{mb:1,children:s.jsxs(xe,{children:[s.jsx("b",{children:"Modifica"}),": ",e.updated_at_con_ora]})}),s.jsx(de,{mb:1,children:s.jsxs(xe,{children:[s.jsx("b",{children:"ID gestionale"}),": ",e.id]})}),s.jsx(de,{mb:2,children:s.jsxs(xe,{children:[s.jsx("b",{children:"ID Woocommerce"}),": ",e.id_w]})}),s.jsxs(de,{display:"flex",flexWrap:"wrap",gap:2,mb:3,children:[e.deleted?s.jsx(it,{title:"Non presente su Woocommerce ⚠",color:"error"}):s.jsx(it,{title:"Presente su Woocommerce ✓",color:"success"}),e.status==="publish"?s.jsx(it,{title:"Pubblicato",color:"success"}):e.status==="draft"?s.jsx(it,{title:"Bozza",color:"warning"}):null,e.stock_status==="instock"?s.jsx(it,{title:"Stock",color:"success"}):e.stock_status==="onbackorder"?s.jsx(it,{title:"Ordini arretrati",color:"warning"}):e.stock_status==="outofstock"?s.jsx(it,{title:"Out of stock",color:"error"}):null,e.status==="trash"&&!e.deleted&&s.jsx(it,{title:"Prodotto nel cestino",color:"warning"}),e.on_sale===!0&&s.jsx(it,{title:"In saldo",color:"info"})]})]})]}),s.jsxs("form",{onSubmit:z,noValidate:!0,style:{width:"100%"},children:[a.length>0&&s.jsx(er,{severity:"error",sx:{mb:3},children:s.jsx("ul",{children:a.map((K,he)=>s.jsx("li",{children:K},he))})}),s.jsxs(ce,{container:!0,spacing:3,children:[s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsx(je,{fullWidth:!0,required:!0,label:"SKU",id:"sku",sx:{"& .MuiOutlinedInput-root":{borderWidth:2,borderColor:"#000"}},...o("sku"),error:!!c.sku,helperText:(ie=c.sku)==null?void 0:ie.message})}),s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsx(je,{fullWidth:!0,required:!0,label:"Nome",id:"name",...o("name",{required:"Il nome è obbligatorio"}),error:!!c.name,helperText:(Pe=c.name)==null?void 0:Pe.message})}),s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{id:"type-label",children:"Tipo di prodotto"}),s.jsx(Et,{labelId:"type-label",id:"type",label:"Tipo di prodotto",defaultValue:(e==null?void 0:e.type)||"simple",...o("type"),children:h.map(K=>s.jsx(rt,{value:K.value,children:K.name},K.value))})]})}),s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsx(je,{fullWidth:!0,label:"Slug",id:"slug",placeholder:"Lo slug verrà compilato in automatico",...o("slug")})}),s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{id:"status-label",children:"Stato prodotto"}),s.jsx(Et,{labelId:"status-label",id:"status",defaultValue:(e==null?void 0:e.status)||"publish",label:"Stato prodotto",...o("status"),children:x.map(K=>s.jsx(rt,{value:K.value,children:K.name},K.value))})]})}),s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsx(je,{fullWidth:!0,label:"Classe di spedizione",id:"shipping_class",...o("shipping_class")})}),s.jsx(ce,{item:!0,xs:12,md:6,children:s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{id:"tags-label",children:"Tags"}),s.jsx(Et,{labelId:"tags-label",id:"tags_id",label:"Tags",multiple:!0,defaultValue:((ue=e==null?void 0:e.tags_id)==null?void 0:ue.map(K=>K.toString()))||[],renderValue:K=>s.jsx(de,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:K.map(he=>{var Re;return s.jsx(xn,{label:((Re=I==null?void 0:I.find(Fe=>Fe.id.toString()===he))==null?void 0:Re.name)||he},he)})}),...o("tags_id"),children:I==null?void 0:I.map(K=>s.jsx(rt,{value:K.id.toString(),children:K.name},K.id))})]})}),s.jsxs(ce,{item:!0,xs:12,md:6,mt:1,children:[s.jsx(ke,{fullWidth:!0,variant:"outlined",onClick:()=>H(!0),startIcon:s.jsx(we,{icon:"eva:list-fill"}),children:"Gestisci Categorie"}),s.jsx(dn,{title:"Gestione Categorie",open:fe,onClose:()=>H(!1),maxWidth:"xs",children:s.jsxs(de,{sx:{p:2},children:[s.jsx(ct,{fullWidth:!0,children:s.jsx(Tp,{categorie:b||[],selectedStates:q?typeof q=="object"&&!Array.isArray(q)?q:Array.isArray(q)?q.reduce((K,he)=>({...K,[he]:{checked:!0,partialChecked:!1}}),{}):{}:{},onCategorieChange:K=>{const he=Object.entries(K).reduce((Re,[Fe,Ve])=>((Ve.checked||Ve.partialChecked)&&(Re[Fe]={checked:!!Ve.checked,partialChecked:!!Ve.partialChecked}),Re),{});l("categorie_id",he)}})}),s.jsx(ke,{sx:{mt:2},fullWidth:!0,variant:"contained",onClick:()=>H(!1),children:"OK, ho selezionato le categorie"})]})})]}),p==="simple"&&s.jsx(ce,{item:!0,xs:12,mt:0,sx:{paddingTop:"0px !important"},children:s.jsxs(yt,{defaultExpanded:!0,sx:X("Prezzi"),children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Prezzi"})}),s.jsx(It,{children:s.jsxs(ce,{container:!0,spacing:3,children:[s.jsx(ce,{item:!0,xs:12,md:2,children:s.jsx(Ft,{customInput:je,fullWidth:!0,thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,value:u("regular_price"),onValueChange:K=>{l("regular_price",K.value)},label:"Listino",InputProps:{endAdornment:"€"},...o("regular_price")})}),s.jsx(ce,{item:!0,xs:12,md:2,children:s.jsx(Ft,{customInput:je,fullWidth:!0,thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,value:u("sale_price"),label:"Sconto",InputProps:{endAdornment:"€"},onValueChange:K=>{l("sale_price",K.value)},...o("sale_price")})}),s.jsx(ce,{item:!0,xs:12,md:2,children:s.jsx(Ft,{customInput:je,fullWidth:!0,thousandSeparator:".",decimalSeparator:",",decimalScale:2,fixedDecimalScale:!0,value:u("price"),label:"Vendita",InputProps:{endAdornment:"€"},disabled:!0,...o("price")})}),s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Kr,{label:"Data inizio sconto",format:"DD-MM-YYYY",value:u("date_on_sale_from")?Cn(u("date_on_sale_from"),"DD-MM-YYYY"):null,onChange:K=>{l("date_on_sale_from",K?Cn(K).format("DD-MM-YYYY"):"")},slotProps:{textField:{fullWidth:!0,error:!!c.date_on_sale_from},field:{clearable:!0}}})}),s.jsx(ce,{item:!0,xs:12,md:3,children:s.jsx(Kr,{format:"DD-MM-YYYY",label:"Pianifica sconto a",value:u("date_on_sale_to")?Cn(u("date_on_sale_to"),"DD-MM-YYYY"):null,onChange:K=>{l("date_on_sale_to",K?Cn(K).format("DD-MM-YYYY"):"")},slotProps:{textField:{fullWidth:!0,error:!!c.date_on_sale_to,helperText:(me=c.date_on_sale_to)==null?void 0:me.message},field:{clearable:!0}}})})]})})]})}),s.jsx(ce,{item:!0,xs:12,pt:0,sx:{paddingTop:"0px !important"},children:s.jsxs(yt,{defaultExpanded:!0,sx:X("Immagini"),children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Immagini"})}),s.jsx(It,{children:s.jsxs(ce,{container:!0,spacing:3,children:[s.jsxs(ce,{item:!0,xs:12,children:[s.jsxs(xe,{gutterBottom:!0,children:["Nomi immagini separati da ",s.jsx("b",{children:'","'})]}),s.jsx(je,{fullWidth:!0,placeholder:"example.jpg,example2.jpg",...o("immagini_nomi_string")})]}),(e==null?void 0:e.immagini)&&((Ee=e==null?void 0:e.immagini)==null?void 0:Ee.length)>0&&s.jsx(ce,{item:!0,xs:12,children:s.jsx(va,{sensors:V,collisionDetection:ya,onDragEnd:Z,children:s.jsx(de,{display:"flex",flexWrap:"wrap",gap:2,mb:3,children:s.jsx(Ia,{items:u("immagini_nomi")||[],children:e==null?void 0:e.immagini.map((K,he)=>s.jsx(Rp,{immagine:K,index:he,onDelete:re},K.src))})})})}),s.jsxs(ce,{item:!0,xs:12,children:[s.jsx(ke,{variant:"contained",onClick:()=>Y(!0),startIcon:s.jsx(we,{icon:"eva:cloud-upload-fill"}),children:"Carica immagini"}),L.length>0&&s.jsxs(de,{mt:2,children:[s.jsx(xe,{children:"File selezionati:"}),s.jsx("ul",{children:L.map((K,he)=>s.jsx("li",{children:K.name},he))})]}),s.jsxs(dn,{title:"Carica Immagini",open:W,onClose:()=>Y(!1),maxWidth:"md",children:[s.jsxs(de,{sx:{border:"2px dashed",borderColor:"divider",borderRadius:1,p:3,textAlign:"center",cursor:"pointer","&:hover":{borderColor:"primary.main",bgcolor:"action.hover"}},onDrop:K=>{K.preventDefault(),K.dataTransfer.files&&U(Array.from(K.dataTransfer.files))},onDragOver:K=>{K.preventDefault()},onClick:()=>{var K;return(K=J.current)==null?void 0:K.click()},children:[s.jsx("input",{type:"file",hidden:!0,multiple:!0,accept:"image/*",onChange:K=>{K.target.files&&U(Array.from(K.target.files))},ref:J}),s.jsx(we,{icon:"eva:cloud-upload-fill",width:40,height:40,sx:{mb:2}}),s.jsx(xe,{variant:"h6",gutterBottom:!0,children:"Trascina le immagini qui o clicca per selezionarle"}),s.jsx(xe,{variant:"body2",color:"text.secondary",children:"Supporta immagini JPG, PNG e GIF"}),L.length>0&&s.jsxs(de,{mt:3,children:[s.jsx(xe,{variant:"subtitle2",gutterBottom:!0,children:"File selezionati:"}),L.map((K,he)=>s.jsxs(de,{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,children:[s.jsx(xe,{variant:"body2",children:K.name}),s.jsx(ht,{size:"small",onClick:Re=>{Re.stopPropagation(),U(Fe=>Fe.filter((Ve,ze)=>ze!==he))},children:s.jsx(we,{icon:"eva:close-fill"})})]},he))]})]}),s.jsxs(de,{sx:{display:"flex",justifyContent:"flex-end",mt:3,gap:2},children:[s.jsx(ke,{onClick:()=>Y(!1),variant:"outlined",children:"Annulla"}),s.jsx(ke,{variant:"contained",onClick:()=>{oe(),Y(!1)},disabled:L.length===0||k||T,startIcon:k||T?s.jsx(Kt,{size:20}):null,children:"Conferma upload"})]})]})]})]})})]})}),s.jsx(ce,{item:!0,xs:12,pt:0,sx:{paddingTop:"0px !important"},children:s.jsxs(yt,{sx:X("Magazzino"),defaultExpanded:!0,children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"Magazzino"})}),s.jsx(It,{children:s.jsxs(ce,{container:!0,spacing:3,children:[p==="simple"&&s.jsxs(ce,{item:!0,xs:12,md:2,children:[s.jsx(xe,{gutterBottom:!0,children:"Gestione magazzino"}),s.jsx(_t,{...o("manage_stock"),defaultChecked:(e==null?void 0:e.manage_stock)||!1})]}),p==="simple"&&y&&s.jsx(ce,{item:!0,xs:12,md:2,children:s.jsx(je,{fullWidth:!0,label:"Quantità in magazzino",type:"number",...o("stock_quantity")})}),!y&&s.jsx(ce,{item:!0,xs:12,md:2,children:s.jsxs(ct,{fullWidth:!0,children:[s.jsx(Ct,{id:"stock-status-label",children:"Stato Stock"}),s.jsx(Et,{labelId:"stock-status-label",id:"stock_status",label:"Stato Stock",defaultValue:(e==null?void 0:e.stock_status)||"instock",...o("stock_status"),children:m.map(K=>s.jsx(rt,{value:K.value,children:K.name},K.value))})]})})]})})]})}),s.jsx(ce,{item:!0,xs:12,pt:0,sx:{paddingTop:"0px !important"},children:s.jsxs(yt,{sx:X("SEO"),defaultExpanded:!0,children:[s.jsx(wt,{expandIcon:s.jsx(we,{icon:"eva:arrow-ios-downward-fill"}),children:s.jsx(xe,{children:"SEO"})}),s.jsx(It,{children:s.jsxs(ce,{container:!0,spacing:3,children:[s.jsx(ce,{item:!0,xs:12,children:s.jsx(je,{fullWidth:!0,label:"Meta title",...o("meta_title")})}),s.jsx(ce,{item:!0,xs:12,children:s.jsx(je,{fullWidth:!0,label:"Meta description (max 155-160 caratteri)",...o("meta_description")})})]})})]})}),s.jsxs(ce,{item:!0,xs:12,pt:0,children:[s.jsx(xe,{variant:"subtitle1",gutterBottom:!0,children:"Descrizione Breve"}),s.jsx(de,{sx:{borderRadius:1,mb:2,".ql-container":{borderBottomLeftRadius:1,borderBottomRightRadius:1},".ql-toolbar":{borderTopLeftRadius:1,borderTopRightRadius:1,backgroundColor:"rgba(0, 0, 0, 0.03)"}},children:s.jsx(jr,{value:ae,onChange:Q,modules:$,placeholder:"Inserisci una descrizione breve...",theme:"snow",style:{height:"150px",marginBottom:"50px"}})})]}),s.jsxs(ce,{item:!0,xs:12,children:[s.jsx(xe,{variant:"subtitle1",gutterBottom:!0,children:"Descrizione completa"}),s.jsx(de,{sx:{borderRadius:1,mb:2,".ql-container":{borderBottomLeftRadius:1,borderBottomRightRadius:1,minHeight:"300px"},".ql-toolbar":{borderTopLeftRadius:1,borderTopRightRadius:1,backgroundColor:"rgba(0, 0, 0, 0.03)"}},children:s.jsx(jr,{value:se,onChange:pe,modules:$,placeholder:"Inserisci una descrizione completa...",theme:"snow",style:{height:"300px",marginBottom:"50px"}})})]})]})]})]}),(e==null?void 0:e.id)&&s.jsxs(de,{mt:4,id:"attributi-explode",children:[s.jsx(er,{severity:"warning",sx:{mb:3},children:s.jsxs(xe,{align:"center",children:[s.jsx("b",{children:"Salvare"})," le modifiche al prodotto prima di gestire Attributi e Variazioni"]})}),s.jsx(de,{mt:3,children:s.jsx(Xd,{isLoading:r,prodotto_id:e==null?void 0:e.id,prodotto_id_w:e==null?void 0:e.id_w,prodotto:e,prodotto_attributi:e==null?void 0:e.prodotto_attributi})}),((Ae=e.prodotto_attributi)==null?void 0:Ae.filter(K=>K.abilitato_per_variazioni===!0).length)>0?s.jsx(de,{mt:3,mb:3,children:p==="variable"&&s.jsx(Rf,{prodotto_id:e.id,prodotto_id_w:e.id_w,prodotto:e})}):p==="variable"&&s.jsx(er,{severity:"info",sx:{mt:5},children:s.jsxs(xe,{align:"center",children:[s.jsx("b",{children:"Non puoi gestire le variazioni"})," perché non sono presenti Attributi che usano le Variazioni"]})})]})]})}export{Np as P,mi as u};
