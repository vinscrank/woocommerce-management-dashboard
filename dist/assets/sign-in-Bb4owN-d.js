import{l as E,k as R,s as C,h as F,o as x,A as f,r as e,ah as W,ai as k,x as z,_ as D,aj as M,j as t,E as U,a9 as A,ak as T,d as _,B as j,T as y,R as B,U as N,a4 as G,I as H,H as S,g as O}from"./index-DXEjXkez.js";function V(o){return R("MuiLoadingButton",o)}const a=E("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),q=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],J=o=>{const{loading:n,loadingPosition:i,classes:r}=o,l={root:["root",n&&"loading"],startIcon:[n&&`startIconLoading${f(i)}`],endIcon:[n&&`endIconLoading${f(i)}`],loadingIndicator:["loadingIndicator",n&&`loadingIndicator${f(i)}`]},s=U(l,V,r);return x({},r,s)},K=o=>o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"&&o!=="classes",Q=C(F,{shouldForwardProp:o=>K(o)||o==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(o,n)=>[n.root,n.startIconLoadingStart&&{[`& .${a.startIconLoadingStart}`]:n.startIconLoadingStart},n.endIconLoadingEnd&&{[`& .${a.endIconLoadingEnd}`]:n.endIconLoadingEnd}]})(({ownerState:o,theme:n})=>x({[`& .${a.startIconLoadingStart}, & .${a.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},o.loadingPosition==="center"&&{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${a.loading}`]:{color:"transparent"}},o.loadingPosition==="start"&&o.fullWidth&&{[`& .${a.startIconLoadingStart}, & .${a.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}},o.loadingPosition==="end"&&o.fullWidth&&{[`& .${a.startIconLoadingStart}, & .${a.endIconLoadingEnd}`]:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}})),X=C("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(o,n)=>{const{ownerState:i}=o;return[n.loadingIndicator,n[`loadingIndicator${f(i.loadingPosition)}`]]}})(({theme:o,ownerState:n})=>x({position:"absolute",visibility:"visible",display:"flex"},n.loadingPosition==="start"&&(n.variant==="outlined"||n.variant==="contained")&&{left:n.size==="small"?10:14},n.loadingPosition==="start"&&n.variant==="text"&&{left:6},n.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(o.vars||o).palette.action.disabled},n.loadingPosition==="end"&&(n.variant==="outlined"||n.variant==="contained")&&{right:n.size==="small"?10:14},n.loadingPosition==="end"&&n.variant==="text"&&{right:6},n.loadingPosition==="start"&&n.fullWidth&&{position:"relative",left:-10},n.loadingPosition==="end"&&n.fullWidth&&{position:"relative",right:-10})),Y=e.forwardRef(function(n,i){const r=e.useContext(W),l=k(r,n),s=z({props:l,name:"MuiLoadingButton"}),{children:c,disabled:g=!1,id:L,loading:u=!1,loadingIndicator:p,loadingPosition:d="center",variant:h="text"}=s,$=D(s,q),m=M(L),P=p??t.jsx(A,{"aria-labelledby":m,color:"inherit",size:16}),I=x({},s,{disabled:g,loading:u,loadingIndicator:P,loadingPosition:d,variant:h}),b=J(I),v=u?t.jsx(X,{className:b.loadingIndicator,ownerState:I,children:P}):null;return t.jsxs(Q,x({disabled:g||u,id:m,ref:i},$,{variant:h,classes:b,ownerState:I,children:[I.loadingPosition==="end"?c:v,I.loadingPosition==="end"?v:c]}))});function Z(){const o=T(),{login:n}=_(),[i,r]=e.useState(!1),[l,s]=e.useState(!1),[c,g]=e.useState(""),L=e.useCallback(async p=>{p.preventDefault(),s(!0),g("");try{const d=new FormData(p.currentTarget),h={email:d.get("email"),password:d.get("password")};await n(h),o.push("/")}catch(d){g("Credenziali non valide"),console.error(d)}finally{s(!1)}},[o,n]),u=t.jsxs(j,{component:"form",onSubmit:L,display:"flex",flexDirection:"column",alignItems:"flex-end",children:[t.jsx(B,{fullWidth:!0,name:"email",label:"Email address",InputLabelProps:{shrink:!0},sx:{mb:3}}),t.jsx(B,{fullWidth:!0,name:"password",label:"Password",InputLabelProps:{shrink:!0},type:i?"text":"password",InputProps:{endAdornment:t.jsx(N,{position:"end",children:t.jsx(G,{onClick:()=>r(!i),edge:"end",children:t.jsx(H,{icon:i?"solar:eye-bold":"solar:eye-closed-bold"})})})},sx:{mb:3}}),c&&t.jsx(y,{color:"error",sx:{mb:2,alignSelf:"flex-start"},children:c}),t.jsx(Y,{fullWidth:!0,size:"large",type:"submit",color:"inherit",variant:"contained",loading:l,children:"Sign in"})]});return t.jsxs(t.Fragment,{children:[t.jsx(j,{gap:1.5,display:"flex",flexDirection:"column",alignItems:"center",sx:{mb:5},children:t.jsx(y,{variant:"h5",children:"Login"})}),u]})}function nn(){return t.jsxs(t.Fragment,{children:[t.jsx(S,{children:t.jsxs("title",{children:[" ",`Sign in  | v3 - ${O.appName}`]})}),t.jsx(Z,{})]})}export{nn as default};
